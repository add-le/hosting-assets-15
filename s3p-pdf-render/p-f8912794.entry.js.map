{"version":3,"names":["proformaInvoiceCss","ProformaInvoice","getPFMLogo","getKeyroadLogo","formatPrice","value","toFixed","renderOrder","order","h","label","this","unitPriceHT","quantity","totalHT","totalTVA","totalTTC","renderBankDetails","bankDetails","class","bankName","rib","iban","bic","renderCompanyDetails","companyDetails","companyName","address","postalCode","city","country","phone","website","href","renderSupplierDetails","supplierDetails","supplierName","email","siret","tvaIntra","render","src","height","alt","billingDetails","reference","emitDate","ordersDetails","map","paymentDetails","tva","amount","dueDate","paymentMethod"],"sources":["./src/components/proforma-invoice/proforma-invoice.css?tag=s3p-proforma-invoice&encapsulation=shadow","./src/components/proforma-invoice/proforma-invoice.tsx"],"sourcesContent":[".invoice-container {\n    font-family: Arial, sans-serif;\n    padding: 20px;\n    border: 1px solid #e2e8f0;\n    border-radius: 5px;\n    max-width: 800px;\n    margin: 0 auto;\n}\n\nh1 {\n    font-size: 24px;\n    font-weight: bold;\n    margin-bottom: 20px;\n    text-align: center;\n}\n\nsection {\n    margin-bottom: 20px;\n}\n\n.document-title {\n    margin-top: 4rem;\n    margin-bottom: 2rem;\n}\n\n.billing-details {\n    width: 30%;\n    float: right;\n    text-align: right;\n    line-height: 0.4;\n    font-size: small;\n}\n\n.supplier-company-details address {\n    display: inline-block;\n    width: 30%;\n    vertical-align: top;\n}\n\n.company-name,\n.supplier-name {\n    font-size: large;\n    font-weight: bold;\n    margin-top: 0;\n    margin-bottom: 1rem;\n}\n\n.company-details,\n.supplier-details {\n    font-size: small;\n}\n\n.company-details-container {\n    float: right;\n}\n\naddress {\n    font-style: normal;\n    margin-bottom: 10px;\n}\n\ntable {\n    width: 100%;\n    border-collapse: collapse;\n    margin-bottom: 20px;\n}\n\ntable th,\ntable td {\n    border: 1px solid #e2e8f0;\n    padding: 8px 12px;\n    text-align: left;\n}\n\ntable th {\n    background-color: #f7fafc;\n    font-weight: bold;\n}\n\nh2 {\n    font-size: 18px;\n    font-weight: bold;\n    margin-bottom: 10px;\n}\n\nfooter p {\n    font-size: 12px;\n    color: #4a5568;\n    margin-bottom: 6px;\n}\n\na {\n    color: #3182ce;\n    text-decoration: none;\n}\n\na:hover {\n    text-decoration: underline;\n}\n\n.bank-payment-container {\n    height: 200px;\n}\n\n.bank-payment-container section {\n    display: inline-block;\n    width: 30%;\n    vertical-align: top;\n}\n\n.bank-details,\n.payment-details {\n    font-size: small;\n}\n\n.payment-details {\n    float: right;\n}\n\n.legal-details {\n    font-size: 10px;\n    color: #4a5568;\n    margin-bottom: 6px;\n    text-align: center;\n    margin-top: 3rem;\n}\n\n.label-billing-to {\n    margin-top: 0;\n    margin-bottom: 0;\n    text-decoration: underline;\n}","import { Component, Prop, h } from '@stencil/core';\n\nexport type BillingDetails = {\n  emitDate: string;\n  reference?: string;\n};\n\nexport type CompanyDetails = {\n  companyName: string;\n  address: string;\n  postalCode: string;\n  city: string;\n  country: string;\n  phone: string;\n  website?: string;\n};\n\nexport type SupplierDetails = {\n  supplierName: string;\n  address: string;\n  postalCode: string;\n  city: string;\n  country: string;\n  phone: string;\n  email: string;\n  siret?: string;\n  tvaIntra?: string;\n};\n\nexport type AssistOrderDetails = {\n  label: string;\n  unitPriceHT: number;\n  quantity: number;\n  totalHT: number;\n  totalTVA: number;\n  totalTTC: number;\n};\n\nexport type BankDetails = {\n  bankName: string;\n  rib: string;\n  iban: string;\n  bic: string;\n};\n\nexport type PaymentDetails = {\n  totalHT: number;\n  tva: number;\n  totalTVA: number;\n  totalTTC: number;\n  amount: number;\n  dueDate: string;\n  paymentMethod: string;\n};\n\n/**\n * ProformaInvoice Component\n *\n * This component displays the details of a proforma invoice.\n */\n@Component({\n  tag: 's3p-proforma-invoice',\n  styleUrl: 'proforma-invoice.css',\n  shadow: true,\n})\nexport class ProformaInvoice {\n  @Prop() billingDetails: BillingDetails;\n  @Prop() companyDetails: CompanyDetails;\n  @Prop() supplierDetails: SupplierDetails;\n  @Prop() ordersDetails: AssistOrderDetails[];\n  @Prop() paymentDetails: PaymentDetails;\n  @Prop() bankDetails?: BankDetails;\n\n  getPFMLogo(): string {\n    return 'https://app.keyroad.xyz/assets/PFM_SOLUTIONS_LOGO_BLEU.jpeg';\n  }\n\n  getKeyroadLogo(): string {\n    return 'https://app.keyroad.io/assets/logo_keyroad_min.png';\n  }\n\n  formatPrice(value: number): string {\n    return value ? `${value.toFixed(2)} €` : '';\n  }\n\n  renderOrder(order: AssistOrderDetails) {\n    return (\n      <tr>\n        <td>{order.label}</td>\n        <td>{this.formatPrice(order.unitPriceHT)}</td>\n        <td>{order.quantity}</td>\n        <td>{this.formatPrice(order.totalHT)}</td>\n        <td>{this.formatPrice(order.totalTVA)}</td>\n        <td>{this.formatPrice(order.totalTTC)}</td>\n      </tr>\n    );\n  }\n\n  renderBankDetails() {\n    return this.bankDetails ? (\n      <section class=\"bank-details\">\n        <h2>Informations Bancaires</h2>\n        <p>\n          <b>Banque :</b> {this.bankDetails.bankName}\n        </p>\n        <p>\n          <b>RIB :</b> {this.bankDetails.rib}\n        </p>\n        <p>\n          <b>IBAN :</b> {this.bankDetails.iban}\n        </p>\n        <p>\n          <b>BIC :</b> {this.bankDetails.bic}\n        </p>\n      </section>\n    ) : (\n      <section></section>\n    );\n  }\n\n  renderCompanyDetails() {\n    return (\n      <address class=\"company-details-container\">\n        <p class=\"label-billing-to\">A facturer à :</p>\n        <p class=\"company-name\">{this.companyDetails.companyName}</p>\n        <p class=\"company-details\">\n          {this.companyDetails.address}\n          <br />\n          {this.companyDetails.postalCode} {this.companyDetails.city}\n          <br />\n          {this.companyDetails.country}\n          <br />\n          {this.companyDetails.phone && (\n            <div>\n              <br />\n              Tél.: {this.companyDetails.phone}\n            </div>\n          )}\n          {this.companyDetails.website && (\n            <div>\n              <br />\n              <a href={this.companyDetails.website}>{this.companyDetails.website}</a>\n            </div>\n          )}\n        </p>\n      </address>\n    );\n  }\n\n  renderSupplierDetails() {\n    return (\n      <address>\n        <p class=\"supplier-name\">{this.supplierDetails.supplierName}</p>\n        <p class=\"supplier-details\">\n          {this.supplierDetails.address} {this.supplierDetails.postalCode} {this.supplierDetails.city}\n          <br />\n          {this.supplierDetails.country}\n        </p>\n        <p class=\"supplier-details\">\n          Tél. : {this.supplierDetails.phone}\n          <br />\n          {this.supplierDetails.email}\n        </p>\n\n        {/* The suppliers from France will have their SIRET, not the international ones */}\n        {this.supplierDetails.siret && <p class=\"supplier-details\">SIRET : {this.supplierDetails.siret}</p>}\n        {this.supplierDetails.tvaIntra && <p class=\"supplier-details\">TVA intra : {this.supplierDetails.tvaIntra}</p>}\n      </address>\n    );\n  }\n\n  render() {\n    return (\n      <div class=\"invoice-container\">\n        <header>\n          <img class=\"logo\" src={this.getPFMLogo()} height=\"80\" alt=\"Logo PFM Solutions\"></img>\n          <section class=\"billing-details\">\n            {this.billingDetails.reference && <p>Référence : {this.billingDetails.reference}</p>}\n            <p>Date de facturation : {this.billingDetails.emitDate}</p>\n          </section>\n        </header>\n        <h1 class=\"document-title\">FACTURE PROFORMA</h1>\n        <section class=\"supplier-company-details\">\n          {this.renderSupplierDetails()}\n          <address></address>\n          {this.renderCompanyDetails()}\n        </section>\n        <section>\n          <table>\n            <thead>\n              <tr>\n                <th>Description</th>\n                <th>Prix Unit. HT</th>\n                <th>Quantité</th>\n                <th>Total HT</th>\n                <th>TVA</th>\n                <th>Total TTC</th>\n              </tr>\n            </thead>\n            <tbody>{this.ordersDetails.map(order => this.renderOrder(order))}</tbody>\n          </table>\n        </section>\n        <div class=\"bank-payment-container\">\n          {this.renderBankDetails()}\n          <section></section>\n          <section class=\"payment-details\">\n            <table>\n              <tr>\n                <td>\n                  <b>Total HT</b>\n                </td>\n                <td>{this.formatPrice(this.paymentDetails.totalHT)}</td>\n              </tr>\n              <tr>\n                <td>\n                  <b>TVA {this.paymentDetails.tva}%</b>\n                </td>\n                <td>{this.formatPrice(this.paymentDetails.totalTVA)}</td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Total TTC</b>\n                </td>\n                <td>{this.formatPrice(this.paymentDetails.totalTTC)}</td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Net à payer</b>\n                </td>\n                <td>{this.formatPrice(this.paymentDetails.amount)}</td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Date d'échéance</b>\n                </td>\n                <td>{this.paymentDetails.dueDate}</td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Mode de paiement</b>\n                </td>\n                <td>{this.paymentDetails.paymentMethod}</td>\n              </tr>\n            </table>\n          </section>\n        </div>\n        <footer class=\"legal-details\">\n          <img class=\"logo\" src={this.getKeyroadLogo()} height=\"40\" alt=\"keyroad\"></img>\n          <p>\n            Société par actions simplifiée - Capital de 1 400 000,00 € - SIRET: 752 077 636 00021 - SIREN: 752 077 636 - RCS: Orléans - APE/NAF: 5229B - Num TVA: FR 19 752 077 636\n          </p>\n          <p>\n            En cas de retard de paiement, sera exigible, conformément à l'article L 441-10 du Code de Commerce, une pénalité de retard de 10%, ainsi qu'une indemnité forfaitaire\n            pour frais de recouvrement de 40€.\n          </p>\n          <p>Aucun escompte ne sera accordé en cas de paiement anticipé.</p>\n        </footer>\n      </div>\n    );\n  }\n}\n"],"mappings":"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"}