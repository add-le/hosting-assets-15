{"version":3,"names":["s3pViolationsReportCss","S3pViolationsReport","async","this","i18n","element","load","getAssetPath","render","h","class","src","height","alt","driverName","prettyDate","start","end","driverCard","id","violations","map","violation","when","get","what","toHHMMSS","limit","value","source"],"sources":["./src/components/s3p-violations-report/s3p-violations-report.css?tag=s3p-violations-report","./src/components/s3p-violations-report/s3p-violations-report.tsx"],"sourcesContent":["/* impression */\nhtml {\n  -webkit-print-color-adjust: exact;\n}\nheader {\n  display: flex;\n  align-items: center;\n  padding: 10px 10px 10px 10px;\n}\n/* page */\nbody {\n  margin: 0;\n  background-color: white;\n}\nmain {\n  margin: 100px 10px 10px 10px;\n  font-size: 11px;\n}\n.report {\n  font-family: \"Open Sans\", \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n}\np {\n  margin: 5px 0;\n}\n/* table */\ntable {\n  width: 100%;\n  font-size: 11px;\n}\ntable,\nth,\ntd {\n  border: 0.1px solid white;\n}\nth,\ntd {\n  padding: 1px;\n  text-align: center;\n}\nth {\n  text-transform: uppercase;\n  background: rgba(var(--primary-color-rgba, 249, 190, 31), 0.6);\n}\ntr:nth-child(even) {\n  background-color: #fff0ac;\n}\n\n.text-center {\n  text-align: center;\n}\n","import '@s3pweb/s3p-chart';\nimport { Component, h, Prop, Element, getAssetPath } from '@stencil/core';\nimport { i18n } from '../../utils/i18n';\nimport { prettyDate, toHHMMSS } from '../../utils/utils';\n\n@Component({\n  tag: 's3p-violations-report',\n  styleUrl: 's3p-violations-report.css',\n  shadow: false,\n})\nexport class S3pViolationsReport {\n  @Element() element: HTMLElement;\n  i18n: any;\n\n  @Prop() driverName: string;\n  @Prop() driverCard: string;\n  @Prop() start;\n  @Prop() end;\n  @Prop() violations;\n\n  async componentWillLoad() {\n    this.i18n = new i18n(this.element);\n    await this.i18n.load(getAssetPath('../'));\n  }\n\n  render() {\n    return (\n      <div class=\"report\">\n        <header>\n          <img class=\"logo\" src={'https://app.mapandtruck.io/assets/mapandtruck/logo_maptrcuk.png'} height=\"70\" alt=\"s3pweb\"></img>\n        </header>\n\n        <main>\n          <p>A l'attention de {this.driverName}</p>\n          <br />\n          <p>\n            Objet : Analyse d'activité. ( Période du {prettyDate(this.start, true)} au {prettyDate(this.end, true)} )\n          </p>\n          <br />\n          <p>\n            Conducteur : {this.driverName} ({this.driverCard})\n          </p>\n          <br />\n          <p>Après analyse de vos activités enregistrées et remontées, nous avons constaté les infractions à la réglementation suivantes :</p>\n          <table id=\"listViolations\">\n            <thead>\n              <tr>\n                <th>Date</th>\n                <th>Libellé</th>\n                <th>Légale</th>\n                <th>Réelle</th>\n                <th>Source</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.violations &&\n                this.violations.map(violation => (\n                  <tr>\n                    <td>{violation.when ? prettyDate(violation.when) : `${prettyDate(violation.start, true)} au ${prettyDate(violation.end, true)}`}</td>\n                    <td>{this.i18n.get(violation.what)}</td>\n                    <td>{toHHMMSS(violation.limit)}</td>\n                    <td>{toHHMMSS(violation.value)}</td>\n                    <td>{this.i18n.get(violation.source)}</td>\n                  </tr>\n                ))}\n            </tbody>\n          </table>\n          <br />\n          <p>\n            Nous vous rappelons que ces infractions sont assimilables à des comportements dangereux durant les heures de travail et qu'en conséquence, elles peuvent vous exposer à\n            des sanctions.\n          </p>\n          <br />\n          <p>Pour une conduite en toute sécurité, il est impératif de respecter scrupuleusement la réglementation.</p>\n          <br />\n          <p>Nous comptons sur votre professionnalisme pour adopter un comportement de conduite responsable.</p>\n          <br />\n          <p>La Direction</p>\n        </main>\n      </div>\n    );\n  }\n}\n"],"mappings":"wIAAA,MAAMA,EAAyB,8iB,MCUlBC,EAAmB,M,+IAU9BC,0BACEC,KAAKC,KAAO,IAAIA,EAAKD,KAAKE,eACpBF,KAAKC,KAAKE,KAAKC,EAAa,O,CAGpCC,SACE,OACEC,EAAA,OAAKC,MAAM,UACTD,EAAA,cACEA,EAAA,OAAKC,MAAM,OAAOC,IAAK,kEAAmEC,OAAO,KAAKC,IAAI,YAG5GJ,EAAA,YACEA,EAAA,6BAAqBN,KAAKW,YAC1BL,EAAA,WACAA,EAAA,qDAC4CM,EAAWZ,KAAKa,MAAO,MAAK,OAAMD,EAAWZ,KAAKc,IAAK,MAAK,MAExGR,EAAA,WACAA,EAAA,yBACgBN,KAAKW,WAAU,KAAIX,KAAKe,WAAU,KAElDT,EAAA,WACAA,EAAA,0IACAA,EAAA,SAAOU,GAAG,kBACRV,EAAA,aACEA,EAAA,UACEA,EAAA,kBACAA,EAAA,qBACAA,EAAA,oBACAA,EAAA,oBACAA,EAAA,sBAGJA,EAAA,aACGN,KAAKiB,YACJjB,KAAKiB,WAAWC,KAAIC,GAClBb,EAAA,UACEA,EAAA,UAAKa,EAAUC,KAAOR,EAAWO,EAAUC,MAAQ,GAAGR,EAAWO,EAAUN,MAAO,YAAYD,EAAWO,EAAUL,IAAK,SACxHR,EAAA,UAAKN,KAAKC,KAAKoB,IAAIF,EAAUG,OAC7BhB,EAAA,UAAKiB,EAASJ,EAAUK,QACxBlB,EAAA,UAAKiB,EAASJ,EAAUM,QACxBnB,EAAA,UAAKN,KAAKC,KAAKoB,IAAIF,EAAUO,cAKvCpB,EAAA,WACAA,EAAA,mMAIAA,EAAA,WACAA,EAAA,kHACAA,EAAA,WACAA,EAAA,4GACAA,EAAA,WACAA,EAAA,0B"}