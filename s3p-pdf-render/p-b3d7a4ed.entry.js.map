{"version":3,"names":["StringUtils","toTitleCase","string","toLowerCase","split","map","word","charAt","toUpperCase","slice","join","s3pPrepaidReportCss","S3pPrepaidReport","this","log","debug","locale","async","json","index","start","Date","setUTCHours","setUTCFullYear","year","month","stop","templateTs","Array","from","length","getUTCDate","_","i","periodTs","drivers","periods","period","ts","getDate","missingDays","filter","x","includes","missingDay","push","generateMissingDay","sort","a","b","parse","weeks","reduce","item","weekNumber","getWeek","week","monthSummary","generateMonthSummary","Object","entries","lastDayOfWeek","findIndex","splice","generateWeekSummary","Number","parseInt","generatePeriodSummary","componentDidLoad","div","document","createElement","id","body","appendChild","toLocaleString","_tsType","kms","absNR","absRem","available","availableDE","driving","end","expenses","bonus","evening","lunch","morning","night","total","unique","hdRem","matAM","service","serviceGlobal","working","weekSummary","toString","padStart","toISOString","getRowColor","render","h","Host","class","_a","legalStructure","_b","siret","_c","lastName","_d","firstName","_e","toLocaleDateString","timeZone","_f","_h","_g","socialExternalId","cellspacing","_j","style","backgroundColor","weekday","day","minimumFractionDigits","maximumFractionDigits"],"sources":["./src/utils/string.ts","./src/components/s3p-prepaid-report/s3p-prepaid-report.css?tag=s3p-prepaid-report","./src/components/s3p-prepaid-report/s3p-prepaid-report.tsx"],"sourcesContent":["export namespace StringUtils {\n  /**\n   * Converts all words with capitalize letter.\n   */\n  export function toTitleCase(string: string): string {\n    return string\n      .toLowerCase()\n      .split(' ')\n      .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n      .join(' ');\n  }\n}\n",".prepaid-report {\n  font-family: Helvetica, sans-serif;\n  font-size: 15px;\n}\n\n.prepaid-report-header {\n  border: 2px solid black;\n  border-radius: 15px;\n  padding: 3px;\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin-bottom: 8px;\n}\n\n.prepaid-report-footer {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  font-size: 11px;\n  margin-top: 10px;\n}\n\n.invisible-cell {\n  border: none !important;\n  background-color: white !important;\n}\n\n.prepaid-report-header-line {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n\n.prepaid-report-table {\n  font-family: Helvetica, sans-serif;\n  font-size: 12px;\n  margin-left: auto;\n  margin-right: auto;\n  width: 100%;\n  border-collapse: collapse;\n}\n\n.prepaid-report-thead > th {\n  border: 1px solid black;\n  font-weight: normal;\n  border-collapse: collapse;\n}\n\n.prepaid-report-tbody td {\n  border: 1px solid black;\n  font-weight: normal;\n  text-align: right;\n  box-sizing: border-box;\n  border-collapse: collapse;\n}\n","import { Component, Host, Prop, h } from '@stencil/core';\nimport debug from 'debug';\nimport { getWeek } from '../../utils/utils';\nimport { PeriodsStruct, PrepaidReport } from './interfaces/prepaidReport.interface';\nimport { StringUtils } from '../../utils/string';\n\n@Component({\n  tag: 's3p-prepaid-report',\n  styleUrl: 's3p-prepaid-report.css',\n  shadow: false,\n})\nexport class S3pPrepaidReport {\n  private readonly log: debug.Debugger = debug('S3pPrepaidReport');\n\n  /** The prepaid report json from the back. */\n  @Prop() json: PrepaidReport;\n\n  /** Index of the wanted driver. */\n  @Prop() index: number;\n\n  private locale: string = 'fr-FR';\n  private start: Date;\n  private stop: Date;\n\n  /** Init of the prepaid report. */\n  async componentWillLoad() {\n    if (this.json == null || this.index == null) {\n      this.log('You must set json and index prop.');\n      return;\n    }\n\n    this.start = new Date();\n    this.start.setUTCHours(0, 0, 0, 0);\n    this.start.setUTCFullYear(this.json.year, this.json.month - 1, 1);\n\n    this.stop = new Date();\n    this.stop.setUTCHours(23, 59, 59, 999);\n    this.stop.setUTCFullYear(this.json.year, this.json.month, 0);\n\n    // Add missing days\n    const templateTs: number[] = Array.from({ length: this.stop.getUTCDate() }, (_, i) => i + 1);\n    const periodTs: number[] = this.json.drivers[this.index].periods.map(period => new Date(period.ts).getDate());\n    const missingDays: number[] = templateTs.filter(x => !periodTs.includes(x));\n    for (const missingDay of missingDays) {\n      const ts = new Date();\n      ts.setUTCFullYear(this.json.year, this.json.month - 1, missingDay);\n      this.json.drivers[this.index].periods.push(this.generateMissingDay(ts));\n    }\n    // Sort periods\n    this.json.drivers[this.index].periods = this.json.drivers[this.index].periods.sort((a, b) => Date.parse(a.ts) - Date.parse(b.ts));\n\n    // Groups by week number\n    const weeks = this.json.drivers[this.index].periods.reduce((weeks, item) => {\n      const weekNumber: number = getWeek(new Date(item.ts));\n      const week = weeks[weekNumber] || [];\n      week.push(item);\n      weeks[weekNumber] = week;\n      return weeks;\n    }, {});\n\n    // Generate month summary\n    const monthSummary = this.generateMonthSummary();\n\n    // Add week summary\n    for (const [weekNumber, week] of Object.entries<PeriodsStruct[]>(weeks)) {\n      const lastDayOfWeek = week[week.length - 1];\n      const index = this.json.drivers[this.index].periods.findIndex(period => period.ts === lastDayOfWeek.ts);\n      // Add the week summary after the end of the week\n      if (index > -1) {\n        this.json.drivers[this.index].periods.splice(index + 1, 0, this.generateWeekSummary(Number.parseInt(weekNumber), week));\n      }\n    }\n\n    // Add month summary\n    this.json.drivers[this.index].periods.push(monthSummary);\n\n    // Add period summary\n    this.json.drivers[this.index].periods.push(this.generatePeriodSummary());\n  }\n\n  componentDidLoad() {\n    const div: HTMLDivElement = document.createElement<'div'>('div');\n    div.id = 'waiting';\n    document.body.appendChild(div);\n  }\n\n  /**\n   * Generate the month summary for the current driver.\n   * @returns {PeriodsStruct} A month summary in period.\n   */\n  private generateMonthSummary(): PeriodsStruct {\n    const month: Date = new Date(this.json.year, this.json.month - 1);\n\n    const monthSummary: PeriodsStruct = {\n      ts: StringUtils.toTitleCase(month.toLocaleString(this.locale, { month: 'long' })),\n      _tsType: 'string',\n      kms: 0,\n      absNR: null,\n      absRem: null,\n      available: null,\n      availableDE: null,\n      driving: null,\n      end: null,\n      expenses: {\n        bonus: null,\n        evening: null,\n        lunch: null,\n        morning: null,\n        night: null,\n        total: null,\n        unique: null,\n      },\n      hdRem: null,\n      matAM: null,\n      night: null,\n      service: null,\n      serviceGlobal: null,\n      start: null,\n      working: null,\n    };\n\n    // Make the sums of period on the week\n    for (const period of this.json.drivers[this.index].periods) {\n      monthSummary.driving += period.driving;\n      monthSummary.working += period.working;\n      monthSummary.available += period.available;\n      // monthSummary.availableDE += period.availableDE;\n      monthSummary.service += period.service;\n      // monthSummary.hdRem += period.hdRem;\n      // monthSummary.absRem += period.absRem;\n      // monthSummary.absNR += period.absNR;\n      monthSummary.night += period.night;\n      monthSummary.kms += period.kms;\n      monthSummary.serviceGlobal += period.serviceGlobal;\n      monthSummary.expenses.bonus += period.expenses.bonus;\n      monthSummary.expenses.evening += period.expenses.evening;\n      monthSummary.expenses.lunch += period.expenses.lunch;\n      monthSummary.expenses.morning += period.expenses.morning;\n      monthSummary.expenses.night += period.expenses.night;\n      monthSummary.expenses.total += period.expenses.total;\n      monthSummary.expenses.unique += period.expenses.unique;\n    }\n\n    return monthSummary;\n  }\n\n  /**\n   * Generate the period summary for the current driver.\n   * @returns {PeriodsStruct} A period summary in period.\n   */\n  private generatePeriodSummary(): PeriodsStruct {\n    const monthSummary: PeriodsStruct = {\n      ts: 'Période',\n      _tsType: 'string',\n      kms: 0,\n      absNR: null,\n      absRem: null,\n      available: null,\n      availableDE: null,\n      driving: null,\n      end: null,\n      expenses: {\n        bonus: null,\n        evening: null,\n        lunch: null,\n        morning: null,\n        night: null,\n        total: null,\n        unique: null,\n      },\n      hdRem: null,\n      matAM: null,\n      night: null,\n      service: null,\n      serviceGlobal: null,\n      start: null,\n      working: null,\n    };\n\n    // Make the sums of period on the week\n    for (const period of this.json.drivers[this.index].periods) {\n      monthSummary.driving += period.driving;\n      monthSummary.working += period.working;\n      monthSummary.available += period.available;\n      // monthSummary.availableDE += period.availableDE;\n      monthSummary.service += period.service;\n      // monthSummary.hdRem += period.hdRem;\n      // monthSummary.absRem += period.absRem;\n      // monthSummary.absNR += period.absNR;\n      monthSummary.night += period.night;\n      monthSummary.kms += period.kms;\n      monthSummary.serviceGlobal += period.serviceGlobal;\n      monthSummary.expenses.bonus += period.expenses.bonus;\n      monthSummary.expenses.evening += period.expenses.evening;\n      monthSummary.expenses.lunch += period.expenses.lunch;\n      monthSummary.expenses.morning += period.expenses.morning;\n      monthSummary.expenses.night += period.expenses.night;\n      monthSummary.expenses.total += period.expenses.total;\n      monthSummary.expenses.unique += period.expenses.unique;\n    }\n\n    return monthSummary;\n  }\n\n  /**\n   * Generate a week summary on period format.\n   * @param {number} weekNumber Nth week of the year.\n   * @param {PeriodsStruct[]} periods Periods for the current week.\n   * @returns {PeriodsStruct} A week summary in period.\n   */\n  private generateWeekSummary(weekNumber: number, periods: PeriodsStruct[]): PeriodsStruct {\n    const weekSummary: PeriodsStruct = {\n      ts: `Semaine ${weekNumber.toString().padStart(2, '0')}`,\n      _tsType: 'string',\n      kms: 0,\n      absNR: null,\n      absRem: null,\n      available: null,\n      availableDE: null,\n      driving: null,\n      end: null,\n      expenses: {\n        bonus: null,\n        evening: null,\n        lunch: null,\n        morning: null,\n        night: null,\n        total: null,\n        unique: null,\n      },\n      hdRem: null,\n      matAM: null,\n      night: null,\n      service: null,\n      serviceGlobal: null,\n      start: null,\n      working: null,\n    };\n\n    // Make the sums of period on the week\n    for (const period of periods) {\n      weekSummary.driving += period.driving;\n      weekSummary.working += period.working;\n      weekSummary.available += period.available;\n      // weekSummary.availableDE += period.availableDE;\n      weekSummary.service += period.service;\n      // weekSummary.hdRem += period.hdRem;\n      // weekSummary.absRem += period.absRem;\n      // weekSummary.absNR += period.absNR;\n      weekSummary.night += period.night;\n      weekSummary.kms += period.kms;\n      weekSummary.serviceGlobal += period.serviceGlobal;\n      weekSummary.expenses.bonus += period.expenses.bonus;\n      weekSummary.expenses.evening += period.expenses.evening;\n      weekSummary.expenses.lunch += period.expenses.lunch;\n      weekSummary.expenses.morning += period.expenses.morning;\n      weekSummary.expenses.night += period.expenses.night;\n      weekSummary.expenses.total += period.expenses.total;\n      weekSummary.expenses.unique += period.expenses.unique;\n    }\n\n    return weekSummary;\n  }\n\n  /**\n   * Create a missing day with no values.\n   * @param {Date} ts Timestamp of the missing day.\n   * @returns {PeriodsStruct} A missing day in period.\n   */\n  private generateMissingDay(ts: Date): PeriodsStruct {\n    return {\n      ts: ts.toISOString().split('T')[0],\n      _tsType: 'date',\n      kms: 0,\n      absNR: null,\n      absRem: null,\n      available: null,\n      availableDE: null,\n      driving: null,\n      end: null,\n      expenses: {\n        bonus: null,\n        evening: null,\n        lunch: null,\n        morning: null,\n        night: null,\n        total: null,\n        unique: null,\n      },\n      hdRem: null,\n      matAM: null,\n      night: null,\n      service: null,\n      serviceGlobal: null,\n      start: null,\n      working: null,\n    };\n  }\n\n  /**\n   * Get the color of the row concording to its ts.\n   * @param {string} ts String for the ts.\n   * @returns {string} Color for the row.\n   */\n  private getRowColor(ts: string): string {\n    if (ts.includes('Semaine')) {\n      return '#e2e2fa';\n    } else if (ts.includes('Période')) {\n      return '#9393fb';\n    } else {\n      return '#c5c5fb';\n    }\n  }\n\n  render() {\n    return (\n      <Host class=\"prepaid-report\">\n        <header class=\"prepaid-report-header\">\n          <div class=\"prepaid-report-header-line\">\n            <span>\n              Société : {this.json?.legalStructure} - {this.json?.siret}\n              bonsoir\n            </span>\n            <span>\n              <b>Synthèse des disques et frais</b>\n            </span>\n          </div>\n          <div class=\"prepaid-report-header-line\">\n            <span>\n              Conducteur : {this.json?.drivers[this.index].lastName.toUpperCase()} {this.json?.drivers[this.index].firstName.toUpperCase()}\n            </span>\n            <span>\n              <b>\n                Du {this.start?.toLocaleDateString(this.locale, { timeZone: 'UTC' })} au {this.stop?.toLocaleDateString(this.locale, { timeZone: 'UTC' })}\n              </b>\n            </span>\n          </div>\n          <div class=\"prepaid-report-header-line\">\n            <span>Matricule : {this.json?.drivers[this.index].socialExternalId ?? 'N/A'}</span>\n          </div>\n        </header>\n\n        <main>\n          <table class=\"prepaid-report-table\" cellspacing=\"0\">\n            <thead class=\"prepaid-report-thead\">\n              <th class=\"invisible-cell\"></th>\n              <th>Début</th>\n              <th>Fin</th>\n              <th>Conduite</th>\n              <th>Travail</th>\n              <th>Dispo</th>\n              <th>Disp DE</th>\n              <th>Service</th>\n              <th>HD rem</th>\n              <th>Abs rem</th>\n              <th>Abs nr</th>\n              <th>Mat/AM</th>\n              <th>Nuit</th>\n              <th>Kms</th>\n              <th>Serv global</th>\n              <th class=\"invisible-cell\"></th>\n              <th>Pt. D</th>\n              <th>Déj</th>\n              <th>Dîner</th>\n              <th>Nuit</th>\n              <th>Divers</th>\n              <th>Total</th>\n              <th>Prime</th>\n            </thead>\n            <tbody class=\"prepaid-report-tbody\">\n              {this.json?.drivers[this.index].periods.map(period => {\n                const ts = new Date(period.ts);\n\n                // Do not display 0 values\n                if (period.available === 0) {\n                  period.available = null;\n                }\n\n                if (period.night === 0) {\n                  period.night = null;\n                }\n\n                // if (period.kms === 0) {\n                //   period.kms = null;\n                // }\n\n                if (period.expenses.morning === 0) {\n                  period.expenses.morning = null;\n                }\n\n                if (period.expenses.bonus === 0) {\n                  period.expenses.bonus = null;\n                }\n\n                if (period.expenses.evening === 0) {\n                  period.expenses.evening = null;\n                }\n\n                if (period.expenses.lunch === 0) {\n                  period.expenses.lunch = null;\n                }\n\n                if (period.expenses.night === 0) {\n                  period.expenses.night = null;\n                }\n\n                if (period.expenses.night === 0) {\n                  period.expenses.night = null;\n                }\n\n                if (period.expenses.unique === 0) {\n                  period.expenses.unique = null;\n                }\n\n                if (period.expenses.total === 0) {\n                  period.expenses.total = null;\n                }\n\n                return (\n                  <tr style={{ backgroundColor: period._tsType === 'string' ? this.getRowColor(period.ts) : 'none' }}>\n                    <td>\n                      {period._tsType === 'string'\n                        ? period.ts\n                        : ts.toLocaleDateString(this.locale, { timeZone: 'UTC', weekday: 'short', year: 'numeric', month: 'numeric', day: 'numeric' })}\n                    </td>\n                    <td>{period.start}</td>\n                    <td>{period.end}</td>\n                    <td>{period.driving?.toLocaleString(this.locale, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</td>\n                    <td>{period.working?.toLocaleString(this.locale, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</td>\n                    <td>{period.available?.toLocaleString(this.locale, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</td>\n                    <td>{period.availableDE}</td>\n                    <td>{period.service?.toLocaleString(this.locale, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</td>\n                    <td>{period.hdRem}</td>\n                    <td>{period.absRem}</td>\n                    <td>{period.absNR}</td>\n                    <td>{period.matAM}</td>\n                    <td>{period.night?.toLocaleString(this.locale, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</td>\n                    <td>{period.kms}</td>\n                    <td>{period.serviceGlobal?.toLocaleString(this.locale, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</td>\n                    <td class=\"invisible-cell\"></td>\n                    <td>{period.expenses.morning}</td>\n                    <td>{period.expenses.lunch}</td>\n                    <td>{period.expenses.evening}</td>\n                    <td>{period.expenses.night}</td>\n                    <td>{period.expenses.unique}</td>\n                    <td>{period.expenses.total?.toLocaleString(this.locale, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</td>\n                    <td>{period.expenses.bonus?.toLocaleString(this.locale, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}r</td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </main>\n\n        <footer class=\"prepaid-report-footer\">\n          <span>\n            {/* <i>Généré le 19/04/2023 16:03:49</i> */}\n            <i>\n              Généré le {'{{date}}'} {'{{time}}'}\n            </i>\n          </span>\n          <span>\n            {/* <i>Page 1/2</i> */}\n            <i>\n              Page {'{{currentPage}}'}/{'{{totalPage}}'}\n            </i>\n          </span>\n        </footer>\n      </Host>\n    );\n  }\n}\n"],"mappings":"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"}