import{r as t,c as e,g as n,h as r,a as s}from"./p-d5a6e412.js";import{b as o}from"./p-6f5893c5.js";import{b as a,r as u,d as h,t as c,p as l,a as f,e as d,s as v}from"./p-98feef0c.js";import{i as p}from"./p-924cb6ab.js";import{c as m,a as g,g as b}from"./p-3e8ff66b.js";const y=".s3pChartComponent .container-dateChange{display:flex;justify-content:center;margin:10px;align-items:baseline !important}.s3pChartComponent .element-dateChange{display:flex;align-items:center;margin:0px 5px}.s3pChartComponent .element-dateChange label{margin-right:5px}.s3pChartComponent .containerRepeat{width:330px;margin:5px;display:flex;flex-direction:column;justify-content:center}.s3pChartComponent .containerRepeat label{margin:5px}.s3pChartComponent .containerNbDays{display:flex;align-items:center;width:330px}.s3pChartComponent .containerWeekButton{display:flex;flex-wrap:wrap}.s3pChartComponent .weekButton{margin:5px;border:2px solid var(--secondary-color, #1e49a5);padding:5px;color:var(--secondary-color, #1e49a5);border-radius:5px;text-align:center;flex:1}.s3pChartComponent .weekButton.selected{background-color:var(--secondary-color, #1e49a5) !important;color:white !important}.s3pChartComponent .input-duration{width:50px}.s3pChartComponent .container-dateChange .select-custom{max-width:800px;flex:1}";const w=class{constructor(i){t(this,i);this.sendEventsAdd=e(this,"sendEventsAdd",7);this.activitiesOutsideVehicle=[];this.activityAdd={activity:null,start:null,end:null,nbDays:1,except:[],startMax:null,durante:0};this.resourcesUrl=n(this,"resourcesUrl")}async componentWillLoad(){this.log=o("s3pChart:AddCustomActivity");this.i18n=new p(this.el);await this.i18n.load(this.resourcesUrl);this.initActivityAdd()}async componentDidLoad(){this.createEvents()}watchActivityEdit(){this.initActivityAdd();this.createEvents()}initActivityAdd(){let t;if(this.pastLimit&&this.pastLimit.start){t=this.pastLimit.start}else if(this.maxStartFutur){t=this.maxStartFutur}if(!this.activityEdit){let i,e;if(this.pastLimit&&this.pastLimit.start){i=this.pastLimit.start;e=this.pastLimit.start}else{i=new Date((new Date).setHours(8,0,0,0));e=new Date((new Date).setHours(9,0,0,0));if(new Date>i){i.setDate((new Date).getDate()+1);e.setDate((new Date).getDate()+1)}}this.activityAdd={activity:null,start:i,end:e,nbDays:1,except:[],startMax:t,durante:60}}else{let i=(new Date(this.activityEdit.end).valueOf()-new Date(this.activityEdit.start).valueOf())/6e4;this.activityAdd=Object.assign({},Object.assign(Object.assign({},this.activityEdit),{nbDays:1,except:[],startMax:t,durante:i}));this.createEvents()}}setActivityAdd(t,i){switch(i){case"activity":this.activityAdd.customActivityId=t.value;let i=this.activitiesOutsideVehicle.find((t=>t._id===this.activityAdd.customActivityId));this.activityAdd.activity=Object.assign({},i);delete this.activityAdd.activity._id;break;case"start":this.activityAdd.start=t.detail;break;case"nbDays":this.activityAdd.nbDays=t.value;break}this.createEvents()}refresh(){this.initActivityAdd();this.createEvents()}selectDay(t){if(this.activityAdd.except.includes(t)){let i=this.activityAdd.except.indexOf(t);this.activityAdd.except.splice(i,1)}else{this.activityAdd.except.push(t)}this.activityAdd=Object.assign({},this.activityAdd);this.createEvents()}setDuration(t,i){let e=0;const n=Math.floor(this.activityAdd.durante/60);const r=Math.floor(this.activityAdd.durante-n*60);if(t.target.value||t.target.value===0){let s=t.target.value;if(i){e=parseInt(s)*60;this.activityAdd.durante=e+r}else{e=parseInt(s);this.activityAdd.durante=e+n*60}}this.createEvents()}createEvents(){this.eventsSend=[];if(this.activityAdd.customActivityId&&this.activityAdd.start){let t=this.activityAdd.except;const i=this.activityAdd.activity&&this.activityAdd.activity.durante;if(i){let e=this.activityAdd.start,n=this.activityAdd.start?a(this.activityAdd.start,i):null;if(e&&n&&this.inLimits(e,n)&&t.length!==7){e=u(new Date(e),24);n=u(new Date(n),24);for(let i=1;i<=this.activityAdd.nbDays;i++){let i;do{e=h(new Date(e),24);n=h(new Date(n),24);i=new Date(e).getDay()}while(t.includes(i));if(this.inLimits(this.activityAdd.start,n)){if(this.inputRepeat){this.inputRepeat.style.borderColor="var(--primary-no-color, #ccc)"}this.eventsSend.push({type:"create",event:{customActivityId:this.activityAdd.customActivityId,ts:new Date(e).toISOString(),end:new Date(n).toISOString()}})}else{this.inputRepeat.style.borderColor="red"}}this.activityAdd.end=n}}else{this.activityAdd.end=new Date(new Date(this.activityAdd.start).valueOf()+this.activityAdd.durante*6e4);if(this.inLimits(this.activityAdd.start,this.activityAdd.end)){this.eventsSend.push({type:"create",event:{customActivityId:this.activityAdd.customActivityId,ts:new Date(this.activityAdd.start).toISOString(),end:new Date(this.activityAdd.end).toISOString()}})}}}this.setHaveError(this.eventsSend&&this.eventsSend.length||!this.activityAdd.customActivityId?false:true);this.activityAdd=Object.assign({},this.activityAdd);this.sendEventsAdd.emit({events:this.eventsSend,start:this.activityAdd.start,end:this.activityAdd.end})}inLimits(t,i){let e=false;if(this.maxStartFutur||this.pastLimit){if(this.maxStartFutur&&new Date(t)>=new Date(this.maxStartFutur)){e=true}if(this.pastLimit&&new Date(t)>=new Date(this.pastLimit.start)&&new Date(i)<=new Date(this.pastLimit.end)){e=true}}else{e=true}return e}setHaveError(t){this.inputDateTimeAddStart.setError(t);this.errorMessage=t}renderActivityWithDuration(){return r("div",{class:"containerRepeat"},r("div",{class:"containerNbDays"},r("label",null,this.i18n.get("number")),r("input",{type:"number",min:1,step:1,class:"input-custom",ref:t=>this.inputRepeat=t,value:this.activityAdd.nbDays,onChange:t=>{this.setActivityAdd(t.target,"nbDays")}}),r("label",null,this.i18n.get("days")),r("div",{class:"btn-refresh",onClick:()=>{this.refresh()}},r("s3p-icon-v2",{class:"icon-svg iconClick",name:"custom-refresh",center:true}))),r("label",null,this.i18n.get("only")),r("div",{class:"containerWeekButton"},r("div",{class:{weekButton:true,selected:!this.activityAdd.except.includes(1)},onClick:()=>{this.selectDay(1)}},this.i18n.get("monday")),r("div",{class:{weekButton:true,selected:!this.activityAdd.except.includes(2)},onClick:()=>{this.selectDay(2)}},this.i18n.get("tuesday")),r("div",{class:{weekButton:true,selected:!this.activityAdd.except.includes(3)},onClick:()=>{this.selectDay(3)}},this.i18n.get("wednesday")),r("div",{class:{weekButton:true,selected:!this.activityAdd.except.includes(4)},onClick:()=>{this.selectDay(4)}},this.i18n.get("thursday")),r("div",{class:{weekButton:true,selected:!this.activityAdd.except.includes(5)},onClick:()=>{this.selectDay(5)}},this.i18n.get("friday")),r("div",{class:{weekButton:true,selected:!this.activityAdd.except.includes(6)},onClick:()=>{this.selectDay(6)}},this.i18n.get("saturday")),r("div",{class:{weekButton:true,selected:!this.activityAdd.except.includes(0)},onClick:()=>{this.selectDay(0)}},this.i18n.get("sunday"))))}renderActivityWithoutDuration(){return r("div",{class:"element-dateChange"},r("label",null," ",this.i18n.get("durante")),r("input",{type:"text",class:"input-custom input-duration",value:c(this.activityAdd.durante?this.activityAdd.durante*60:0,"hours"),onBlur:t=>{this.setDuration(t,true)}}),r("span",null,"h"),r("input",{type:"text",class:"input-custom input-duration",value:c(this.activityAdd.durante?this.activityAdd.durante*60:0,"minutes"),onBlur:t=>{this.setDuration(t,false)}}),r("div",{class:"btn-refresh",onClick:()=>{this.refresh()}},r("s3p-icon-v2",{class:"icon-svg iconClick",name:"custom-refresh",center:true})))}render(){return r("div",{class:"s3pChartComponent"},r("p",{class:"container-warning"},this.i18n.get("activityHVOnlyOnRestOrFuture")),r("div",{class:"container-error"},r("p",null,!this.activitiesOutsideVehicle||this.activitiesOutsideVehicle&&this.activitiesOutsideVehicle.length===0?this.i18n.get("errorMessageNoCustomActivity"):"")),r("div",{class:"container-dateChange"},r("select",{class:"select-custom",onInput:t=>this.setActivityAdd(t.target,"activity")},r("option",{value:""},this.i18n.get("chooseActivity")),this.activitiesOutsideVehicle?this.activitiesOutsideVehicle.map((t=>r("option",{value:t._id,selected:this.activityAdd.customActivityId===t._id},t.label))):""),r("div",{class:"element-dateChange"},r("label",null,this.i18n.get("start")),r("s3p-input-datetime",{idInput:"createEventsStart",date:this.activityAdd.start,dateMin:this.activityAdd.startMax,onDateTimeChange:t=>{this.setActivityAdd(t,"start")},ref:t=>this.inputDateTimeAddStart=t})),this.activityAdd.activity&&this.activityAdd.activity.durante?this.renderActivityWithDuration():this.renderActivityWithoutDuration()),r("div",{class:"container-error"},this.errorMessage?`${this.i18n.get("errorMessageIntervalDate2")} ${this.maxStartFutur?l(this.maxStartFutur,"00/00/0000 00:00"):""} `:""))}get el(){return s(this)}static get watchers(){return{activityEdit:["watchActivityEdit"]}}};w.style=y;const k='.tabsContainer{height:100%}.tabsContent .display{height:100%}.tabsContent{height:100%}.tabsFirstStyle{display:flex;justify-content:space-around;text-align:center}.tabsFirstStyle .active{color:var(--primary-color, #921a1d) !important;border:var(--primary-color, #921a1d) solid 1px !important;border-bottom:2.5px solid !important}.tabsFirstStyle s3p-icon-v2{display:inline-block;width:1em;height:1em;contain:strict;-webkit-box-sizing:content-box !important;box-sizing:content-box !important;font-size:32px;overflow:hidden;padding:7px}.tabsFirstStyle .tab{width:100%;font-size:1em;border-radius:4px;border:#89909e solid 1px;cursor:pointer}.tabsFirstStyle .disabled{color:#cecdcd !important;border:#cecdcd solid 1px}.tabsFirstStyle .blink{background:var(--primary-color, #921a1d) !important;border:var(--primary-color, #921a1d) solid 1px;animation:blinker 1s cubic-bezier(0.5, 0, 1, 1) infinite alternate}.tabsSecondStyle{height:6%;display:flex;padding-bottom:7px}.tabsSecondStyle .tab{flex:auto;border:none;color:grey;background:white;padding:10px;cursor:pointer;outline:none;font-size:0px;border-bottom:3px solid transparent;font-weight:bolder;display:flex;align-items:center;justify-content:center;font-family:"Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif}.tabsSecondStyle .active{border-bottom:3px solid var(--primary-color, #921a1d);color:var(--primary-color, #921a1d);font-size:18px}.tabsSecondStyle .blink{background:var(--primary-color, #921a1d) !important;color:white !important;animation:blinker 1s cubic-bezier(0.5, 0, 1, 1) infinite alternate}@keyframes blinker{from{opacity:1}to{opacity:0}}.no-display{display:none}.display{display:block}';const x=class{constructor(i){t(this,i);this.changeTabEvent=e(this,"changeTabEvent",7);this.styleGraphic=1}async componentWillLoad(){if(!this.tab&&this.tabs[0]){const t=this.tabs.find((t=>!t.disabled));this.tab=t.name}else if(this.tabs[0]){const t=this.tabs.find((t=>t.name===this.tab));if(!t||t&&t.disabled){const t=this.tabs.find((t=>!t.disabled));this.tab=t.name}}}async componentDidLoad(){}setTab(t){this.tab=t;this.changeTabEvent.emit(t)}setClass(){switch(this.styleGraphic){case 1:return"tabsFirstStyle";case 2:return"tabsSecondStyle"}}applyTab(t,i){if(this.saveName){let t=localStorage.getItem("previousSegment");if(!t){let t={[this.saveName]:this.tab};localStorage.setItem("previousSegment",JSON.stringify(t))}else{let i=JSON.parse(t);if(!i[this.saveName]||i[this.saveName]&&i[this.saveName]!==this.tab){i[this.saveName]=this.tab}localStorage.setItem("previousSegment",JSON.stringify(i))}}const e=this.tabs.find((i=>i.name===t));if(e&&e.disabled||!e){const t=this.tabs.find((t=>t.disabled===false));this.tab=i?i:t.name}}setColor(t){return t.class&&t.class==="blink"?"white":this.tab===t.name?"var(--primary-color, #921a1d)":t.disabled?"#cecdcd":"#424242"}renderOneStyle(t){return r("div",{class:`tab ${this.tab===t.name?"active":""}  ${t.class?t.class:""}  ${t.disabled?"disabled":""}`,title:t.displayName?t.displayName:"",onClick:()=>{!t.disabled?this.setTab(t.name):null}},t.icon?r("s3p-icon-v2",{center:true,name:t.icon,size:"large",color:this.setColor(t),badge:t.badge?{text:t.badge,color:"white",background:this.tab===t.name||t.class==="blink"?"black":"var(--primary-color, #921a1d)"}:null}):t.displayName)}renderTwoStyle(t){return r("button",{class:`tab ${this.tab===t.name?"active":""} ${t.class?t.class:""}  ${t.disabled?"disabled":""}`,onClick:()=>{this.setTab(t.name)},disabled:t.disabled},r("div",null,r("s3p-icon-v2",{center:true,name:t.icon,size:"large",color:this.setColor(t),badge:t.badge?{text:t.badge,color:"white",background:this.tab===t.name||t.class==="blink"?"black":"var(--primary-color, #921a1d)"}:null})),t.displayName?r("span",{style:{marginLeft:"10px"}},t.displayName):"")}renderTabs(){switch(this.styleGraphic){case 1:return r("div",{class:"tabsFirstStyle"},this.tabs.map((t=>t.display?this.renderOneStyle(t):"")));case 2:return r("div",{class:"tabsSecondStyle"},this.tabs.map((t=>t.display?this.renderTwoStyle(t):"")))}}render(){return r("div",{class:"tabsContainer"},this.renderTabs(),r("div",{class:"tabsContent"},r("slot",{name:`item-header`}),this.tabs.map((t=>r("div",{class:`${this.tab===t.name&&t.display?"display":"no-display"}`},r("slot",{name:`item-${t.name}`})))),r("slot",{name:`item-footer`})))}get element(){return s(this)}static get watchers(){return{tab:["applyTab"]}}};x.style=k;var _=m((function(t,e){
/**
 * vis-timeline and vis-graph2d
 * https://visjs.github.io/vis-timeline/
 *
 * Create a fully customizable, interactive timeline with items and ranges.
 *
 * @version 7.7.2
 * @date    2023-03-22T11:15:37.248Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */
!function(t,i){i(e)}(g,(function(t){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof g?g:"undefined"!=typeof self?self:{};function n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function r(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var s,o,a={},u={get exports(){return a},set exports(t){a=t}};function h(){return s||(s=1,function(t,i){t.exports=function(){var i,e;function n(){return i.apply(null,arguments)}function s(t){i=t}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function a(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function u(t,i){return Object.prototype.hasOwnProperty.call(t,i)}function h(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var i;for(i in t)if(u(t,i))return!1;return!0}function c(t){return void 0===t}function l(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function f(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function d(t,i){var e,n=[],r=t.length;for(e=0;e<r;++e)n.push(i(t[e],e));return n}function v(t,i){for(var e in i)u(i,e)&&(t[e]=i[e]);return u(i,"toString")&&(t.toString=i.toString),u(i,"valueOf")&&(t.valueOf=i.valueOf),t}function p(t,i,e,n){return Ve(t,i,e,n,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(t){return null==t._pf&&(t._pf=m()),t._pf}function b(t){if(null==t._isValid){var i=g(t),n=e.call(i.parsedDateParts,(function(t){return null!=t})),r=!isNaN(t._d.getTime())&&i.overflow<0&&!i.empty&&!i.invalidEra&&!i.invalidMonth&&!i.invalidWeekday&&!i.weekdayMismatch&&!i.nullInput&&!i.invalidFormat&&!i.userInvalidated&&(!i.meridiem||i.meridiem&&n);if(t._strict&&(r=r&&0===i.charsLeftOver&&0===i.unusedTokens.length&&void 0===i.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return r;t._isValid=r}return t._isValid}function y(t){var i=p(NaN);return null!=t?v(g(i),t):g(i).userInvalidated=!0,i}e=Array.prototype.some?Array.prototype.some:function(t){var i,e=Object(this),n=e.length>>>0;for(i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var w=n.momentProperties=[],k=!1;function x(t,i){var e,n,r,s=w.length;if(c(i._isAMomentObject)||(t._isAMomentObject=i._isAMomentObject),c(i._i)||(t._i=i._i),c(i._f)||(t._f=i._f),c(i._l)||(t._l=i._l),c(i._strict)||(t._strict=i._strict),c(i._tzm)||(t._tzm=i._tzm),c(i._isUTC)||(t._isUTC=i._isUTC),c(i._offset)||(t._offset=i._offset),c(i._pf)||(t._pf=g(i)),c(i._locale)||(t._locale=i._locale),s>0)for(e=0;e<s;e++)c(r=i[n=w[e]])||(t[n]=r);return t}function _(t){x(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===k&&(k=!0,n.updateOffset(this),k=!1)}function D(t){return t instanceof _||null!=t&&null!=t._isAMomentObject}function M(t){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,i){var e=!0;return v((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,t),e){var r,s,o,a=[],h=arguments.length;for(s=0;s<h;s++){if(r="","object"==typeof arguments[s]){for(o in r+="\n["+s+"] ",arguments[0])u(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[s];a.push(r)}M(t+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),e=!1}return i.apply(this,arguments)}),i)}var j,F={};function T(t,i){null!=n.deprecationHandler&&n.deprecationHandler(t,i),F[t]||(M(i),F[t]=!0)}function E(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function Y(t){var i,e;for(e in t)u(t,e)&&(E(i=t[e])?this[e]=i:this["_"+e]=i);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function A(t,i){var e,n=v({},t);for(e in i)u(i,e)&&(a(t[e])&&a(i[e])?(n[e]={},v(n[e],t[e]),v(n[e],i[e])):null!=i[e]?n[e]=i[e]:delete n[e]);for(e in t)u(t,e)&&!u(i,e)&&a(t[e])&&(n[e]=v({},n[e]));return n}function C(t){null!=t&&this.set(t)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,j=Object.keys?Object.keys:function(t){var i,e=[];for(i in t)u(t,i)&&e.push(i);return e};var O={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function L(t,i,e){var n=this._calendar[t]||this._calendar.sameElse;return E(n)?n.call(i,e):n}function z(t,i,e){var n=""+Math.abs(t),r=i-n.length;return(t>=0?e?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}var I=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,N=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,H={},P={};function R(t,i,e,n){var r=n;"string"==typeof n&&(r=function(){return this[n]()}),t&&(P[t]=r),i&&(P[i[0]]=function(){return z(r.apply(this,arguments),i[1],i[2])}),e&&(P[e]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function B(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function $(t){var i,e,n=t.match(I);for(i=0,e=n.length;i<e;i++)P[n[i]]?n[i]=P[n[i]]:n[i]=B(n[i]);return function(i){var r,s="";for(r=0;r<e;r++)s+=E(n[r])?n[r].call(i,t):n[r];return s}}function G(t,i){return t.isValid()?(i=W(i,t.localeData()),H[i]=H[i]||$(i),H[i](t)):t.localeData().invalidDate()}function W(t,i){var e=5;function n(t){return i.longDateFormat(t)||t}for(N.lastIndex=0;e>=0&&N.test(t);)t=t.replace(N,n),N.lastIndex=0,e-=1;return t}var U={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function q(t){var i=this._longDateFormat[t],e=this._longDateFormat[t.toUpperCase()];return i||!e?i:(this._longDateFormat[t]=e.match(I).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])}var V="Invalid date";function X(){return this._invalidDate}var Z="%d",J=/\d{1,2}/;function K(t){return this._ordinal.replace("%d",t)}var Q={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function tt(t,i,e,n){var r=this._relativeTime[e];return E(r)?r(t,i,e,n):r.replace(/%d/i,t)}function it(t,i){var e=this._relativeTime[t>0?"future":"past"];return E(e)?e(i):e.replace(/%s/i,i)}var et={};function nt(t,i){var e=t.toLowerCase();et[e]=et[e+"s"]=et[i]=t}function rt(t){return"string"==typeof t?et[t]||et[t.toLowerCase()]:void 0}function st(t){var i,e,n={};for(e in t)u(t,e)&&(i=rt(e))&&(n[i]=t[e]);return n}var ot={};function at(t,i){ot[t]=i}function ut(t){var i,e=[];for(i in t)u(t,i)&&e.push({unit:i,priority:ot[i]});return e.sort((function(t,i){return t.priority-i.priority})),e}function ht(t){return t%4==0&&t%100!=0||t%400==0}function ct(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function lt(t){var i=+t,e=0;return 0!==i&&isFinite(i)&&(e=ct(i)),e}function ft(t,i){return function(e){return null!=e?(vt(this,t,e),n.updateOffset(this,i),this):dt(this,t)}}function dt(t,i){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+i]():NaN}function vt(t,i,e){t.isValid()&&!isNaN(e)&&("FullYear"===i&&ht(t.year())&&1===t.month()&&29===t.date()?(e=lt(e),t._d["set"+(t._isUTC?"UTC":"")+i](e,t.month(),ti(e,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+i](e))}function pt(t){return E(this[t=rt(t)])?this[t]():this}function mt(t,i){if("object"==typeof t){var e,n=ut(t=st(t)),r=n.length;for(e=0;e<r;e++)this[n[e].unit](t[n[e].unit])}else if(E(this[t=rt(t)]))return this[t](i);return this}var gt,bt=/\d/,yt=/\d\d/,wt=/\d{3}/,kt=/\d{4}/,xt=/[+-]?\d{6}/,_t=/\d\d?/,Dt=/\d\d\d\d?/,Mt=/\d\d\d\d\d\d?/,St=/\d{1,3}/,jt=/\d{1,4}/,Ft=/[+-]?\d{1,6}/,Tt=/\d+/,Et=/[+-]?\d+/,Yt=/Z|[+-]\d\d:?\d\d/gi,At=/Z|[+-]\d\d(?::?\d\d)?/gi,Ct=/[+-]?\d+(\.\d{1,3})?/,Ot=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Lt(t,i,e){gt[t]=E(i)?i:function(t,n){return t&&e?e:i}}function zt(t,i){return u(gt,t)?gt[t](i._strict,i._locale):new RegExp(It(t))}function It(t){return Nt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,i,e,n,r){return i||e||n||r})))}function Nt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}gt={};var Ht={};function Pt(t,i){var e,n,r=i;for("string"==typeof t&&(t=[t]),l(i)&&(r=function(t,e){e[i]=lt(t)}),n=t.length,e=0;e<n;e++)Ht[t[e]]=r}function Rt(t,i){Pt(t,(function(t,e,n,r){n._w=n._w||{},i(t,n._w,n,r)}))}function Bt(t,i,e){null!=i&&u(Ht,t)&&Ht[t](i,e._a,e,t)}var $t,Gt=0,Wt=1,Ut=2,qt=3,Vt=4,Xt=5,Zt=6,Jt=7,Kt=8;function Qt(t,i){return(t%i+i)%i}function ti(t,i){if(isNaN(t)||isNaN(i))return NaN;var e=Qt(i,12);return t+=(i-e)/12,1===e?ht(t)?29:28:31-e%7%2}$t=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var i;for(i=0;i<this.length;++i)if(this[i]===t)return i;return-1},R("M",["MM",2],"Mo",(function(){return this.month()+1})),R("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),R("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),nt("month","M"),at("month",8),Lt("M",_t),Lt("MM",_t,yt),Lt("MMM",(function(t,i){return i.monthsShortRegex(t)})),Lt("MMMM",(function(t,i){return i.monthsRegex(t)})),Pt(["M","MM"],(function(t,i){i[Wt]=lt(t)-1})),Pt(["MMM","MMMM"],(function(t,i,e,n){var r=e._locale.monthsParse(t,n,e._strict);null!=r?i[Wt]=r:g(e).invalidMonth=t}));var ii="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ei="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ni=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ri=Ot,si=Ot;function oi(t,i){return t?o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ni).test(i)?"format":"standalone"][t.month()]:o(this._months)?this._months:this._months.standalone}function ai(t,i){return t?o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ni.test(i)?"format":"standalone"][t.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ui(t,i,e){var n,r,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=p([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return e?"MMM"===i?-1!==(r=$t.call(this._shortMonthsParse,o))?r:null:-1!==(r=$t.call(this._longMonthsParse,o))?r:null:"MMM"===i?-1!==(r=$t.call(this._shortMonthsParse,o))||-1!==(r=$t.call(this._longMonthsParse,o))?r:null:-1!==(r=$t.call(this._longMonthsParse,o))||-1!==(r=$t.call(this._shortMonthsParse,o))?r:null}function hi(t,i,e){var n,r,s;if(this._monthsParseExact)return ui.call(this,t,i,e);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=p([2e3,n]),e&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),e||this._monthsParse[n]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),e&&"MMMM"===i&&this._longMonthsParse[n].test(t))return n;if(e&&"MMM"===i&&this._shortMonthsParse[n].test(t))return n;if(!e&&this._monthsParse[n].test(t))return n}}function ci(t,i){var e;if(!t.isValid())return t;if("string"==typeof i)if(/^\d+$/.test(i))i=lt(i);else if(!l(i=t.localeData().monthsParse(i)))return t;return e=Math.min(t.date(),ti(t.year(),i)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](i,e),t}function li(t){return null!=t?(ci(this,t),n.updateOffset(this,!0),this):dt(this,"Month")}function fi(){return ti(this.year(),this.month())}function di(t){return this._monthsParseExact?(u(this,"_monthsRegex")||pi.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=ri),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function vi(t){return this._monthsParseExact?(u(this,"_monthsRegex")||pi.call(this),t?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=si),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function pi(){function t(t,i){return i.length-t.length}var i,e,n=[],r=[],s=[];for(i=0;i<12;i++)e=p([2e3,i]),n.push(this.monthsShort(e,"")),r.push(this.months(e,"")),s.push(this.months(e,"")),s.push(this.monthsShort(e,""));for(n.sort(t),r.sort(t),s.sort(t),i=0;i<12;i++)n[i]=Nt(n[i]),r[i]=Nt(r[i]);for(i=0;i<24;i++)s[i]=Nt(s[i]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function mi(t){return ht(t)?366:365}R("Y",0,0,(function(){var t=this.year();return t<=9999?z(t,4):"+"+t})),R(0,["YY",2],0,(function(){return this.year()%100})),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),nt("year","y"),at("year",1),Lt("Y",Et),Lt("YY",_t,yt),Lt("YYYY",jt,kt),Lt("YYYYY",Ft,xt),Lt("YYYYYY",Ft,xt),Pt(["YYYYY","YYYYYY"],Gt),Pt("YYYY",(function(t,i){i[Gt]=2===t.length?n.parseTwoDigitYear(t):lt(t)})),Pt("YY",(function(t,i){i[Gt]=n.parseTwoDigitYear(t)})),Pt("Y",(function(t,i){i[Gt]=parseInt(t,10)})),n.parseTwoDigitYear=function(t){return lt(t)+(lt(t)>68?1900:2e3)};var gi=ft("FullYear",!0);function bi(){return ht(this.year())}function yi(t,i,e,n,r,s,o){var a;return t<100&&t>=0?(a=new Date(t+400,i,e,n,r,s,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,i,e,n,r,s,o),a}function wi(t){var i,e;return t<100&&t>=0?((e=Array.prototype.slice.call(arguments))[0]=t+400,i=new Date(Date.UTC.apply(null,e)),isFinite(i.getUTCFullYear())&&i.setUTCFullYear(t)):i=new Date(Date.UTC.apply(null,arguments)),i}function ki(t,i,e){var n=7+i-e;return-(7+wi(t,0,n).getUTCDay()-i)%7+n-1}function xi(t,i,e,n,r){var s,o,a=1+7*(i-1)+(7+e-n)%7+ki(t,n,r);return a<=0?o=mi(s=t-1)+a:a>mi(t)?(s=t+1,o=a-mi(t)):(s=t,o=a),{year:s,dayOfYear:o}}function _i(t,i,e){var n,r,s=ki(t.year(),i,e),o=Math.floor((t.dayOfYear()-s-1)/7)+1;return o<1?n=o+Di(r=t.year()-1,i,e):o>Di(t.year(),i,e)?(n=o-Di(t.year(),i,e),r=t.year()+1):(r=t.year(),n=o),{week:n,year:r}}function Di(t,i,e){var n=ki(t,i,e),r=ki(t+1,i,e);return(mi(t)-n+r)/7}function Mi(t){return _i(t,this._week.dow,this._week.doy).week}R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),nt("week","w"),nt("isoWeek","W"),at("week",5),at("isoWeek",5),Lt("w",_t),Lt("ww",_t,yt),Lt("W",_t),Lt("WW",_t,yt),Rt(["w","ww","W","WW"],(function(t,i,e,n){i[n.substr(0,1)]=lt(t)}));var Si={dow:0,doy:6};function ji(){return this._week.dow}function Fi(){return this._week.doy}function Ti(t){var i=this.localeData().week(this);return null==t?i:this.add(7*(t-i),"d")}function Ei(t){var i=_i(this,1,4).week;return null==t?i:this.add(7*(t-i),"d")}function Yi(t,i){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=i.weekdaysParse(t))?t:null:parseInt(t,10)}function Ai(t,i){return"string"==typeof t?i.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Ci(t,i){return t.slice(i,7).concat(t.slice(0,i))}R("d",0,"do","day"),R("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),R("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),R("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),nt("day","d"),nt("weekday","e"),nt("isoWeekday","E"),at("day",11),at("weekday",11),at("isoWeekday",11),Lt("d",_t),Lt("e",_t),Lt("E",_t),Lt("dd",(function(t,i){return i.weekdaysMinRegex(t)})),Lt("ddd",(function(t,i){return i.weekdaysShortRegex(t)})),Lt("dddd",(function(t,i){return i.weekdaysRegex(t)})),Rt(["dd","ddd","dddd"],(function(t,i,e,n){var r=e._locale.weekdaysParse(t,n,e._strict);null!=r?i.d=r:g(e).invalidWeekday=t})),Rt(["d","e","E"],(function(t,i,e,n){i[n]=lt(t)}));var Oi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Li="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),zi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ii=Ot,Ni=Ot,Hi=Ot;function Pi(t,i){var e=o(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(i)?"format":"standalone"];return!0===t?Ci(e,this._week.dow):t?e[t.day()]:e}function Ri(t){return!0===t?Ci(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Bi(t){return!0===t?Ci(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function $i(t,i,e){var n,r,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=p([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return e?"dddd"===i?-1!==(r=$t.call(this._weekdaysParse,o))?r:null:"ddd"===i?-1!==(r=$t.call(this._shortWeekdaysParse,o))?r:null:-1!==(r=$t.call(this._minWeekdaysParse,o))?r:null:"dddd"===i?-1!==(r=$t.call(this._weekdaysParse,o))||-1!==(r=$t.call(this._shortWeekdaysParse,o))||-1!==(r=$t.call(this._minWeekdaysParse,o))?r:null:"ddd"===i?-1!==(r=$t.call(this._shortWeekdaysParse,o))||-1!==(r=$t.call(this._weekdaysParse,o))||-1!==(r=$t.call(this._minWeekdaysParse,o))?r:null:-1!==(r=$t.call(this._minWeekdaysParse,o))||-1!==(r=$t.call(this._weekdaysParse,o))||-1!==(r=$t.call(this._shortWeekdaysParse,o))?r:null}function Gi(t,i,e){var n,r,s;if(this._weekdaysParseExact)return $i.call(this,t,i,e);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=p([2e3,1]).day(n),e&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),e&&"dddd"===i&&this._fullWeekdaysParse[n].test(t))return n;if(e&&"ddd"===i&&this._shortWeekdaysParse[n].test(t))return n;if(e&&"dd"===i&&this._minWeekdaysParse[n].test(t))return n;if(!e&&this._weekdaysParse[n].test(t))return n}}function Wi(t){if(!this.isValid())return null!=t?this:NaN;var i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Yi(t,this.localeData()),this.add(t-i,"d")):i}function Ui(t){if(!this.isValid())return null!=t?this:NaN;var i=(this.day()+7-this.localeData()._week.dow)%7;return null==t?i:this.add(t-i,"d")}function qi(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var i=Ai(t,this.localeData());return this.day(this.day()%7?i:i-7)}return this.day()||7}function Vi(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ji.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Ii),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Xi(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ji.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ni),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Zi(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ji.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Hi),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ji(){function t(t,i){return i.length-t.length}var i,e,n,r,s,o=[],a=[],u=[],h=[];for(i=0;i<7;i++)e=p([2e3,1]).day(i),n=Nt(this.weekdaysMin(e,"")),r=Nt(this.weekdaysShort(e,"")),s=Nt(this.weekdays(e,"")),o.push(n),a.push(r),u.push(s),h.push(n),h.push(r),h.push(s);o.sort(t),a.sort(t),u.sort(t),h.sort(t),this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Ki(){return this.hours()%12||12}function Qi(){return this.hours()||24}function te(t,i){R(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),i)}))}function ie(t,i){return i._meridiemParse}function ee(t){return"p"===(t+"").toLowerCase().charAt(0)}R("H",["HH",2],0,"hour"),R("h",["hh",2],0,Ki),R("k",["kk",2],0,Qi),R("hmm",0,0,(function(){return""+Ki.apply(this)+z(this.minutes(),2)})),R("hmmss",0,0,(function(){return""+Ki.apply(this)+z(this.minutes(),2)+z(this.seconds(),2)})),R("Hmm",0,0,(function(){return""+this.hours()+z(this.minutes(),2)})),R("Hmmss",0,0,(function(){return""+this.hours()+z(this.minutes(),2)+z(this.seconds(),2)})),te("a",!0),te("A",!1),nt("hour","h"),at("hour",13),Lt("a",ie),Lt("A",ie),Lt("H",_t),Lt("h",_t),Lt("k",_t),Lt("HH",_t,yt),Lt("hh",_t,yt),Lt("kk",_t,yt),Lt("hmm",Dt),Lt("hmmss",Mt),Lt("Hmm",Dt),Lt("Hmmss",Mt),Pt(["H","HH"],qt),Pt(["k","kk"],(function(t,i,e){var n=lt(t);i[qt]=24===n?0:n})),Pt(["a","A"],(function(t,i,e){e._isPm=e._locale.isPM(t),e._meridiem=t})),Pt(["h","hh"],(function(t,i,e){i[qt]=lt(t),g(e).bigHour=!0})),Pt("hmm",(function(t,i,e){var n=t.length-2;i[qt]=lt(t.substr(0,n)),i[Vt]=lt(t.substr(n)),g(e).bigHour=!0})),Pt("hmmss",(function(t,i,e){var n=t.length-4,r=t.length-2;i[qt]=lt(t.substr(0,n)),i[Vt]=lt(t.substr(n,2)),i[Xt]=lt(t.substr(r)),g(e).bigHour=!0})),Pt("Hmm",(function(t,i,e){var n=t.length-2;i[qt]=lt(t.substr(0,n)),i[Vt]=lt(t.substr(n))})),Pt("Hmmss",(function(t,i,e){var n=t.length-4,r=t.length-2;i[qt]=lt(t.substr(0,n)),i[Vt]=lt(t.substr(n,2)),i[Xt]=lt(t.substr(r))}));var ne=/[ap]\.?m?\.?/i,re=ft("Hours",!0);function se(t,i,e){return t>11?e?"pm":"PM":e?"am":"AM"}var oe,ae={calendar:O,longDateFormat:U,invalidDate:V,ordinal:Z,dayOfMonthOrdinalParse:J,relativeTime:Q,months:ii,monthsShort:ei,week:Si,weekdays:Oi,weekdaysMin:zi,weekdaysShort:Li,meridiemParse:ne},ue={},he={};function ce(t,i){var e,n=Math.min(t.length,i.length);for(e=0;e<n;e+=1)if(t[e]!==i[e])return e;return n}function le(t){return t?t.toLowerCase().replace("_","-"):t}function fe(t){for(var i,e,n,r,s=0;s<t.length;){for(i=(r=le(t[s]).split("-")).length,e=(e=le(t[s+1]))?e.split("-"):null;i>0;){if(n=ve(r.slice(0,i).join("-")))return n;if(e&&e.length>=i&&ce(r,e)>=i-1)break;i--}s++}return oe}function de(t){return null!=t.match("^[^/\\\\]*$")}function ve(i){var e=null;if(void 0===ue[i]&&t&&t.exports&&de(i))try{e=oe._abbr,r("./locale/"+i),pe(e)}catch(t){ue[i]=null}return ue[i]}function pe(t,i){var e;return t&&((e=c(i)?be(t):me(t,i))?oe=e:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),oe._abbr}function me(t,i){if(null!==i){var e,n=ae;if(i.abbr=t,null!=ue[t])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ue[t]._config;else if(null!=i.parentLocale)if(null!=ue[i.parentLocale])n=ue[i.parentLocale]._config;else{if(null==(e=ve(i.parentLocale)))return he[i.parentLocale]||(he[i.parentLocale]=[]),he[i.parentLocale].push({name:t,config:i}),null;n=e._config}return ue[t]=new C(A(n,i)),he[t]&&he[t].forEach((function(t){me(t.name,t.config)})),pe(t),ue[t]}return delete ue[t],null}function ge(t,i){if(null!=i){var e,n,r=ae;null!=ue[t]&&null!=ue[t].parentLocale?ue[t].set(A(ue[t]._config,i)):(null!=(n=ve(t))&&(r=n._config),i=A(r,i),null==n&&(i.abbr=t),(e=new C(i)).parentLocale=ue[t],ue[t]=e),pe(t)}else null!=ue[t]&&(null!=ue[t].parentLocale?(ue[t]=ue[t].parentLocale,t===pe()&&pe(t)):null!=ue[t]&&delete ue[t]);return ue[t]}function be(t){var i;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return oe;if(!o(t)){if(i=ve(t))return i;t=[t]}return fe(t)}function ye(){return j(ue)}function we(t){var i,e=t._a;return e&&-2===g(t).overflow&&(i=e[Wt]<0||e[Wt]>11?Wt:e[Ut]<1||e[Ut]>ti(e[Gt],e[Wt])?Ut:e[qt]<0||e[qt]>24||24===e[qt]&&(0!==e[Vt]||0!==e[Xt]||0!==e[Zt])?qt:e[Vt]<0||e[Vt]>59?Vt:e[Xt]<0||e[Xt]>59?Xt:e[Zt]<0||e[Zt]>999?Zt:-1,g(t)._overflowDayOfYear&&(i<Gt||i>Ut)&&(i=Ut),g(t)._overflowWeeks&&-1===i&&(i=Jt),g(t)._overflowWeekday&&-1===i&&(i=Kt),g(t).overflow=i),t}var ke=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_e=/Z|[+-]\d\d(?::?\d\d)?/,De=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Me=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Se=/^\/?Date\((-?\d+)/i,je=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Fe={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Te(t){var i,e,n,r,s,o,a=t._i,u=ke.exec(a)||xe.exec(a),h=De.length,c=Me.length;if(u){for(g(t).iso=!0,i=0,e=h;i<e;i++)if(De[i][1].exec(u[1])){r=De[i][0],n=!1!==De[i][2];break}if(null==r)return void(t._isValid=!1);if(u[3]){for(i=0,e=c;i<e;i++)if(Me[i][1].exec(u[3])){s=(u[2]||" ")+Me[i][0];break}if(null==s)return void(t._isValid=!1)}if(!n&&null!=s)return void(t._isValid=!1);if(u[4]){if(!_e.exec(u[4]))return void(t._isValid=!1);o="Z"}t._f=r+(s||"")+(o||""),Re(t)}else t._isValid=!1}function Ee(t,i,e,n,r,s){var o=[Ye(t),ei.indexOf(i),parseInt(e,10),parseInt(n,10),parseInt(r,10)];return s&&o.push(parseInt(s,10)),o}function Ye(t){var i=parseInt(t,10);return i<=49?2e3+i:i<=999?1900+i:i}function Ae(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ce(t,i,e){return!t||Li.indexOf(t)===new Date(i[0],i[1],i[2]).getDay()||(g(e).weekdayMismatch=!0,e._isValid=!1,!1)}function Oe(t,i,e){if(t)return Fe[t];if(i)return 0;var n=parseInt(e,10),r=n%100;return(n-r)/100*60+r}function Le(t){var i,e=je.exec(Ae(t._i));if(e){if(i=Ee(e[4],e[3],e[2],e[5],e[6],e[7]),!Ce(e[1],i,t))return;t._a=i,t._tzm=Oe(e[8],e[9],e[10]),t._d=wi.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),g(t).rfc2822=!0}else t._isValid=!1}function ze(t){var i=Se.exec(t._i);null===i?(Te(t),!1===t._isValid&&(delete t._isValid,Le(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:n.createFromInputFallback(t)))):t._d=new Date(+i[1])}function Ie(t,i,e){return null!=t?t:null!=i?i:e}function Ne(t){var i=new Date(n.now());return t._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function He(t){var i,e,n,r,s,o=[];if(!t._d){for(n=Ne(t),t._w&&null==t._a[Ut]&&null==t._a[Wt]&&Pe(t),null!=t._dayOfYear&&(s=Ie(t._a[Gt],n[Gt]),(t._dayOfYear>mi(s)||0===t._dayOfYear)&&(g(t)._overflowDayOfYear=!0),e=wi(s,0,t._dayOfYear),t._a[Wt]=e.getUTCMonth(),t._a[Ut]=e.getUTCDate()),i=0;i<3&&null==t._a[i];++i)t._a[i]=o[i]=n[i];for(;i<7;i++)t._a[i]=o[i]=null==t._a[i]?2===i?1:0:t._a[i];24===t._a[qt]&&0===t._a[Vt]&&0===t._a[Xt]&&0===t._a[Zt]&&(t._nextDay=!0,t._a[qt]=0),t._d=(t._useUTC?wi:yi).apply(null,o),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[qt]=24),t._w&&void 0!==t._w.d&&t._w.d!==r&&(g(t).weekdayMismatch=!0)}}function Pe(t){var i,e,n,r,s,o,a,u,h;null!=(i=t._w).GG||null!=i.W||null!=i.E?(s=1,o=4,e=Ie(i.GG,t._a[Gt],_i(Xe(),1,4).year),n=Ie(i.W,1),((r=Ie(i.E,1))<1||r>7)&&(u=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,h=_i(Xe(),s,o),e=Ie(i.gg,t._a[Gt],h.year),n=Ie(i.w,h.week),null!=i.d?((r=i.d)<0||r>6)&&(u=!0):null!=i.e?(r=i.e+s,(i.e<0||i.e>6)&&(u=!0)):r=s),n<1||n>Di(e,s,o)?g(t)._overflowWeeks=!0:null!=u?g(t)._overflowWeekday=!0:(a=xi(e,n,r,s,o),t._a[Gt]=a.year,t._dayOfYear=a.dayOfYear)}function Re(t){if(t._f!==n.ISO_8601)if(t._f!==n.RFC_2822){t._a=[],g(t).empty=!0;var i,e,r,s,o,a,u,h=""+t._i,c=h.length,l=0;for(u=(r=W(t._f,t._locale).match(I)||[]).length,i=0;i<u;i++)s=r[i],(e=(h.match(zt(s,t))||[])[0])&&((o=h.substr(0,h.indexOf(e))).length>0&&g(t).unusedInput.push(o),h=h.slice(h.indexOf(e)+e.length),l+=e.length),P[s]?(e?g(t).empty=!1:g(t).unusedTokens.push(s),Bt(s,e,t)):t._strict&&!e&&g(t).unusedTokens.push(s);g(t).charsLeftOver=c-l,h.length>0&&g(t).unusedInput.push(h),t._a[qt]<=12&&!0===g(t).bigHour&&t._a[qt]>0&&(g(t).bigHour=void 0),g(t).parsedDateParts=t._a.slice(0),g(t).meridiem=t._meridiem,t._a[qt]=Be(t._locale,t._a[qt],t._meridiem),null!==(a=g(t).era)&&(t._a[Gt]=t._locale.erasConvertYear(a,t._a[Gt])),He(t),we(t)}else Le(t);else Te(t)}function Be(t,i,e){var n;return null==e?i:null!=t.meridiemHour?t.meridiemHour(i,e):null!=t.isPM?((n=t.isPM(e))&&i<12&&(i+=12),n||12!==i||(i=0),i):i}function $e(t){var i,e,n,r,s,o,a=!1,u=t._f.length;if(0===u)return g(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<u;r++)s=0,o=!1,i=x({},t),null!=t._useUTC&&(i._useUTC=t._useUTC),i._f=t._f[r],Re(i),b(i)&&(o=!0),s+=g(i).charsLeftOver,s+=10*g(i).unusedTokens.length,g(i).score=s,a?s<n&&(n=s,e=i):(null==n||s<n||o)&&(n=s,e=i,o&&(a=!0));v(t,e||i)}function Ge(t){if(!t._d){var i=st(t._i),e=void 0===i.day?i.date:i.day;t._a=d([i.year,i.month,e,i.hour,i.minute,i.second,i.millisecond],(function(t){return t&&parseInt(t,10)})),He(t)}}function We(t){var i=new _(we(Ue(t)));return i._nextDay&&(i.add(1,"d"),i._nextDay=void 0),i}function Ue(t){var i=t._i,e=t._f;return t._locale=t._locale||be(t._l),null===i||void 0===e&&""===i?y({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),D(i)?new _(we(i)):(f(i)?t._d=i:o(e)?$e(t):e?Re(t):qe(t),b(t)||(t._d=null),t))}function qe(t){var i=t._i;c(i)?t._d=new Date(n.now()):f(i)?t._d=new Date(i.valueOf()):"string"==typeof i?ze(t):o(i)?(t._a=d(i.slice(0),(function(t){return parseInt(t,10)})),He(t)):a(i)?Ge(t):l(i)?t._d=new Date(i):n.createFromInputFallback(t)}function Ve(t,i,e,n,r){var s={};return!0!==i&&!1!==i||(n=i,i=void 0),!0!==e&&!1!==e||(n=e,e=void 0),(a(t)&&h(t)||o(t)&&0===t.length)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=e,s._i=t,s._f=i,s._strict=n,We(s)}function Xe(t,i,e,n){return Ve(t,i,e,n,!1)}n.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var Ze=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Xe.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:y()})),Je=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Xe.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:y()}));function Ke(t,i){var e,n;if(1===i.length&&o(i[0])&&(i=i[0]),!i.length)return Xe();for(e=i[0],n=1;n<i.length;++n)i[n].isValid()&&!i[n][t](e)||(e=i[n]);return e}function Qe(){return Ke("isBefore",[].slice.call(arguments,0))}function tn(){return Ke("isAfter",[].slice.call(arguments,0))}var en=function(){return Date.now?Date.now():+new Date},nn=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rn(t){var i,e,n=!1,r=nn.length;for(i in t)if(u(t,i)&&(-1===$t.call(nn,i)||null!=t[i]&&isNaN(t[i])))return!1;for(e=0;e<r;++e)if(t[nn[e]]){if(n)return!1;parseFloat(t[nn[e]])!==lt(t[nn[e]])&&(n=!0)}return!0}function sn(){return this._isValid}function on(){return Tn(NaN)}function an(t){var i=st(t),e=i.year||0,n=i.quarter||0,r=i.month||0,s=i.week||i.isoWeek||0,o=i.day||0,a=i.hour||0,u=i.minute||0,h=i.second||0,c=i.millisecond||0;this._isValid=rn(i),this._milliseconds=+c+1e3*h+6e4*u+1e3*a*60*60,this._days=+o+7*s,this._months=+r+3*n+12*e,this._data={},this._locale=be(),this._bubble()}function un(t){return t instanceof an}function hn(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function cn(t,i,e){var n,r=Math.min(t.length,i.length),s=Math.abs(t.length-i.length),o=0;for(n=0;n<r;n++)(e&&t[n]!==i[n]||!e&&lt(t[n])!==lt(i[n]))&&o++;return o+s}function ln(t,i){R(t,0,0,(function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+z(~~(t/60),2)+i+z(~~t%60,2)}))}ln("Z",":"),ln("ZZ",""),Lt("Z",At),Lt("ZZ",At),Pt(["Z","ZZ"],(function(t,i,e){e._useUTC=!0,e._tzm=dn(At,t)}));var fn=/([\+\-]|\d\d)/gi;function dn(t,i){var e,n,r=(i||"").match(t);return null===r?null:0===(n=60*(e=((r[r.length-1]||[])+"").match(fn)||["-",0,0])[1]+lt(e[2]))?0:"+"===e[0]?n:-n}function vn(t,i){var e,r;return i._isUTC?(e=i.clone(),r=(D(t)||f(t)?t.valueOf():Xe(t).valueOf())-e.valueOf(),e._d.setTime(e._d.valueOf()+r),n.updateOffset(e,!1),e):Xe(t).local()}function pn(t){return-Math.round(t._d.getTimezoneOffset())}function mn(t,i,e){var r,s=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=dn(At,t)))return this}else Math.abs(t)<16&&!e&&(t*=60);return!this._isUTC&&i&&(r=pn(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),s!==t&&(!i||this._changeInProgress?On(this,Tn(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:pn(this)}function gn(t,i){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,i),this):-this.utcOffset()}function bn(t){return this.utcOffset(0,t)}function yn(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(pn(this),"m")),this}function wn(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=dn(Yt,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function kn(t){return!!this.isValid()&&(t=t?Xe(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function xn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function _n(){if(!c(this._isDSTShifted))return this._isDSTShifted;var t,i={};return x(i,this),(i=Ue(i))._a?(t=i._isUTC?p(i._a):Xe(i._a),this._isDSTShifted=this.isValid()&&cn(i._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Dn(){return!!this.isValid()&&!this._isUTC}function Mn(){return!!this.isValid()&&this._isUTC}function Sn(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var jn=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Fn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Tn(t,i){var e,n,r,s=t,o=null;return un(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:l(t)||!isNaN(+t)?(s={},i?s[i]=+t:s.milliseconds=+t):(o=jn.exec(t))?(e="-"===o[1]?-1:1,s={y:0,d:lt(o[Ut])*e,h:lt(o[qt])*e,m:lt(o[Vt])*e,s:lt(o[Xt])*e,ms:lt(hn(1e3*o[Zt]))*e}):(o=Fn.exec(t))?(e="-"===o[1]?-1:1,s={y:En(o[2],e),M:En(o[3],e),w:En(o[4],e),d:En(o[5],e),h:En(o[6],e),m:En(o[7],e),s:En(o[8],e)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(r=An(Xe(s.from),Xe(s.to)),(s={}).ms=r.milliseconds,s.M=r.months),n=new an(s),un(t)&&u(t,"_locale")&&(n._locale=t._locale),un(t)&&u(t,"_isValid")&&(n._isValid=t._isValid),n}function En(t,i){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*i}function Yn(t,i){var e={};return e.months=i.month()-t.month()+12*(i.year()-t.year()),t.clone().add(e.months,"M").isAfter(i)&&--e.months,e.milliseconds=+i-+t.clone().add(e.months,"M"),e}function An(t,i){var e;return t.isValid()&&i.isValid()?(i=vn(i,t),t.isBefore(i)?e=Yn(t,i):((e=Yn(i,t)).milliseconds=-e.milliseconds,e.months=-e.months),e):{milliseconds:0,months:0}}function Cn(t,i){return function(e,n){var r;return null===n||isNaN(+n)||(T(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=e,e=n,n=r),On(this,Tn(e,n),t),this}}function On(t,i,e,r){var s=i._milliseconds,o=hn(i._days),a=hn(i._months);t.isValid()&&(r=null==r||r,a&&ci(t,dt(t,"Month")+a*e),o&&vt(t,"Date",dt(t,"Date")+o*e),s&&t._d.setTime(t._d.valueOf()+s*e),r&&n.updateOffset(t,o||a))}Tn.fn=an.prototype,Tn.invalid=on;var Ln=Cn(1,"add"),zn=Cn(-1,"subtract");function In(t){return"string"==typeof t||t instanceof String}function Nn(t){return D(t)||f(t)||In(t)||l(t)||Pn(t)||Hn(t)||null==t}function Hn(t){var i,e,n=a(t)&&!h(t),r=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o=s.length;for(i=0;i<o;i+=1)e=s[i],r=r||u(t,e);return n&&r}function Pn(t){var i=o(t),e=!1;return i&&(e=0===t.filter((function(i){return!l(i)&&In(t)})).length),i&&e}function Rn(t){var i,e,n=a(t)&&!h(t),r=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(i=0;i<s.length;i+=1)e=s[i],r=r||u(t,e);return n&&r}function Bn(t,i){var e=t.diff(i,"days",!0);return e<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse"}function $n(t,i){1===arguments.length&&(arguments[0]?Nn(arguments[0])?(t=arguments[0],i=void 0):Rn(arguments[0])&&(i=arguments[0],t=void 0):(t=void 0,i=void 0));var e=t||Xe(),r=vn(e,this).startOf("day"),s=n.calendarFormat(this,r)||"sameElse",o=i&&(E(i[s])?i[s].call(this,e):i[s]);return this.format(o||this.localeData().calendar(s,this,Xe(e)))}function Gn(){return new _(this)}function Wn(t,i){var e=D(t)?t:Xe(t);return!(!this.isValid()||!e.isValid())&&("millisecond"===(i=rt(i)||"millisecond")?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(i).valueOf())}function Un(t,i){var e=D(t)?t:Xe(t);return!(!this.isValid()||!e.isValid())&&("millisecond"===(i=rt(i)||"millisecond")?this.valueOf()<e.valueOf():this.clone().endOf(i).valueOf()<e.valueOf())}function qn(t,i,e,n){var r=D(t)?t:Xe(t),s=D(i)?i:Xe(i);return!!(this.isValid()&&r.isValid()&&s.isValid())&&("("===(n=n||"()")[0]?this.isAfter(r,e):!this.isBefore(r,e))&&(")"===n[1]?this.isBefore(s,e):!this.isAfter(s,e))}function Vn(t,i){var e,n=D(t)?t:Xe(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(i=rt(i)||"millisecond")?this.valueOf()===n.valueOf():(e=n.valueOf(),this.clone().startOf(i).valueOf()<=e&&e<=this.clone().endOf(i).valueOf()))}function Xn(t,i){return this.isSame(t,i)||this.isAfter(t,i)}function Zn(t,i){return this.isSame(t,i)||this.isBefore(t,i)}function Jn(t,i,e){var n,r,s;if(!this.isValid())return NaN;if(!(n=vn(t,this)).isValid())return NaN;switch(r=6e4*(n.utcOffset()-this.utcOffset()),i=rt(i)){case"year":s=Kn(this,n)/12;break;case"month":s=Kn(this,n);break;case"quarter":s=Kn(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-r)/864e5;break;case"week":s=(this-n-r)/6048e5;break;default:s=this-n}return e?s:ct(s)}function Kn(t,i){if(t.date()<i.date())return-Kn(i,t);var e=12*(i.year()-t.year())+(i.month()-t.month()),n=t.clone().add(e,"months");return-(e+(i-n<0?(i-n)/(n-t.clone().add(e-1,"months")):(i-n)/(t.clone().add(e+1,"months")-n)))||0}function Qn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function tr(t){if(!this.isValid())return null;var i=!0!==t,e=i?this.clone().utc():this;return e.year()<0||e.year()>9999?G(e,i?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):E(Date.prototype.toISOString)?i?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",G(e,"Z")):G(e,i?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ir(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,i,e,n,r="moment",s="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",s="Z"),t="["+r+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",e="-MM-DD[T]HH:mm:ss.SSS",n=s+'[")]',this.format(t+i+e+n)}function er(t){t||(t=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var i=G(this,t);return this.localeData().postformat(i)}function nr(t,i){return this.isValid()&&(D(t)&&t.isValid()||Xe(t).isValid())?Tn({to:this,from:t}).locale(this.locale()).humanize(!i):this.localeData().invalidDate()}function rr(t){return this.from(Xe(),t)}function sr(t,i){return this.isValid()&&(D(t)&&t.isValid()||Xe(t).isValid())?Tn({from:this,to:t}).locale(this.locale()).humanize(!i):this.localeData().invalidDate()}function or(t){return this.to(Xe(),t)}function ar(t){var i;return void 0===t?this._locale._abbr:(null!=(i=be(t))&&(this._locale=i),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ur=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function hr(){return this._locale}var cr=1e3,lr=60*cr,fr=60*lr,dr=3506328*fr;function vr(t,i){return(t%i+i)%i}function pr(t,i,e){return t<100&&t>=0?new Date(t+400,i,e)-dr:new Date(t,i,e).valueOf()}function mr(t,i,e){return t<100&&t>=0?Date.UTC(t+400,i,e)-dr:Date.UTC(t,i,e)}function gr(t){var i,e;if(void 0===(t=rt(t))||"millisecond"===t||!this.isValid())return this;switch(e=this._isUTC?mr:pr,t){case"year":i=e(this.year(),0,1);break;case"quarter":i=e(this.year(),this.month()-this.month()%3,1);break;case"month":i=e(this.year(),this.month(),1);break;case"week":i=e(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":i=e(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":i=e(this.year(),this.month(),this.date());break;case"hour":i=this._d.valueOf(),i-=vr(i+(this._isUTC?0:this.utcOffset()*lr),fr);break;case"minute":i=this._d.valueOf(),i-=vr(i,lr);break;case"second":i=this._d.valueOf(),i-=vr(i,cr)}return this._d.setTime(i),n.updateOffset(this,!0),this}function br(t){var i,e;if(void 0===(t=rt(t))||"millisecond"===t||!this.isValid())return this;switch(e=this._isUTC?mr:pr,t){case"year":i=e(this.year()+1,0,1)-1;break;case"quarter":i=e(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":i=e(this.year(),this.month()+1,1)-1;break;case"week":i=e(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":i=e(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":i=e(this.year(),this.month(),this.date()+1)-1;break;case"hour":i=this._d.valueOf(),i+=fr-vr(i+(this._isUTC?0:this.utcOffset()*lr),fr)-1;break;case"minute":i=this._d.valueOf(),i+=lr-vr(i,lr)-1;break;case"second":i=this._d.valueOf(),i+=cr-vr(i,cr)-1}return this._d.setTime(i),n.updateOffset(this,!0),this}function yr(){return this._d.valueOf()-6e4*(this._offset||0)}function wr(){return Math.floor(this.valueOf()/1e3)}function kr(){return new Date(this.valueOf())}function xr(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function _r(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Dr(){return this.isValid()?this.toISOString():null}function Mr(){return b(this)}function Sr(){return v({},g(this))}function jr(){return g(this).overflow}function Fr(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Tr(t,i){var e,r,s,o=this._eras||be("en")._eras;for(e=0,r=o.length;e<r;++e)switch("string"==typeof o[e].since&&(s=n(o[e].since).startOf("day"),o[e].since=s.valueOf()),typeof o[e].until){case"undefined":o[e].until=1/0;break;case"string":s=n(o[e].until).startOf("day").valueOf(),o[e].until=s.valueOf()}return o}function Er(t,i,e){var n,r,s,o,a,u=this.eras();for(t=t.toUpperCase(),n=0,r=u.length;n<r;++n)if(s=u[n].name.toUpperCase(),o=u[n].abbr.toUpperCase(),a=u[n].narrow.toUpperCase(),e)switch(i){case"N":case"NN":case"NNN":if(o===t)return u[n];break;case"NNNN":if(s===t)return u[n];break;case"NNNNN":if(a===t)return u[n]}else if([s,o,a].indexOf(t)>=0)return u[n]}function Yr(t,i){var e=t.since<=t.until?1:-1;return void 0===i?n(t.since).year():n(t.since).year()+(i-t.offset)*e}function Ar(){var t,i,e,n=this.localeData().eras();for(t=0,i=n.length;t<i;++t){if(e=this.clone().startOf("day").valueOf(),n[t].since<=e&&e<=n[t].until)return n[t].name;if(n[t].until<=e&&e<=n[t].since)return n[t].name}return""}function Cr(){var t,i,e,n=this.localeData().eras();for(t=0,i=n.length;t<i;++t){if(e=this.clone().startOf("day").valueOf(),n[t].since<=e&&e<=n[t].until)return n[t].narrow;if(n[t].until<=e&&e<=n[t].since)return n[t].narrow}return""}function Or(){var t,i,e,n=this.localeData().eras();for(t=0,i=n.length;t<i;++t){if(e=this.clone().startOf("day").valueOf(),n[t].since<=e&&e<=n[t].until)return n[t].abbr;if(n[t].until<=e&&e<=n[t].since)return n[t].abbr}return""}function Lr(){var t,i,e,r,s=this.localeData().eras();for(t=0,i=s.length;t<i;++t)if(e=s[t].since<=s[t].until?1:-1,r=this.clone().startOf("day").valueOf(),s[t].since<=r&&r<=s[t].until||s[t].until<=r&&r<=s[t].since)return(this.year()-n(s[t].since).year())*e+s[t].offset;return this.year()}function zr(t){return u(this,"_erasNameRegex")||$r.call(this),t?this._erasNameRegex:this._erasRegex}function Ir(t){return u(this,"_erasAbbrRegex")||$r.call(this),t?this._erasAbbrRegex:this._erasRegex}function Nr(t){return u(this,"_erasNarrowRegex")||$r.call(this),t?this._erasNarrowRegex:this._erasRegex}function Hr(t,i){return i.erasAbbrRegex(t)}function Pr(t,i){return i.erasNameRegex(t)}function Rr(t,i){return i.erasNarrowRegex(t)}function Br(t,i){return i._eraYearOrdinalRegex||Tt}function $r(){var t,i,e=[],n=[],r=[],s=[],o=this.eras();for(t=0,i=o.length;t<i;++t)n.push(Nt(o[t].name)),e.push(Nt(o[t].abbr)),r.push(Nt(o[t].narrow)),s.push(Nt(o[t].name)),s.push(Nt(o[t].abbr)),s.push(Nt(o[t].narrow));this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function Gr(t,i){R(0,[t,t.length],0,i)}function Wr(t){return Jr.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ur(t){return Jr.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function qr(){return Di(this.year(),1,4)}function Vr(){return Di(this.isoWeekYear(),1,4)}function Xr(){var t=this.localeData()._week;return Di(this.year(),t.dow,t.doy)}function Zr(){var t=this.localeData()._week;return Di(this.weekYear(),t.dow,t.doy)}function Jr(t,i,e,n,r){var s;return null==t?_i(this,n,r).year:(i>(s=Di(t,n,r))&&(i=s),Kr.call(this,t,i,e,n,r))}function Kr(t,i,e,n,r){var s=xi(t,i,e,n,r),o=wi(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Qr(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}R("N",0,0,"eraAbbr"),R("NN",0,0,"eraAbbr"),R("NNN",0,0,"eraAbbr"),R("NNNN",0,0,"eraName"),R("NNNNN",0,0,"eraNarrow"),R("y",["y",1],"yo","eraYear"),R("y",["yy",2],0,"eraYear"),R("y",["yyy",3],0,"eraYear"),R("y",["yyyy",4],0,"eraYear"),Lt("N",Hr),Lt("NN",Hr),Lt("NNN",Hr),Lt("NNNN",Pr),Lt("NNNNN",Rr),Pt(["N","NN","NNN","NNNN","NNNNN"],(function(t,i,e,n){var r=e._locale.erasParse(t,n,e._strict);r?g(e).era=r:g(e).invalidEra=t})),Lt("y",Tt),Lt("yy",Tt),Lt("yyy",Tt),Lt("yyyy",Tt),Lt("yo",Br),Pt(["y","yy","yyy","yyyy"],Gt),Pt(["yo"],(function(t,i,e,n){var r;e._locale._eraYearOrdinalRegex&&(r=t.match(e._locale._eraYearOrdinalRegex)),e._locale.eraYearOrdinalParse?i[Gt]=e._locale.eraYearOrdinalParse(t,r):i[Gt]=parseInt(t,10)})),R(0,["gg",2],0,(function(){return this.weekYear()%100})),R(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Gr("gggg","weekYear"),Gr("ggggg","weekYear"),Gr("GGGG","isoWeekYear"),Gr("GGGGG","isoWeekYear"),nt("weekYear","gg"),nt("isoWeekYear","GG"),at("weekYear",1),at("isoWeekYear",1),Lt("G",Et),Lt("g",Et),Lt("GG",_t,yt),Lt("gg",_t,yt),Lt("GGGG",jt,kt),Lt("gggg",jt,kt),Lt("GGGGG",Ft,xt),Lt("ggggg",Ft,xt),Rt(["gggg","ggggg","GGGG","GGGGG"],(function(t,i,e,n){i[n.substr(0,2)]=lt(t)})),Rt(["gg","GG"],(function(t,i,e,r){i[r]=n.parseTwoDigitYear(t)})),R("Q",0,"Qo","quarter"),nt("quarter","Q"),at("quarter",7),Lt("Q",bt),Pt("Q",(function(t,i){i[Wt]=3*(lt(t)-1)})),R("D",["DD",2],"Do","date"),nt("date","D"),at("date",9),Lt("D",_t),Lt("DD",_t,yt),Lt("Do",(function(t,i){return t?i._dayOfMonthOrdinalParse||i._ordinalParse:i._dayOfMonthOrdinalParseLenient})),Pt(["D","DD"],Ut),Pt("Do",(function(t,i){i[Ut]=lt(t.match(_t)[0])}));var ts=ft("Date",!0);function is(t){var i=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?i:this.add(t-i,"d")}R("DDD",["DDDD",3],"DDDo","dayOfYear"),nt("dayOfYear","DDD"),at("dayOfYear",4),Lt("DDD",St),Lt("DDDD",wt),Pt(["DDD","DDDD"],(function(t,i,e){e._dayOfYear=lt(t)})),R("m",["mm",2],0,"minute"),nt("minute","m"),at("minute",14),Lt("m",_t),Lt("mm",_t,yt),Pt(["m","mm"],Vt);var es=ft("Minutes",!1);R("s",["ss",2],0,"second"),nt("second","s"),at("second",15),Lt("s",_t),Lt("ss",_t,yt),Pt(["s","ss"],Xt);var ns,rs,ss=ft("Seconds",!1);for(R("S",0,0,(function(){return~~(this.millisecond()/100)})),R(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),R(0,["SSS",3],0,"millisecond"),R(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),R(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),R(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),R(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),R(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),R(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),nt("millisecond","ms"),at("millisecond",16),Lt("S",St,bt),Lt("SS",St,yt),Lt("SSS",St,wt),ns="SSSS";ns.length<=9;ns+="S")Lt(ns,Tt);function os(t,i){i[Zt]=lt(1e3*("0."+t))}for(ns="S";ns.length<=9;ns+="S")Pt(ns,os);function as(){return this._isUTC?"UTC":""}function us(){return this._isUTC?"Coordinated Universal Time":""}rs=ft("Milliseconds",!1),R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName");var hs=_.prototype;function cs(t){return Xe(1e3*t)}function ls(){return Xe.apply(null,arguments).parseZone()}function fs(t){return t}hs.add=Ln,hs.calendar=$n,hs.clone=Gn,hs.diff=Jn,hs.endOf=br,hs.format=er,hs.from=nr,hs.fromNow=rr,hs.to=sr,hs.toNow=or,hs.get=pt,hs.invalidAt=jr,hs.isAfter=Wn,hs.isBefore=Un,hs.isBetween=qn,hs.isSame=Vn,hs.isSameOrAfter=Xn,hs.isSameOrBefore=Zn,hs.isValid=Mr,hs.lang=ur,hs.locale=ar,hs.localeData=hr,hs.max=Je,hs.min=Ze,hs.parsingFlags=Sr,hs.set=mt,hs.startOf=gr,hs.subtract=zn,hs.toArray=xr,hs.toObject=_r,hs.toDate=kr,hs.toISOString=tr,hs.inspect=ir,"undefined"!=typeof Symbol&&null!=Symbol.for&&(hs[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),hs.toJSON=Dr,hs.toString=Qn,hs.unix=wr,hs.valueOf=yr,hs.creationData=Fr,hs.eraName=Ar,hs.eraNarrow=Cr,hs.eraAbbr=Or,hs.eraYear=Lr,hs.year=gi,hs.isLeapYear=bi,hs.weekYear=Wr,hs.isoWeekYear=Ur,hs.quarter=hs.quarters=Qr,hs.month=li,hs.daysInMonth=fi,hs.week=hs.weeks=Ti,hs.isoWeek=hs.isoWeeks=Ei,hs.weeksInYear=Xr,hs.weeksInWeekYear=Zr,hs.isoWeeksInYear=qr,hs.isoWeeksInISOWeekYear=Vr,hs.date=ts,hs.day=hs.days=Wi,hs.weekday=Ui,hs.isoWeekday=qi,hs.dayOfYear=is,hs.hour=hs.hours=re,hs.minute=hs.minutes=es,hs.second=hs.seconds=ss,hs.millisecond=hs.milliseconds=rs,hs.utcOffset=mn,hs.utc=bn,hs.local=yn,hs.parseZone=wn,hs.hasAlignedHourOffset=kn,hs.isDST=xn,hs.isLocal=Dn,hs.isUtcOffset=Mn,hs.isUtc=Sn,hs.isUTC=Sn,hs.zoneAbbr=as,hs.zoneName=us,hs.dates=S("dates accessor is deprecated. Use date instead.",ts),hs.months=S("months accessor is deprecated. Use month instead",li),hs.years=S("years accessor is deprecated. Use year instead",gi),hs.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gn),hs.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",_n);var ds=C.prototype;function vs(t,i,e,n){var r=be(),s=p().set(n,i);return r[e](s,t)}function ps(t,i,e){if(l(t)&&(i=t,t=void 0),t=t||"",null!=i)return vs(t,i,e,"month");var n,r=[];for(n=0;n<12;n++)r[n]=vs(t,n,e,"month");return r}function ms(t,i,e,n){"boolean"==typeof t?(l(i)&&(e=i,i=void 0),i=i||""):(e=i=t,t=!1,l(i)&&(e=i,i=void 0),i=i||"");var r,s=be(),o=t?s._week.dow:0,a=[];if(null!=e)return vs(i,(e+o)%7,n,"day");for(r=0;r<7;r++)a[r]=vs(i,(r+o)%7,n,"day");return a}function gs(t,i){return ps(t,i,"months")}function bs(t,i){return ps(t,i,"monthsShort")}function ys(t,i,e){return ms(t,i,e,"weekdays")}function ws(t,i,e){return ms(t,i,e,"weekdaysShort")}function ks(t,i,e){return ms(t,i,e,"weekdaysMin")}ds.calendar=L,ds.longDateFormat=q,ds.invalidDate=X,ds.ordinal=K,ds.preparse=fs,ds.postformat=fs,ds.relativeTime=tt,ds.pastFuture=it,ds.set=Y,ds.eras=Tr,ds.erasParse=Er,ds.erasConvertYear=Yr,ds.erasAbbrRegex=Ir,ds.erasNameRegex=zr,ds.erasNarrowRegex=Nr,ds.months=oi,ds.monthsShort=ai,ds.monthsParse=hi,ds.monthsRegex=vi,ds.monthsShortRegex=di,ds.week=Mi,ds.firstDayOfYear=Fi,ds.firstDayOfWeek=ji,ds.weekdays=Pi,ds.weekdaysMin=Bi,ds.weekdaysShort=Ri,ds.weekdaysParse=Gi,ds.weekdaysRegex=Vi,ds.weekdaysShortRegex=Xi,ds.weekdaysMinRegex=Zi,ds.isPM=ee,ds.meridiem=se,pe("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var i=t%10;return t+(1===lt(t%100/10)?"th":1===i?"st":2===i?"nd":3===i?"rd":"th")}}),n.lang=S("moment.lang is deprecated. Use moment.locale instead.",pe),n.langData=S("moment.langData is deprecated. Use moment.localeData instead.",be);var xs=Math.abs;function _s(){var t=this._data;return this._milliseconds=xs(this._milliseconds),this._days=xs(this._days),this._months=xs(this._months),t.milliseconds=xs(t.milliseconds),t.seconds=xs(t.seconds),t.minutes=xs(t.minutes),t.hours=xs(t.hours),t.months=xs(t.months),t.years=xs(t.years),this}function Ds(t,i,e,n){var r=Tn(i,e);return t._milliseconds+=n*r._milliseconds,t._days+=n*r._days,t._months+=n*r._months,t._bubble()}function Ms(t,i){return Ds(this,t,i,1)}function Ss(t,i){return Ds(this,t,i,-1)}function js(t){return t<0?Math.floor(t):Math.ceil(t)}function Fs(){var t,i,e,n,r,s=this._milliseconds,o=this._days,a=this._months,u=this._data;return s>=0&&o>=0&&a>=0||s<=0&&o<=0&&a<=0||(s+=864e5*js(Es(a)+o),o=0,a=0),u.milliseconds=s%1e3,t=ct(s/1e3),u.seconds=t%60,i=ct(t/60),u.minutes=i%60,e=ct(i/60),u.hours=e%24,o+=ct(e/24),a+=r=ct(Ts(o)),o-=js(Es(r)),n=ct(a/12),a%=12,u.days=o,u.months=a,u.years=n,this}function Ts(t){return 4800*t/146097}function Es(t){return 146097*t/4800}function Ys(t){if(!this.isValid())return NaN;var i,e,n=this._milliseconds;if("month"===(t=rt(t))||"quarter"===t||"year"===t)switch(i=this._days+n/864e5,e=this._months+Ts(i),t){case"month":return e;case"quarter":return e/3;case"year":return e/12}else switch(i=this._days+Math.round(Es(this._months)),t){case"week":return i/7+n/6048e5;case"day":return i+n/864e5;case"hour":return 24*i+n/36e5;case"minute":return 1440*i+n/6e4;case"second":return 86400*i+n/1e3;case"millisecond":return Math.floor(864e5*i)+n;default:throw new Error("Unknown unit "+t)}}function As(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*lt(this._months/12):NaN}function Cs(t){return function(){return this.as(t)}}var Os=Cs("ms"),Ls=Cs("s"),zs=Cs("m"),Is=Cs("h"),Ns=Cs("d"),Hs=Cs("w"),Ps=Cs("M"),Rs=Cs("Q"),Bs=Cs("y");function $s(){return Tn(this)}function Gs(t){return t=rt(t),this.isValid()?this[t+"s"]():NaN}function Ws(t){return function(){return this.isValid()?this._data[t]:NaN}}var Us=Ws("milliseconds"),qs=Ws("seconds"),Vs=Ws("minutes"),Xs=Ws("hours"),Zs=Ws("days"),Js=Ws("months"),Ks=Ws("years");function Qs(){return ct(this.days()/7)}var to=Math.round,io={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function eo(t,i,e,n,r){return r.relativeTime(i||1,!!e,t,n)}function no(t,i,e,n){var r=Tn(t).abs(),s=to(r.as("s")),o=to(r.as("m")),a=to(r.as("h")),u=to(r.as("d")),h=to(r.as("M")),c=to(r.as("w")),l=to(r.as("y")),f=s<=e.ss&&["s",s]||s<e.s&&["ss",s]||o<=1&&["m"]||o<e.m&&["mm",o]||a<=1&&["h"]||a<e.h&&["hh",a]||u<=1&&["d"]||u<e.d&&["dd",u];return null!=e.w&&(f=f||c<=1&&["w"]||c<e.w&&["ww",c]),(f=f||h<=1&&["M"]||h<e.M&&["MM",h]||l<=1&&["y"]||["yy",l])[2]=i,f[3]=+t>0,f[4]=n,eo.apply(null,f)}function ro(t){return void 0===t?to:"function"==typeof t&&(to=t,!0)}function so(t,i){return void 0!==io[t]&&(void 0===i?io[t]:(io[t]=i,"s"===t&&(io.ss=i-1),!0))}function oo(t,i){if(!this.isValid())return this.localeData().invalidDate();var e,n,r=!1,s=io;return"object"==typeof t&&(i=t,t=!1),"boolean"==typeof t&&(r=t),"object"==typeof i&&(s=Object.assign({},io,i),null!=i.s&&null==i.ss&&(s.ss=i.s-1)),n=no(this,!r,s,e=this.localeData()),r&&(n=e.pastFuture(+this,n)),e.postformat(n)}var ao=Math.abs;function uo(t){return(t>0)-(t<0)||+t}function ho(){if(!this.isValid())return this.localeData().invalidDate();var t,i,e,n,r,s,o,a,u=ao(this._milliseconds)/1e3,h=ao(this._days),c=ao(this._months),l=this.asSeconds();return l?(t=ct(u/60),i=ct(t/60),u%=60,t%=60,e=ct(c/12),c%=12,n=u?u.toFixed(3).replace(/\.?0+$/,""):"",r=l<0?"-":"",s=uo(this._months)!==uo(l)?"-":"",o=uo(this._days)!==uo(l)?"-":"",a=uo(this._milliseconds)!==uo(l)?"-":"",r+"P"+(e?s+e+"Y":"")+(c?s+c+"M":"")+(h?o+h+"D":"")+(i||t||u?"T":"")+(i?a+i+"H":"")+(t?a+t+"M":"")+(u?a+n+"S":"")):"P0D"}var co=an.prototype;return co.isValid=sn,co.abs=_s,co.add=Ms,co.subtract=Ss,co.as=Ys,co.asMilliseconds=Os,co.asSeconds=Ls,co.asMinutes=zs,co.asHours=Is,co.asDays=Ns,co.asWeeks=Hs,co.asMonths=Ps,co.asQuarters=Rs,co.asYears=Bs,co.valueOf=As,co._bubble=Fs,co.clone=$s,co.get=Gs,co.milliseconds=Us,co.seconds=qs,co.minutes=Vs,co.hours=Xs,co.days=Zs,co.weeks=Qs,co.months=Js,co.years=Ks,co.humanize=oo,co.toISOString=ho,co.toString=ho,co.toJSON=ho,co.locale=ar,co.localeData=hr,co.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ho),co.lang=ur,R("X",0,0,"unix"),R("x",0,0,"valueOf"),Lt("x",Et),Lt("X",Ct),Pt("X",(function(t,i,e){e._d=new Date(1e3*parseFloat(t))})),Pt("x",(function(t,i,e){e._d=new Date(lt(t))})),
//! moment.js
n.version="2.29.4",s(Xe),n.fn=hs,n.min=Qe,n.max=tn,n.now=en,n.utc=p,n.unix=cs,n.months=gs,n.isDate=f,n.locale=pe,n.invalid=y,n.duration=Tn,n.isMoment=D,n.weekdays=ys,n.parseZone=ls,n.localeData=be,n.isDuration=un,n.monthsShort=bs,n.weekdaysMin=ks,n.defineLocale=me,n.updateLocale=ge,n.locales=ye,n.weekdaysShort=ws,n.normalizeUnits=rt,n.relativeTimeRounding=ro,n.relativeTimeThreshold=so,n.calendarFormat=Bn,n.prototype=hs,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}()}(u)),a}o=function(t){
//! moment.js locale configuration
function i(t,i,e,n){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return i?r[e][0]:r[e][1]}return t.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:i,mm:"%d Minuten",h:i,hh:"%d Stunden",d:i,dd:i,w:i,ww:"%d Wochen",M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},o(h()),function(t,i){i(h())}(0,(function(t){
//! moment.js locale configuration
var i="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),e="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),n=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;return t.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,n){return t?/-MMM-/.test(n)?e[t.month()]:i[t.month()]:i},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invlida"})})),function(t,i){i(h())}(0,(function(t){
//! moment.js locale configuration
var i=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?|janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,e=[/^janv/i,/^fvr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^aot/i,/^sept/i,/^oct/i,/^nov/i,/^dc/i],n=t.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,monthsShortStrictRegex:/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?)/i,monthsParse:e,longMonthsParse:e,shortMonthsParse:e,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(t,i){switch(i){case"D":return t+(1===t?"er":"");default:case"M":case"Q":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}});return n})),function(t,i){i(h())}(0,(function(t){return t.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){return 0===this.day()?"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT":"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})),function(t,i){i(h())}(0,(function(t){
//! moment.js locale configuration
var i=t.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"",narrow:"",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"",narrow:"",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"",narrow:"",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"",narrow:"",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"",narrow:"",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(|\d+)/,eraYearOrdinalParse:function(t,i){return""===i[1]?1:parseInt(i[1]||t,10)},months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(t){return""===t},meridiem:function(t,i,e){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(t){return t.week()!==this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(t){return this.week()!==t.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t,i){switch(i){case"y":return 1===t?"":t+"";case"d":case"D":case"DDD":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}});return i})),function(t,i){i(h())}(0,(function(t){
//! moment.js locale configuration
var i="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),e="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),n=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,s=t.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,n){return t?/-MMM-/.test(n)?e[t.month()]:i[t.month()]:i},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",w:"n week",ww:"%d weken",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}});return s})),function(t,i){i(h())}(0,(function(t){
//! moment.js locale configuration
var i="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),e="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),n=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa/i,/^lis/i,/^gru/i];function r(t){return t%10<5&&t%10>1&&~~(t/10)%10!=1}function s(t,i,e){var n=t+" ";switch(e){case"ss":return n+(r(t)?"sekundy":"sekund");case"m":return i?"minuta":"minut";case"mm":return n+(r(t)?"minuty":"minut");case"h":return i?"godzina":"godzin";case"hh":return n+(r(t)?"godziny":"godzin");case"ww":return n+(r(t)?"tygodnie":"tygodni");case"MM":return n+(r(t)?"miesice":"miesicy");case"yy":return n+(r(t)?"lata":"lat")}}return t.defineLocale("pl",{months:function(t,n){return t?/D MMMM/.test(n)?e[t.month()]:i[t.month()]:i},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:s,m:s,mm:s,h:s,hh:s,d:"1 dzie",dd:"%d dni",w:"tydzie",ww:s,M:"miesic",MM:s,y:"rok",yy:s},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})),function(t,i){i(h())}(0,(function(t){function i(t,i,e){var n,r;return"m"===e?i?"":"":t+" "+(n=+t,r={ss:i?"__":"__",mm:i?"__":"__",hh:"__",dd:"__",ww:"__",MM:"__",yy:"__"}[e].split("_"),n%10==1&&n%100!=11?r[0]:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?r[1]:r[2])}var e=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],n=t.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:e,longMonthsParse:e,shortMonthsParse:e,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:i,m:i,mm:i,h:"",hh:i,d:"",dd:i,w:"",ww:i,M:"",MM:i,y:"",yy:i},meridiemParse:/|||/i,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,i,e){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(t,i){switch(i){case"M":case"d":case"DDD":return t+"-";case"D":return t+"-";case"w":case"W":return t+"-";default:return t}},week:{dow:1,doy:4}});return n})),function(t,i){i(h())}(0,(function(t){function i(t,i,e){var n,r;return"m"===e?i?"":"":"h"===e?i?"":"":t+" "+(n=+t,r={ss:i?"__":"__",mm:i?"__":"__",hh:i?"__":"__",dd:"__",MM:"__",yy:"__"}[e].split("_"),n%10==1&&n%100!=11?r[0]:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?r[1]:r[2])}function e(t){return function(){return t+""+(11===this.hours()?"":"")+"] LT"}}var n=t.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:function(t,i){var e={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return!0===t?e.nominative.slice(1,7).concat(e.nominative.slice(0,1)):t?e[/(\[[]\]) ?dddd/.test(i)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(i)?"genitive":"nominative"][t.day()]:e.nominative},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:e("[ "),nextDay:e("[ "),lastDay:e("[ "),nextWeek:e("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return e("[] dddd [").call(this);case 1:case 2:case 4:return e("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:i,m:i,mm:i,h:"",hh:i,d:"",dd:i,M:"",MM:i,y:"",yy:i},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,i,e){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t,i){switch(i){case"M":case"d":case"DDD":case"w":case"W":return t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}});return n}));var c={},l={get exports(){return c},set exports(t){c=t}},f=function(t){try{return!!t()}catch(t){return!0}},d=!f((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),v=d,p=Function.prototype,m=p.call,b=v&&p.bind.bind(m,m),y=v?b:function(t){return function(){return m.apply(t,arguments)}},w=Math.ceil,k=Math.floor,x=Math.trunc||function(t){var i=+t;return(i>0?k:w)(i)},_=function(t){var i=+t;return i!=i||0===i?0:x(i)},D=function(t){return t&&t.Math==Math&&t},M=D("object"==typeof globalThis&&globalThis)||D("object"==typeof window&&window)||D("object"==typeof self&&self)||D("object"==typeof e&&e)||function(){return this}()||Function("return this")(),S={},j={get exports(){return S},set exports(t){S=t}},F=M,T=Object.defineProperty,E=function(t,i){try{T(F,t,{value:i,configurable:!0,writable:!0})}catch(e){F[t]=i}return i},Y="__core-js_shared__",A=M[Y]||E(Y,{}),C=A;(j.exports=function(t,i){return C[t]||(C[t]=void 0!==i?i:{})})("versions",[]).push({version:"3.29.0",mode:"pure",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE",source:"https://github.com/zloirock/core-js"});var O,L,z=function(t){return null==t},I=z,N=TypeError,H=function(t){if(I(t))throw N("Can't call method on "+t);return t},P=H,R=Object,B=function(t){return R(P(t))},$=B,G=y({}.hasOwnProperty),W=Object.hasOwn||function(t,i){return G($(t),i)},U=y,q=0,V=Math.random(),X=U(1..toString),Z=function(t){return"Symbol("+(void 0===t?"":t)+")_"+X(++q+V,36)},J="undefined"!=typeof navigator&&String(navigator.userAgent)||"",K=M,Q=J,tt=K.process,it=K.Deno,et=tt&&tt.versions||it&&it.version,nt=et&&et.v8;nt&&(L=(O=nt.split("."))[0]>0&&O[0]<4?1:+(O[0]+O[1])),!L&&Q&&(!(O=Q.match(/Edge\/(\d+)/))||O[1]>=74)&&(O=Q.match(/Chrome\/(\d+)/))&&(L=+O[1]);var rt=L,st=rt,ot=f,at=!!Object.getOwnPropertySymbols&&!ot((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&st&&st<41})),ut=at&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ht=S,ct=W,lt=Z,ft=at,dt=ut,vt=M.Symbol,pt=ht("wks"),mt=dt?vt.for||vt:vt&&vt.withoutSetter||lt,gt=function(t){return ct(pt,t)||(pt[t]=ft&&ct(vt,t)?vt[t]:mt("Symbol."+t)),pt[t]},bt={};bt[gt("toStringTag")]="z";var yt="[object z]"===String(bt),wt="object"==typeof document&&document.all,kt={all:wt,IS_HTMLDDA:void 0===wt&&void 0!==wt},xt=kt.all,_t=kt.IS_HTMLDDA?function(t){return"function"==typeof t||t===xt}:function(t){return"function"==typeof t},Dt=y,Mt=Dt({}.toString),St=Dt("".slice),jt=function(t){return St(Mt(t),8,-1)},Ft=yt,Tt=_t,Et=jt,Yt=gt("toStringTag"),At=Object,Ct="Arguments"==Et(function(){return arguments}()),Ot=Ft?Et:function(t){var i,e,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,i){try{return t[i]}catch(t){}}(i=At(t),Yt))?e:Ct?Et(i):"Object"==(n=Et(i))&&Tt(i.callee)?"Arguments":n},Lt=Ot,zt=String,It=function(t){if("Symbol"===Lt(t))throw TypeError("Cannot convert a Symbol value to a string");return zt(t)},Nt=y,Ht=_,Pt=It,Rt=H,Bt=Nt("".charAt),$t=Nt("".charCodeAt),Gt=Nt("".slice),Wt=function(t){return function(i,e){var n,r,s=Pt(Rt(i)),o=Ht(e),a=s.length;return o<0||o>=a?t?"":void 0:(n=$t(s,o))<55296||n>56319||o+1===a||(r=$t(s,o+1))<56320||r>57343?t?Bt(s,o):n:t?Gt(s,o,o+2):r-56320+(n-55296<<10)+65536}},Ut={codeAt:Wt(!1),charAt:Wt(!0)},qt=_t,Vt=M.WeakMap,Xt=qt(Vt)&&/native code/.test(String(Vt)),Zt=_t,Jt=kt.all,Kt=kt.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:Zt(t)||t===Jt}:function(t){return"object"==typeof t?null!==t:Zt(t)},Qt=!f((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),ti={},ii=Kt,ei=M.document,ni=ii(ei)&&ii(ei.createElement),ri=function(t){return ni?ei.createElement(t):{}},si=ri,oi=!Qt&&!f((function(){return 7!=Object.defineProperty(si("div"),"a",{get:function(){return 7}}).a})),ai=Qt&&f((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),ui=Kt,hi=String,ci=TypeError,li=function(t){if(ui(t))return t;throw ci(hi(t)+" is not an object")},fi=d,di=Function.prototype.call,vi=fi?di.bind(di):function(){return di.apply(di,arguments)},pi={},mi=pi,gi=M,bi=_t,yi=function(t){return bi(t)?t:void 0},wi=function(t,i){return arguments.length<2?yi(mi[t])||yi(gi[t]):mi[t]&&mi[t][i]||gi[t]&&gi[t][i]},ki=y({}.isPrototypeOf),xi=wi,_i=_t,Di=ki,Mi=Object,Si=ut?function(t){return"symbol"==typeof t}:function(t){var i=xi("Symbol");return _i(i)&&Di(i.prototype,Mi(t))},ji=String,Fi=function(t){try{return ji(t)}catch(t){return"Object"}},Ti=_t,Ei=Fi,Yi=TypeError,Ai=function(t){if(Ti(t))return t;throw Yi(Ei(t)+" is not a function")},Ci=Ai,Oi=z,Li=function(t,i){var e=t[i];return Oi(e)?void 0:Ci(e)},zi=vi,Ii=_t,Ni=Kt,Hi=TypeError,Pi=vi,Ri=Kt,Bi=Si,$i=Li,Gi=function(t,i){var e,n;if("string"===i&&Ii(e=t.toString)&&!Ni(n=zi(e,t)))return n;if(Ii(e=t.valueOf)&&!Ni(n=zi(e,t)))return n;if("string"!==i&&Ii(e=t.toString)&&!Ni(n=zi(e,t)))return n;throw Hi("Can't convert object to primitive value")},Wi=TypeError,Ui=gt("toPrimitive"),qi=function(t,i){if(!Ri(t)||Bi(t))return t;var e,n=$i(t,Ui);if(n){if(void 0===i&&(i="default"),e=Pi(n,t,i),!Ri(e)||Bi(e))return e;throw Wi("Can't convert object to primitive value")}return void 0===i&&(i="number"),Gi(t,i)},Vi=Si,Xi=function(t){var i=qi(t,"string");return Vi(i)?i:i+""},Zi=Qt,Ji=oi,Ki=ai,Qi=li,te=Xi,ie=TypeError,ee=Object.defineProperty,ne=Object.getOwnPropertyDescriptor,re="enumerable",se="configurable",oe="writable";ti.f=Zi?Ki?function(t,i,e){if(Qi(t),i=te(i),Qi(e),"function"==typeof t&&"prototype"===i&&"value"in e&&oe in e&&!e[oe]){var n=ne(t,i);n&&n[oe]&&(t[i]=e.value,e={configurable:se in e?e[se]:n[se],enumerable:re in e?e[re]:n[re],writable:!1})}return ee(t,i,e)}:ee:function(t,i,e){if(Qi(t),i=te(i),Qi(e),Ji)try{return ee(t,i,e)}catch(t){}if("get"in e||"set"in e)throw ie("Accessors not supported");return"value"in e&&(t[i]=e.value),t};var ae,ue,he,ce=function(t,i){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:i}},le=ti,fe=ce,de=Qt?function(t,i,e){return le.f(t,i,fe(1,e))}:function(t,i,e){return t[i]=e,t},ve=Z,pe=S("keys"),me=function(t){return pe[t]||(pe[t]=ve(t))},ge={},be=Xt,ye=M,we=Kt,ke=de,xe=W,_e=A,De=me,Me=ge,Se="Object already initialized",je=ye.TypeError,Fe=ye.WeakMap;if(be||_e.state){var Te=_e.state||(_e.state=new Fe);Te.get=Te.get,Te.has=Te.has,Te.set=Te.set,ae=function(t,i){if(Te.has(t))throw je(Se);return i.facade=t,Te.set(t,i),i},ue=function(t){return Te.get(t)||{}},he=function(t){return Te.has(t)}}else{var Ee=De("state");Me[Ee]=!0,ae=function(t,i){if(xe(t,Ee))throw je(Se);return i.facade=t,ke(t,Ee,i),i},ue=function(t){return xe(t,Ee)?t[Ee]:{}},he=function(t){return xe(t,Ee)}}var Ye={set:ae,get:ue,has:he,enforce:function(t){return he(t)?ue(t):ae(t,{})},getterFor:function(t){return function(i){var e;if(!we(i)||(e=ue(i)).type!==t)throw je("Incompatible receiver, "+t+" required");return e}}},Ae=d,Ce=Function.prototype,Oe=Ce.apply,Le=Ce.call,ze="object"==typeof Reflect&&Reflect.apply||(Ae?Le.bind(Oe):function(){return Le.apply(Oe,arguments)}),Ie=jt,Ne=y,He=function(t){if("Function"===Ie(t))return Ne(t)},Pe={},Re={},Be={}.propertyIsEnumerable,$e=Object.getOwnPropertyDescriptor,Ge=$e&&!Be.call({1:2},1);Re.f=Ge?function(t){var i=$e(this,t);return!!i&&i.enumerable}:Be;var We=f,Ue=jt,qe=Object,Ve=y("".split),Xe=We((function(){return!qe("z").propertyIsEnumerable(0)}))?function(t){return"String"==Ue(t)?Ve(t,""):qe(t)}:qe,Ze=Xe,Je=H,Ke=function(t){return Ze(Je(t))},Qe=Qt,tn=vi,en=Re,nn=ce,rn=Ke,sn=Xi,on=W,an=oi,un=Object.getOwnPropertyDescriptor;Pe.f=Qe?un:function(t,i){if(t=rn(t),i=sn(i),an)try{return un(t,i)}catch(t){}if(on(t,i))return nn(!tn(en.f,t,i),t[i])};var hn=f,cn=_t,ln=/#|\.prototype\./,fn=function(t,i){var e=vn[dn(t)];return e==mn||e!=pn&&(cn(i)?hn(i):!!i)},dn=fn.normalize=function(t){return String(t).replace(ln,".").toLowerCase()},vn=fn.data={},pn=fn.NATIVE="N",mn=fn.POLYFILL="P",gn=fn,bn=Ai,yn=d,wn=He(He.bind),kn=function(t,i){return bn(t),void 0===i?t:yn?wn(t,i):function(){return t.apply(i,arguments)}},xn=M,_n=ze,Dn=He,Mn=_t,Sn=Pe.f,jn=gn,Fn=pi,Tn=kn,En=de,Yn=W,An=function(t){var i=function(e,n,r){if(this instanceof i){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return _n(t,this,arguments)};return i.prototype=t.prototype,i},Cn=function(t,i){var e,n,r,s,o,a,u,h,c,l=t.target,f=t.global,d=t.stat,v=t.proto,p=f?xn:d?xn[l]:(xn[l]||{}).prototype,m=f?Fn:Fn[l]||En(Fn,l,{})[l],g=m.prototype;for(s in i)n=!(e=jn(f?s:l+(d?".":"#")+s,t.forced))&&p&&Yn(p,s),a=m[s],n&&(u=t.dontCallGetSet?(c=Sn(p,s))&&c.value:p[s]),o=n&&u?u:i[s],n&&typeof a==typeof o||(h=t.bind&&n?Tn(o,xn):t.wrap&&n?An(o):v&&Mn(o)?Dn(o):o,(t.sham||o&&o.sham||a&&a.sham)&&En(h,"sham",!0),En(m,s,h),v&&(Yn(Fn,r=l+"Prototype")||En(Fn,r,{}),En(Fn[r],s,o),t.real&&g&&(e||!g[s])&&En(g,s,o)))},On=Qt,Ln=W,zn=Function.prototype,In=On&&Object.getOwnPropertyDescriptor,Nn=Ln(zn,"name"),Hn={EXISTS:Nn,PROPER:Nn&&"something"===function(){}.name,CONFIGURABLE:Nn&&(!On||On&&In(zn,"name").configurable)},Pn={},Rn=_,Bn=Math.max,$n=Math.min,Gn=function(t,i){var e=Rn(t);return e<0?Bn(e+i,0):$n(e,i)},Wn=_,Un=Math.min,qn=function(t){return t>0?Un(Wn(t),9007199254740991):0},Vn=function(t){return qn(t.length)},Xn=Ke,Zn=Gn,Jn=Vn,Kn=function(t){return function(i,e,n){var r,s=Xn(i),o=Jn(s),a=Zn(n,o);if(t&&e!=e){for(;o>a;)if((r=s[a++])!=r)return!0}else for(;o>a;a++)if((t||a in s)&&s[a]===e)return t||a||0;return!t&&-1}},Qn={includes:Kn(!0),indexOf:Kn(!1)},tr=W,ir=Ke,er=Qn.indexOf,nr=ge,rr=y([].push),sr=function(t,i){var e,n=ir(t),r=0,s=[];for(e in n)!tr(nr,e)&&tr(n,e)&&rr(s,e);for(;i.length>r;)tr(n,e=i[r++])&&(~er(s,e)||rr(s,e));return s},or=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ar=sr,ur=or,hr=Object.keys||function(t){return ar(t,ur)},cr=Qt,lr=ai,fr=ti,dr=li,vr=Ke,pr=hr;Pn.f=cr&&!lr?Object.defineProperties:function(t,i){dr(t);for(var e,n=vr(i),r=pr(i),s=r.length,o=0;s>o;)fr.f(t,e=r[o++],n[e]);return t};var mr,gr=wi("document","documentElement"),br=li,yr=Pn,wr=or,kr=ge,xr=gr,_r=ri,Dr="prototype",Mr="script",Sr=me("IE_PROTO"),jr=function(){},Fr=function(t){return"<"+Mr+">"+t+"</"+Mr+">"},Tr=function(t){t.write(Fr("")),t.close();var i=t.parentWindow.Object;return t=null,i},Er=function(){try{mr=new ActiveXObject("htmlfile")}catch(t){}var t,i,e;Er="undefined"!=typeof document?document.domain&&mr?Tr(mr):(i=_r("iframe"),e="java"+Mr+":",i.style.display="none",xr.appendChild(i),i.src=String(e),(t=i.contentWindow.document).open(),t.write(Fr("document.F=Object")),t.close(),t.F):Tr(mr);for(var n=wr.length;n--;)delete Er[Dr][wr[n]];return Er()};kr[Sr]=!0;var Yr,Ar,Cr,Or=Object.create||function(t,i){var e;return null!==t?(jr[Dr]=br(t),e=new jr,jr[Dr]=null,e[Sr]=t):e=Er(),void 0===i?e:yr.f(e,i)},Lr=!f((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),zr=W,Ir=_t,Nr=B,Hr=Lr,Pr=me("IE_PROTO"),Rr=Object,Br=Rr.prototype,$r=Hr?Rr.getPrototypeOf:function(t){var i=Nr(t);if(zr(i,Pr))return i[Pr];var e=i.constructor;return Ir(e)&&i instanceof e?e.prototype:i instanceof Rr?Br:null},Gr=de,Wr=function(t,i,e,n){return n&&n.enumerable?t[i]=e:Gr(t,i,e),t},Ur=f,qr=_t,Vr=Kt,Xr=Or,Zr=$r,Jr=Wr,Kr=gt("iterator"),Qr=!1;[].keys&&("next"in(Cr=[].keys())?(Ar=Zr(Zr(Cr)))!==Object.prototype&&(Yr=Ar):Qr=!0);var ts=!Vr(Yr)||Ur((function(){var t={};return Yr[Kr].call(t)!==t}));qr((Yr=ts?{}:Xr(Yr))[Kr])||Jr(Yr,Kr,(function(){return this}));var is={IteratorPrototype:Yr,BUGGY_SAFARI_ITERATORS:Qr},es=Ot,ns=yt?{}.toString:function(){return"[object "+es(this)+"]"},rs=yt,ss=ti.f,os=de,as=W,us=ns,hs=gt("toStringTag"),cs=function(t,i,e,n){if(t){var r=e?t:t.prototype;as(r,hs)||ss(r,hs,{configurable:!0,value:i}),n&&!rs&&os(r,"toString",us)}},ls={},fs=is.IteratorPrototype,ds=Or,vs=ce,ps=cs,ms=ls,gs=function(){return this},bs=y,ys=Ai,ws=_t,ks=String,xs=TypeError,_s=function(t,i,e){try{return bs(ys(Object.getOwnPropertyDescriptor(t,i)[e]))}catch(t){}},Ds=li,Ms=function(t){if("object"==typeof t||ws(t))return t;throw xs("Can't set "+ks(t)+" as a prototype")},Ss=Object.setPrototypeOf||("__proto__"in{}?function(){var t,i=!1,e={};try{(t=_s(Object.prototype,"__proto__","set"))(e,[]),i=e instanceof Array}catch(t){}return function(e,n){return Ds(e),Ms(n),i?t(e,n):e.__proto__=n,e}}():void 0),js=Cn,Fs=vi,Ts=function(t,i,e,n){var r=i+" Iterator";return t.prototype=ds(fs,{next:vs(+!n,e)}),ps(t,r,!1,!0),ms[r]=gs,t},Es=$r,Ys=cs,As=Wr,Cs=ls,Os=Hn.PROPER,Ls=is.BUGGY_SAFARI_ITERATORS,zs=gt("iterator"),Is="keys",Ns="values",Hs="entries",Ps=function(){return this},Rs=function(t,i,e,n,r,s,o){Ts(e,i,n);var a,u,h,c=function(t){if(t===r&&p)return p;if(!Ls&&t in d)return d[t];switch(t){case Is:case Ns:case Hs:return function(){return new e(this,t)}}return function(){return new e(this)}},l=i+" Iterator",f=!1,d=t.prototype,v=d[zs]||d["@@iterator"]||r&&d[r],p=!Ls&&v||c(r),m="Array"==i&&d.entries||v;if(m&&(a=Es(m.call(new t)))!==Object.prototype&&a.next&&(Ys(a,l,!0,!0),Cs[l]=Ps),Os&&r==Ns&&v&&v.name!==Ns&&(f=!0,p=function(){return Fs(v,this)}),r)if(u={values:c(Ns),keys:s?p:c(Is),entries:c(Hs)},o)for(h in u)(Ls||f||!(h in d))&&As(d,h,u[h]);else js({target:i,proto:!0,forced:Ls||f},u);return o&&d[zs]!==p&&As(d,zs,p,{name:r}),Cs[i]=p,u},Bs=function(t,i){return{value:t,done:i}},$s=Ut.charAt,Gs=It,Ws=Ye,Us=Rs,qs=Bs,Vs="String Iterator",Xs=Ws.set,Zs=Ws.getterFor(Vs);Us(String,"String",(function(t){Xs(this,{type:Vs,string:Gs(t),index:0})}),(function(){var t,i=Zs(this),e=i.string,n=i.index;return n>=e.length?qs(void 0,!0):(t=$s(e,n),i.index+=t.length,qs(t,!1))}));var Js=vi,Ks=li,Qs=Li,to=function(t,i,e){var n,r;Ks(t);try{if(!(n=Qs(t,"return"))){if("throw"===i)throw e;return e}n=Js(n,t)}catch(t){r=!0,n=t}if("throw"===i)throw e;if(r)throw n;return Ks(n),e},io=li,eo=to,no=ls,ro=gt("iterator"),so=Array.prototype,oo=function(t){return void 0!==t&&(no.Array===t||so[ro]===t)},ao=_t,uo=A,ho=y(Function.toString);ao(uo.inspectSource)||(uo.inspectSource=function(t){return ho(t)});var co=uo.inspectSource,lo=y,fo=f,vo=_t,po=Ot,mo=co,go=function(){},bo=[],yo=wi("Reflect","construct"),wo=/^\s*(?:class|function)\b/,ko=lo(wo.exec),xo=!wo.exec(go),_o=function(t){if(!vo(t))return!1;try{return yo(go,bo,t),!0}catch(t){return!1}},Do=function(t){if(!vo(t))return!1;switch(po(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return xo||!!ko(wo,mo(t))}catch(t){return!0}};Do.sham=!0;var Mo=!yo||fo((function(){var t;return _o(_o.call)||!_o(Object)||!_o((function(){t=!0}))||t}))?Do:_o,So=Xi,jo=ti,Fo=ce,To=function(t,i,e){var n=So(i);n in t?jo.f(t,n,Fo(0,e)):t[n]=e},Eo=Ot,Yo=Li,Ao=z,Co=ls,Oo=gt("iterator"),Lo=function(t){if(!Ao(t))return Yo(t,Oo)||Yo(t,"@@iterator")||Co[Eo(t)]},zo=vi,Io=Ai,No=li,Ho=Fi,Po=Lo,Ro=TypeError,Bo=function(t,i){var e=arguments.length<2?Po(t):i;if(Io(e))return No(zo(e,t));throw Ro(Ho(t)+" is not iterable")},$o=kn,Go=vi,Wo=B,Uo=function(t,i,e,n){try{return n?i(io(e)[0],e[1]):i(e)}catch(i){eo(t,"throw",i)}},qo=oo,Vo=Mo,Xo=Vn,Zo=To,Jo=Bo,Ko=Lo,Qo=Array,ta=gt("iterator"),ia=!1;try{var ea=0,na={next:function(){return{done:!!ea++}},return:function(){ia=!0}};na[ta]=function(){return this},Array.from(na,(function(){throw 2}))}catch(t){}var ra=function(t,i){if(!i&&!ia)return!1;var e=!1;try{var n={};n[ta]=function(){return{next:function(){return{done:e=!0}}}},t(n)}catch(t){}return e},sa=function(t){var i=Wo(t),e=Vo(this),n=arguments.length,r=n>1?arguments[1]:void 0,s=void 0!==r;s&&(r=$o(r,n>2?arguments[2]:void 0));var o,a,u,h,c,l,f=Ko(i),d=0;if(!f||this===Qo&&qo(f))for(o=Xo(i),a=e?new this(o):Qo(o);o>d;d++)l=s?r(i[d],d):i[d],Zo(a,d,l);else for(c=(h=Jo(i,f)).next,a=e?new this:[];!(u=Go(c,h)).done;d++)l=s?Uo(h,r,[u.value,d],!0):u.value,Zo(a,d,l);return a.length=d,a};Cn({target:"Array",stat:!0,forced:!ra((function(t){Array.from(t)}))},{from:sa});var oa=pi.Array.from;!function(t){t.exports=oa}(l);var aa=n(c),ua={},ha={get exports(){return ua},set exports(t){ua=t}},ca={},la={get exports(){return ca},set exports(t){ca=t}},fa=Ke,da=ls,va=Ye;var pa=Rs,ma=Bs,ga="Array Iterator",ba=va.set,ya=va.getterFor(ga);pa(Array,"Array",(function(t,i){ba(this,{type:ga,target:fa(t),index:0,kind:i})}),(function(){var t=ya(this),i=t.target,e=t.kind,n=t.index++;return!i||n>=i.length?(t.target=void 0,ma(void 0,!0)):ma("keys"==e?n:"values"==e?i[n]:[n,i[n]],!1)}),"values"),da.Arguments=da.Array;var wa=Lo,ka={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},xa=M,_a=Ot,Da=de,Ma=ls,Sa=gt("toStringTag");for(var ja in ka){var Fa=xa[ja],Ta=Fa&&Fa.prototype;Ta&&_a(Ta)!==Sa&&Da(Ta,Sa,ja),Ma[ja]=Ma.Array}var Ea=wa;!function(t){t.exports=Ea}(la),function(t){t.exports=ca}(ha);var Ya=n(ua),Aa={},Ca={get exports(){return Aa},set exports(t){Aa=t}},Oa={},La=sr,za=or.concat("length","prototype");Oa.f=Object.getOwnPropertyNames||function(t){return La(t,za)};var Ia={},Na=Gn,Ha=Vn,Pa=To,Ra=Array,Ba=Math.max,$a=function(t,i,e){for(var n=Ha(t),r=Na(i,n),s=Na(void 0===e?n:e,n),o=Ra(Ba(s-r,0)),a=0;r<s;r++,a++)Pa(o,a,t[r]);return o.length=a,o},Ga=jt,Wa=Ke,Ua=Oa.f,qa=$a,Va="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Ia.f=function(t){return Va&&"Window"==Ga(t)?function(t){try{return Ua(t)}catch(t){return qa(Va)}}(t):Ua(Wa(t))};var Xa={};Xa.f=Object.getOwnPropertySymbols;var Za=ti,Ja=function(t,i,e){return Za.f(t,i,e)},Ka={},Qa=gt;Ka.f=Qa;var tu=pi,iu=W,eu=Ka,nu=ti.f,ru=function(t){var i=tu.Symbol||(tu.Symbol={});iu(i,t)||nu(i,t,{value:eu.f(t)})},su=vi,ou=wi,au=gt,uu=Wr,hu=function(){var t=ou("Symbol"),i=t&&t.prototype,e=i&&i.valueOf,n=au("toPrimitive");i&&!i[n]&&uu(i,n,(function(t){return su(e,this)}),{arity:1})},cu=jt,lu=Array.isArray||function(t){return"Array"==cu(t)},fu=lu,du=Mo,vu=Kt,pu=gt("species"),mu=Array,gu=function(t){var i;return fu(t)&&(i=t.constructor,(du(i)&&(i===mu||fu(i.prototype))||vu(i)&&null===(i=i[pu]))&&(i=void 0)),void 0===i?mu:i},bu=function(t,i){return new(gu(t))(0===i?0:i)},yu=kn,wu=Xe,ku=B,xu=Vn,_u=bu,Du=y([].push),Mu=function(t){var i=1==t,e=2==t,n=3==t,r=4==t,s=6==t,o=7==t,a=5==t||s;return function(u,h,c,l){for(var f,d,v=ku(u),p=wu(v),m=yu(h,c),g=xu(p),b=0,y=l||_u,w=i?y(u,g):e||o?y(u,0):void 0;g>b;b++)if((a||b in p)&&(d=m(f=p[b],b,v),t))if(i)w[b]=d;else if(d)switch(t){case 3:return!0;case 5:return f;case 6:return b;case 2:Du(w,f)}else switch(t){case 4:return!1;case 7:Du(w,f)}return s?-1:n||r?r:w}},Su={forEach:Mu(0),map:Mu(1),filter:Mu(2),some:Mu(3),every:Mu(4),find:Mu(5),findIndex:Mu(6),filterReject:Mu(7)},ju=Cn,Fu=M,Tu=vi,Eu=y,Yu=Qt,Au=at,Cu=f,Ou=W,Lu=ki,zu=li,Iu=Ke,Nu=Xi,Hu=It,Pu=ce,Ru=Or,Bu=hr,$u=Oa,Gu=Ia,Wu=Xa,Uu=Pe,qu=ti,Vu=Pn,Xu=Re,Zu=Wr,Ju=Ja,Ku=S,Qu=ge,th=Z,ih=gt,eh=Ka,nh=ru,rh=hu,sh=cs,oh=Ye,ah=Su.forEach,uh=me("hidden"),hh="Symbol",ch="prototype",lh=oh.set,fh=oh.getterFor(hh),dh=Object[ch],vh=Fu.Symbol,ph=vh&&vh[ch],mh=Fu.TypeError,gh=Fu.QObject,bh=Uu.f,yh=qu.f,wh=Gu.f,kh=Xu.f,xh=Eu([].push),_h=Ku("symbols"),Dh=Ku("op-symbols"),Mh=Ku("wks"),Sh=!gh||!gh[ch]||!gh[ch].findChild,jh=Yu&&Cu((function(){return 7!=Ru(yh({},"a",{get:function(){return yh(this,"a",{value:7}).a}})).a}))?function(t,i,e){var n=bh(dh,i);n&&delete dh[i],yh(t,i,e),n&&t!==dh&&yh(dh,i,n)}:yh,Fh=function(t,i){var e=_h[t]=Ru(ph);return lh(e,{type:hh,tag:t,description:i}),Yu||(e.description=i),e},Th=function(t,i,e){t===dh&&Th(Dh,i,e),zu(t);var n=Nu(i);return zu(e),Ou(_h,n)?(e.enumerable?(Ou(t,uh)&&t[uh][n]&&(t[uh][n]=!1),e=Ru(e,{enumerable:Pu(0,!1)})):(Ou(t,uh)||yh(t,uh,Pu(1,{})),t[uh][n]=!0),jh(t,n,e)):yh(t,n,e)},Eh=function(t,i){zu(t);var e=Iu(i),n=Bu(e).concat(Oh(e));return ah(n,(function(i){Yu&&!Tu(Yh,e,i)||Th(t,i,e[i])})),t},Yh=function(t){var i=Nu(t),e=Tu(kh,this,i);return!(this===dh&&Ou(_h,i)&&!Ou(Dh,i))&&(!(e||!Ou(this,i)||!Ou(_h,i)||Ou(this,uh)&&this[uh][i])||e)},Ah=function(t,i){var e=Iu(t),n=Nu(i);if(e!==dh||!Ou(_h,n)||Ou(Dh,n)){var r=bh(e,n);return!r||!Ou(_h,n)||Ou(e,uh)&&e[uh][n]||(r.enumerable=!0),r}},Ch=function(t){var i=wh(Iu(t)),e=[];return ah(i,(function(t){Ou(_h,t)||Ou(Qu,t)||xh(e,t)})),e},Oh=function(t){var i=t===dh,e=wh(i?Dh:Iu(t)),n=[];return ah(e,(function(t){!Ou(_h,t)||i&&!Ou(dh,t)||xh(n,_h[t])})),n};Au||(vh=function(){if(Lu(ph,this))throw mh("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?Hu(arguments[0]):void 0,i=th(t),e=function(t){this===dh&&Tu(e,Dh,t),Ou(this,uh)&&Ou(this[uh],i)&&(this[uh][i]=!1),jh(this,i,Pu(1,t))};return Yu&&Sh&&jh(dh,i,{configurable:!0,set:e}),Fh(i,t)},Zu(ph=vh[ch],"toString",(function(){return fh(this).tag})),Zu(vh,"withoutSetter",(function(t){return Fh(th(t),t)})),Xu.f=Yh,qu.f=Th,Vu.f=Eh,Uu.f=Ah,$u.f=Gu.f=Ch,Wu.f=Oh,eh.f=function(t){return Fh(ih(t),t)},Yu&&Ju(ph,"description",{configurable:!0,get:function(){return fh(this).description}})),ju({global:!0,constructor:!0,wrap:!0,forced:!Au,sham:!Au},{Symbol:vh}),ah(Bu(Mh),(function(t){nh(t)})),ju({target:hh,stat:!0,forced:!Au},{useSetter:function(){Sh=!0},useSimple:function(){Sh=!1}}),ju({target:"Object",stat:!0,forced:!Au,sham:!Yu},{create:function(t,i){return void 0===i?Ru(t):Eh(Ru(t),i)},defineProperty:Th,defineProperties:Eh,getOwnPropertyDescriptor:Ah}),ju({target:"Object",stat:!0,forced:!Au},{getOwnPropertyNames:Ch}),rh(),sh(vh,hh),Qu[uh]=!0;var Lh=at&&!!Symbol.for&&!!Symbol.keyFor,zh=Cn,Ih=wi,Nh=W,Hh=It,Ph=S,Rh=Lh,Bh=Ph("string-to-symbol-registry"),$h=Ph("symbol-to-string-registry");zh({target:"Symbol",stat:!0,forced:!Rh},{for:function(t){var i=Hh(t);if(Nh(Bh,i))return Bh[i];var e=Ih("Symbol")(i);return Bh[i]=e,$h[e]=i,e}});var Gh=Cn,Wh=W,Uh=Si,qh=Fi,Vh=Lh,Xh=S("symbol-to-string-registry");Gh({target:"Symbol",stat:!0,forced:!Vh},{keyFor:function(t){if(!Uh(t))throw TypeError(qh(t)+" is not a symbol");if(Wh(Xh,t))return Xh[t]}});var Zh=y([].slice),Jh=lu,Kh=_t,Qh=jt,tc=It,ic=y([].push),ec=Cn,nc=wi,rc=ze,sc=vi,oc=y,ac=f,uc=_t,hc=Si,cc=Zh,lc=function(t){if(Kh(t))return t;if(Jh(t)){for(var i=t.length,e=[],n=0;n<i;n++){var r=t[n];"string"==typeof r?ic(e,r):"number"!=typeof r&&"Number"!=Qh(r)&&"String"!=Qh(r)||ic(e,tc(r))}var s=e.length,o=!0;return function(t,i){if(o)return o=!1,i;if(Jh(this))return i;for(var n=0;n<s;n++)if(e[n]===t)return i}}},fc=at,dc=String,vc=nc("JSON","stringify"),pc=oc(/./.exec),mc=oc("".charAt),gc=oc("".charCodeAt),bc=oc("".replace),yc=oc(1..toString),wc=/[\uD800-\uDFFF]/g,kc=/^[\uD800-\uDBFF]$/,xc=/^[\uDC00-\uDFFF]$/,_c=!fc||ac((function(){var t=nc("Symbol")();return"[null]"!=vc([t])||"{}"!=vc({a:t})||"{}"!=vc(Object(t))})),Dc=ac((function(){return'"\\udf06\\ud834"'!==vc("\udf06\ud834")||'"\\udead"'!==vc("\udead")})),Mc=function(t,i){var e=cc(arguments),n=lc(i);if(uc(n)||void 0!==t&&!hc(t))return e[1]=function(t,i){if(uc(n)&&(i=sc(n,this,dc(t),i)),!hc(i))return i},rc(vc,null,e)},Sc=function(t,i,e){var n=mc(e,i-1),r=mc(e,i+1);return pc(kc,t)&&!pc(xc,r)||pc(xc,t)&&!pc(kc,n)?"\\u"+yc(gc(t,0),16):t};vc&&ec({target:"JSON",stat:!0,arity:3,forced:_c||Dc},{stringify:function(t,i,e){var n=cc(arguments),r=rc(_c?Mc:vc,null,n);return Dc&&"string"==typeof r?bc(r,wc,Sc):r}});var jc=Xa,Fc=B;Cn({target:"Object",stat:!0,forced:!at||f((function(){jc.f(1)}))},{getOwnPropertySymbols:function(t){var i=jc.f;return i?i(Fc(t)):[]}});var Tc=pi.Object.getOwnPropertySymbols;!function(t){t.exports=Tc}(Ca);var Ec=n(Aa),Yc={},Ac={get exports(){return Yc},set exports(t){Yc=t}},Cc={},Oc={get exports(){return Cc},set exports(t){Cc=t}},Lc=Cn,zc=f,Ic=Ke,Nc=Pe.f,Hc=Qt;Lc({target:"Object",stat:!0,forced:!Hc||zc((function(){Nc(1)})),sham:!Hc},{getOwnPropertyDescriptor:function(t,i){return Nc(Ic(t),i)}});var Pc=pi.Object,Rc=Oc.exports=function(t,i){return Pc.getOwnPropertyDescriptor(t,i)};Pc.getOwnPropertyDescriptor.sham&&(Rc.sham=!0);var Bc=Cc;!function(t){t.exports=Bc}(Ac);var $c=n(Yc),Gc={},Wc={get exports(){return Gc},set exports(t){Gc=t}},Uc=wi,qc=Oa,Vc=Xa,Xc=li,Zc=y([].concat),Jc=Uc("Reflect","ownKeys")||function(t){var i=qc.f(Xc(t)),e=Vc.f;return e?Zc(i,e(t)):i},Kc=Jc,Qc=Ke,tl=Pe,il=To;Cn({target:"Object",stat:!0,sham:!Qt},{getOwnPropertyDescriptors:function(t){for(var i,e,n=Qc(t),r=tl.f,s=Kc(n),o={},a=0;s.length>a;)void 0!==(e=r(n,i=s[a++]))&&il(o,i,e);return o}});var el=pi.Object.getOwnPropertyDescriptors;!function(t){t.exports=el}(Wc);var nl=n(Gc),rl={},sl={get exports(){return rl},set exports(t){rl=t}},ol={},al={get exports(){return ol},set exports(t){ol=t}},ul=Cn,hl=Qt,cl=Pn.f;ul({target:"Object",stat:!0,forced:Object.defineProperties!==cl,sham:!hl},{defineProperties:cl});var ll=pi.Object,fl=al.exports=function(t,i){return ll.defineProperties(t,i)};ll.defineProperties.sham&&(fl.sham=!0);var dl=ol;!function(t){t.exports=dl}(sl);var vl=n(rl),pl={},ml={get exports(){return pl},set exports(t){pl=t}},gl={},bl={get exports(){return gl},set exports(t){gl=t}},yl=Cn,wl=Qt,kl=ti.f;yl({target:"Object",stat:!0,forced:Object.defineProperty!==kl,sham:!wl},{defineProperty:kl});var xl=pi.Object,_l=bl.exports=function(t,i,e){return xl.defineProperty(t,i,e)};xl.defineProperty.sham&&(_l.sham=!0);var Dl=gl;!function(t){t.exports=Dl}(ml);var Ml=n(pl);function Sl(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var jl={},Fl={get exports(){return jl},set exports(t){jl=t}},Tl={},El=Dl;!function(t){t.exports=El}({get exports(){return Tl},set exports(t){Tl=t}}),function(t){t.exports=Tl}(Fl);var Yl=n(jl),Al={},Cl={get exports(){return Al},set exports(t){Al=t}},Ol={},Ll={get exports(){return Ol},set exports(t){Ol=t}},zl=TypeError,Il=function(t){if(t>9007199254740991)throw zl("Maximum allowed index exceeded");return t},Nl=f,Hl=rt,Pl=gt("species"),Rl=function(t){return Hl>=51||!Nl((function(){var i=[];return(i.constructor={})[Pl]=function(){return{foo:1}},1!==i[t](Boolean).foo}))},Bl=Cn,$l=f,Gl=lu,Wl=Kt,Ul=B,ql=Vn,Vl=Il,Xl=To,Zl=bu,Jl=Rl,Kl=rt,Ql=gt("isConcatSpreadable"),tf=Kl>=51||!$l((function(){var t=[];return t[Ql]=!1,t.concat()[0]!==t})),ef=function(t){if(!Wl(t))return!1;var i=t[Ql];return void 0!==i?!!i:Gl(t)};Bl({target:"Array",proto:!0,arity:1,forced:!tf||!Jl("concat")},{concat:function(t){var i,e,n,r,s,o=Ul(this),a=Zl(o,0),u=0;for(i=-1,n=arguments.length;i<n;i++)if(ef(s=-1===i?o:arguments[i]))for(r=ql(s),Vl(u+r),e=0;e<r;e++,u++)e in s&&Xl(a,u,s[e]);else Vl(u+1),Xl(a,u++,s);return a.length=u,a}}),ru("asyncIterator"),ru("hasInstance"),ru("isConcatSpreadable"),ru("iterator"),ru("match"),ru("matchAll"),ru("replace"),ru("search"),ru("species"),ru("split");var nf=hu;ru("toPrimitive"),nf();var rf=wi,sf=cs;ru("toStringTag"),sf(rf("Symbol"),"Symbol"),ru("unscopables"),cs(M.JSON,"JSON",!0);var of=pi.Symbol;ru("dispose");var af=of;ru("asyncDispose");var uf=Cn,hf=y,cf=wi("Symbol"),lf=cf.keyFor,ff=hf(cf.prototype.valueOf);uf({target:"Symbol",stat:!0},{isRegistered:function(t){try{return void 0!==lf(ff(t))}catch(t){return!1}}});for(var df=Cn,vf=S,pf=wi,mf=y,gf=Si,bf=gt,yf=pf("Symbol"),wf=yf.isWellKnown,kf=pf("Object","getOwnPropertyNames"),xf=mf(yf.prototype.valueOf),_f=vf("wks"),Df=0,Mf=kf(yf),Sf=Mf.length;Df<Sf;Df++)try{var jf=Mf[Df];gf(yf[jf])&&bf(jf)}catch(t){}df({target:"Symbol",stat:!0,forced:!0},{isWellKnown:function(t){if(wf&&wf(t))return!0;try{for(var i=xf(t),e=0,n=kf(_f),r=n.length;e<r;e++)if(_f[n[e]]==i)return!0}catch(t){}return!1}}),ru("matcher"),ru("metadataKey"),ru("observable"),ru("metadata"),ru("patternMatch"),ru("replaceAll");var Ff=af;!function(t){t.exports=Ff}(Ll),function(t){t.exports=Ol}(Cl);var Tf=n(Al),Ef={},Yf={get exports(){return Ef},set exports(t){Ef=t}},Af={},Cf={get exports(){return Af},set exports(t){Af=t}},Of=Ka.f("iterator"),Lf=Of;!function(t){t.exports=Lf}(Cf),function(t){t.exports=Af}(Yf);var zf=n(Ef);function If(t){return If="function"==typeof Tf&&"symbol"==typeof zf?function(t){return typeof t}:function(t){return t&&"function"==typeof Tf&&t.constructor===Tf&&t!==Tf.prototype?"symbol":typeof t},If(t)}var Nf={},Hf={get exports(){return Nf},set exports(t){Nf=t}},Pf={},Rf={get exports(){return Pf},set exports(t){Pf=t}},Bf=Ka.f("toPrimitive");!function(t){t.exports=Bf}(Rf),function(t){t.exports=Pf}(Hf);var $f=n(Nf);function Gf(t){var i=function(t,i){if("object"!==If(t)||null===t)return t;var e=t[$f];if(void 0!==e){var n=e.call(t,i||"default");if("object"!==If(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"===If(i)?i:String(i)}function Wf(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Yl(t,Gf(n.key),n)}}function Uf(t,i,e){return i&&Wf(t.prototype,i),e&&Wf(t,e),Yl(t,"prototype",{writable:!1}),t}function qf(t,i,e){return(i=Gf(i))in t?Yl(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}var Vf={},Xf={get exports(){return Vf},set exports(t){Vf=t}},Zf={},Jf={get exports(){return Zf},set exports(t){Zf=t}};Cn({target:"Array",stat:!0},{isArray:lu});var Kf=pi.Array.isArray,Qf=Kf;!function(t){t.exports=Qf}(Jf),function(t){t.exports=Zf}(Xf);var td=n(Vf);var id={},ed={get exports(){return id},set exports(t){id=t}},nd={},rd={get exports(){return nd},set exports(t){nd=t}},sd=Cn,od=lu,ad=Mo,ud=Kt,hd=Gn,cd=Vn,ld=Ke,fd=To,dd=gt,vd=Zh,pd=Rl("slice"),md=dd("species"),gd=Array,bd=Math.max;sd({target:"Array",proto:!0,forced:!pd},{slice:function(t,i){var e,n,r,s=ld(this),o=cd(s),a=hd(t,o),u=hd(void 0===i?o:i,o);if(od(s)&&(e=s.constructor,(ad(e)&&(e===gd||od(e.prototype))||ud(e)&&null===(e=e[md]))&&(e=void 0),e===gd||void 0===e))return vd(s,a,u);for(n=new(void 0===e?gd:e)(bd(u-a,0)),r=0;a<u;a++,r++)a in s&&fd(n,r,s[a]);return n.length=r,n}});var yd=pi,wd=function(t){return yd[t+"Prototype"]},kd=wd("Array").slice,xd=ki,_d=kd,Dd=Array.prototype,Md=function(t){var i=t.slice;return t===Dd||xd(Dd,t)&&i===Dd.slice?_d:i},Sd=Md,jd=Sd;!function(t){t.exports=jd}(rd),function(t){t.exports=nd}(ed);var Fd=n(id),Td={},Ed={get exports(){return Td},set exports(t){Td=t}},Yd={},Ad=oa;!function(t){t.exports=Ad}({get exports(){return Yd},set exports(t){Yd=t}}),function(t){t.exports=Yd}(Ed);var Cd=n(Td);function Od(t,i){(null==i||i>t.length)&&(i=t.length);for(var e=0,n=new Array(i);e<i;e++)n[e]=t[e];return n}function Ld(t,i){var e;if(t){if("string"==typeof t)return Od(t,i);var n=Fd(e=Object.prototype.toString.call(t)).call(e,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Cd(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Od(t,i):void 0}}function zd(t,i){return function(t){if(td(t))return t}(t)||function(t,i){var e=null==t?null:void 0!==Tf&&Ya(t)||t["@@iterator"];if(null!=e){var n,r,s,o,a=[],u=!0,h=!1;try{if(s=(e=e.call(t)).next,0===i){if(Object(e)!==e)return;u=!1}else for(;!(u=(n=s.call(e)).done)&&(a.push(n.value),a.length!==i);u=!0);}catch(t){h=!0,r=t}finally{try{if(!u&&null!=e.return&&(o=e.return(),Object(o)!==o))return}finally{if(h)throw r}}return a}}(t,i)||Ld(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Id(t){return function(t){if(td(t))return Od(t)}(t)||function(t){if(void 0!==Tf&&null!=Ya(t)||null!=t["@@iterator"])return Cd(t)}(t)||Ld(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Nd={};!function(t){t.exports=of}({get exports(){return Nd},set exports(t){Nd=t}});var Hd=n(Nd),Pd={},Rd={get exports(){return Pd},set exports(t){Pd=t}},Bd=wd("Array").concat,$d=ki,Gd=Bd,Wd=Array.prototype,Ud=function(t){var i=t.concat;return t===Wd||$d(Wd,t)&&i===Wd.concat?Gd:i},qd=Ud;!function(t){t.exports=qd}(Rd);var Vd=n(Pd),Xd={};!function(t){t.exports=Sd}({get exports(){return Xd},set exports(t){Xd=t}});var Zd=n(Xd),Jd={},Kd={get exports(){return Jd},set exports(t){Jd=t}};Cn({target:"Reflect",stat:!0},{ownKeys:Jc});var Qd=pi.Reflect.ownKeys;!function(t){t.exports=Qd}(Kd);var tv=n(Jd),iv={};!function(t){t.exports=Kf}({get exports(){return iv},set exports(t){iv=t}});var ev=n(iv),nv={},rv={get exports(){return nv},set exports(t){nv=t}},sv=Su.map;Cn({target:"Array",proto:!0,forced:!Rl("map")},{map:function(t){return sv(this,t,arguments.length>1?arguments[1]:void 0)}});var ov=wd("Array").map,av=ki,uv=ov,hv=Array.prototype,cv=function(t){var i=t.map;return t===hv||av(hv,t)&&i===hv.map?uv:i},lv=cv;!function(t){t.exports=lv}(rv);var fv=n(nv),dv={},vv={get exports(){return dv},set exports(t){dv=t}},pv=B,mv=hr;Cn({target:"Object",stat:!0,forced:f((function(){mv(1)}))},{keys:function(t){return mv(pv(t))}});var gv=pi.Object.keys;!function(t){t.exports=gv}(vv);var bv=n(dv),yv={},wv={get exports(){return yv},set exports(t){yv=t}},kv=Cn,xv=Date,_v=y(xv.prototype.getTime);kv({target:"Date",stat:!0},{now:function(){return _v(new xv)}});var Dv=pi.Date.now;!function(t){t.exports=Dv}(wv);var Mv=n(yv),Sv={},jv={get exports(){return Sv},set exports(t){Sv=t}},Fv=y,Tv=Ai,Ev=Kt,Yv=W,Av=Zh,Cv=d,Ov=Function,Lv=Fv([].concat),zv=Fv([].join),Iv={},Nv=function(t,i,e){if(!Yv(Iv,i)){for(var n=[],r=0;r<i;r++)n[r]="a["+r+"]";Iv[i]=Ov("C,a","return new C("+zv(n,",")+")")}return Iv[i](t,e)},Hv=Cv?Ov.bind:function(t){var i=Tv(this),e=i.prototype,n=Av(arguments,1),r=function(){var e=Lv(n,Av(arguments));return this instanceof r?Nv(i,e.length,e):i.apply(t,e)};return Ev(e)&&(r.prototype=e),r},Pv=Hv;Cn({target:"Function",proto:!0,forced:Function.bind!==Pv},{bind:Pv});var Rv=wd("Function").bind,Bv=ki,$v=Rv,Gv=Function.prototype,Wv=function(t){var i=t.bind;return t===Gv||Bv(Gv,t)&&i===Gv.bind?$v:i},Uv=Wv;!function(t){t.exports=Uv}(jv);var qv=n(Sv),Vv={},Xv={get exports(){return Vv},set exports(t){Vv=t}},Zv=f,Jv=function(t,i){var e=[][t];return!!e&&Zv((function(){e.call(null,i||function(){return 1},1)}))},Kv=Su.forEach,Qv=Jv("forEach")?[].forEach:function(t){return Kv(this,t,arguments.length>1?arguments[1]:void 0)};Cn({target:"Array",proto:!0,forced:[].forEach!=Qv},{forEach:Qv});var tp=wd("Array").forEach,ip=Ot,ep=W,np=ki,rp=tp,sp=Array.prototype,op={DOMTokenList:!0,NodeList:!0},ap=function(t){var i=t.forEach;return t===sp||np(sp,t)&&i===sp.forEach||ep(op,ip(t))?rp:i};!function(t){t.exports=ap}(Xv);var up=n(Vv),hp={},cp={get exports(){return hp},set exports(t){hp=t}},lp=Cn,fp=lu,dp=y([].reverse),vp=[1,2];lp({target:"Array",proto:!0,forced:String(vp)===String(vp.reverse())},{reverse:function(){return fp(this)&&(this.length=this.length),dp(this)}});var pp=wd("Array").reverse,mp=ki,gp=pp,bp=Array.prototype,yp=function(t){var i=t.reverse;return t===bp||mp(bp,t)&&i===bp.reverse?gp:i},wp=yp;!function(t){t.exports=wp}(cp);var kp=n(hp),xp={},_p={get exports(){return xp},set exports(t){xp=t}},Dp=Qt,Mp=lu,Sp=TypeError,jp=Object.getOwnPropertyDescriptor,Fp=Dp&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),Tp=Fi,Ep=TypeError,Yp=function(t,i){if(!delete t[i])throw Ep("Cannot delete property "+Tp(i)+" of "+Tp(t))},Ap=Cn,Cp=B,Op=Gn,Lp=_,zp=Vn,Ip=Fp?function(t,i){if(Mp(t)&&!jp(t,"length").writable)throw Sp("Cannot set read only .length");return t.length=i}:function(t,i){return t.length=i},Np=Il,Hp=bu,Pp=To,Rp=Yp,Bp=Rl("splice"),$p=Math.max,Gp=Math.min;Ap({target:"Array",proto:!0,forced:!Bp},{splice:function(t,i){var e,n,r,s,o,a,u=Cp(this),h=zp(u),c=Op(t,h),l=arguments.length;for(0===l?e=n=0:1===l?(e=0,n=h-c):(e=l-2,n=Gp($p(Lp(i),0),h-c)),Np(h+e-n),r=Hp(u,n),s=0;s<n;s++)(o=c+s)in u&&Pp(r,s,u[o]);if(r.length=n,e<n){for(s=c;s<h-n;s++)a=s+e,(o=s+n)in u?u[a]=u[o]:Rp(u,a);for(s=h;s>h-n+e;s--)Rp(u,s-1)}else if(e>n)for(s=h-n;s>c;s--)a=s+e-1,(o=s+n-1)in u?u[a]=u[o]:Rp(u,a);for(s=0;s<e;s++)u[s+c]=arguments[s+2];return Ip(u,h-n+e),r}});var Wp=wd("Array").splice,Up=ki,qp=Wp,Vp=Array.prototype,Xp=function(t){var i=t.splice;return t===Vp||Up(Vp,t)&&i===Vp.splice?qp:i},Zp=Xp;!function(t){t.exports=Zp}(_p);var Jp=n(xp),Kp={},Qp={get exports(){return Kp},set exports(t){Kp=t}},tm=Qt,im=y,em=vi,nm=f,rm=hr,sm=Xa,om=Re,am=B,um=Xe,hm=Object.assign,cm=Object.defineProperty,lm=im([].concat),fm=!hm||nm((function(){if(tm&&1!==hm({b:1},hm(cm({},"a",{enumerable:!0,get:function(){cm(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},i={},e=Symbol(),n="abcdefghijklmnopqrst";return t[e]=7,n.split("").forEach((function(t){i[t]=t})),7!=hm({},t)[e]||rm(hm({},i)).join("")!=n}))?function(t,i){for(var e=am(t),n=arguments.length,r=1,s=sm.f,o=om.f;n>r;)for(var a,u=um(arguments[r++]),h=s?lm(rm(u),s(u)):rm(u),c=h.length,l=0;c>l;)a=h[l++],tm&&!em(o,u,a)||(e[a]=u[a]);return e}:hm,dm=fm;Cn({target:"Object",stat:!0,arity:2,forced:Object.assign!==dm},{assign:dm});var vm=pi.Object.assign;!function(t){t.exports=vm}(Qp);var pm=n(Kp),mm={},gm={get exports(){return mm},set exports(t){mm=t}},bm=Qn.includes;Cn({target:"Array",proto:!0,forced:f((function(){return!Array(1).includes()}))},{includes:function(t){return bm(this,t,arguments.length>1?arguments[1]:void 0)}});var ym=wd("Array").includes,wm=Kt,km=jt,xm=gt("match"),_m=function(t){var i;return wm(t)&&(void 0!==(i=t[xm])?!!i:"RegExp"==km(t))},Dm=TypeError,Mm=gt("match"),Sm=Cn,jm=function(t){if(_m(t))throw Dm("The method doesn't accept regular expressions");return t},Fm=H,Tm=It,Em=function(t){var i=/./;try{"/./"[t](i)}catch(e){try{return i[Mm]=!1,"/./"[t](i)}catch(t){}}return!1},Ym=y("".indexOf);Sm({target:"String",proto:!0,forced:!Em("includes")},{includes:function(t){return!!~Ym(Tm(Fm(this)),Tm(jm(t)),arguments.length>1?arguments[1]:void 0)}});var Am=wd("String").includes,Cm=ki,Om=ym,Lm=Am,zm=Array.prototype,Im=String.prototype,Nm=function(t){var i=t.includes;return t===zm||Cm(zm,t)&&i===zm.includes?Om:"string"==typeof t||t===Im||Cm(Im,t)&&i===Im.includes?Lm:i},Hm=Nm;!function(t){t.exports=Hm}(gm);var Pm=n(mm),Rm={},Bm={get exports(){return Rm},set exports(t){Rm=t}},$m=B,Gm=$r,Wm=Lr;Cn({target:"Object",stat:!0,forced:f((function(){Gm(1)})),sham:!Wm},{getPrototypeOf:function(t){return Gm($m(t))}});var Um=pi.Object.getPrototypeOf;!function(t){t.exports=Um}(Bm);var qm=n(Rm),Vm={},Xm={get exports(){return Vm},set exports(t){Vm=t}},Zm=Su.filter;Cn({target:"Array",proto:!0,forced:!Rl("filter")},{filter:function(t){return Zm(this,t,arguments.length>1?arguments[1]:void 0)}});var Jm=wd("Array").filter,Km=ki,Qm=Jm,tg=Array.prototype,ig=function(t){var i=t.filter;return t===tg||Km(tg,t)&&i===tg.filter?Qm:i},eg=ig;!function(t){t.exports=eg}(Xm);var ng=n(Vm),rg={},sg={get exports(){return rg},set exports(t){rg=t}},og=Qt,ag=y,ug=hr,hg=Ke,cg=ag(Re.f),lg=ag([].push),fg=function(t){return function(i){for(var e,n=hg(i),r=ug(n),s=r.length,o=0,a=[];s>o;)e=r[o++],og&&!cg(n,e)||lg(a,t?[e,n[e]]:n[e]);return a}},dg={entries:fg(!0),values:fg(!1)}.values;Cn({target:"Object",stat:!0},{values:function(t){return dg(t)}});var vg=pi.Object.values;!function(t){t.exports=vg}(sg);var pg=n(rg),mg={},gg={get exports(){return mg},set exports(t){mg=t}},bg="\t\n\v\f\r \u2028\u2029\ufeff",yg=H,wg=It,kg=bg,xg=y("".replace),_g=RegExp("^["+kg+"]+"),Dg=RegExp("(^|[^"+kg+"])["+kg+"]+$"),Mg=function(t){return function(i){var e=wg(yg(i));return 1&t&&(e=xg(e,_g,"")),2&t&&(e=xg(e,Dg,"$1")),e}},Sg={start:Mg(1),end:Mg(2),trim:Mg(3)},jg=M,Fg=f,Tg=y,Eg=It,Yg=Sg.trim,Ag=bg,Cg=jg.parseInt,Og=jg.Symbol,Lg=Og&&Og.iterator,zg=/^[+-]?0x/i,Ig=Tg(zg.exec),Ng=8!==Cg(Ag+"08")||22!==Cg(Ag+"0x16")||Lg&&!Fg((function(){Cg(Object(Lg))}))?function(t,i){var e=Yg(Eg(t));return Cg(e,i>>>0||(Ig(zg,e)?16:10))}:Cg;Cn({global:!0,forced:parseInt!=Ng},{parseInt:Ng});var Hg=pi.parseInt;!function(t){t.exports=Hg}(gg);var Pg=n(mg),Rg={},Bg={get exports(){return Rg},set exports(t){Rg=t}},$g=Cn,Gg=Qn.indexOf,Wg=Jv,Ug=He([].indexOf),qg=!!Ug&&1/Ug([1],1,-0)<0;$g({target:"Array",proto:!0,forced:qg||!Wg("indexOf")},{indexOf:function(t){var i=arguments.length>1?arguments[1]:void 0;return qg?Ug(this,t,i)||0:Gg(this,t,i)}});var Vg=wd("Array").indexOf,Xg=ki,Zg=Vg,Jg=Array.prototype,Kg=function(t){var i=t.indexOf;return t===Jg||Xg(Jg,t)&&i===Jg.indexOf?Zg:i},Qg=Kg;!function(t){t.exports=Qg}(Bg);var tb=n(Rg),ib={},eb={get exports(){return ib},set exports(t){ib=t}},nb=Hn.PROPER,rb=f,sb=bg,ob=Sg.trim;Cn({target:"String",proto:!0,forced:function(t){return rb((function(){return!!sb[t]()||""!==""[t]()||nb&&sb[t].name!==t}))}("trim")},{trim:function(){return ob(this)}});var ab=wd("String").trim,ub=ki,hb=ab,cb=String.prototype,lb=function(t){var i=t.trim;return"string"==typeof t||t===cb||ub(cb,t)&&i===cb.trim?hb:i},fb=lb;!function(t){t.exports=fb}(eb);var db=n(ib),vb={},pb={get exports(){return vb},set exports(t){vb=t}};Cn({target:"Object",stat:!0,sham:!Qt},{create:Or});var mb=pi.Object,gb=function(t,i){return mb.create(t,i)};!function(t){t.exports=gb}(pb);var bb=n(vb),yb={},wb={get exports(){return yb},set exports(t){yb=t}},kb=pi,xb=ze;kb.JSON||(kb.JSON={stringify:JSON.stringify});var _b=function(t,i,e){return xb(kb.JSON.stringify,null,arguments)},Db=_b;!function(t){t.exports=Db}(wb);var Mb=n(yb),Sb={},jb={get exports(){return Sb},set exports(t){Sb=t}},Fb="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,Tb=TypeError,Eb=function(t,i){if(t<i)throw Tb("Not enough arguments");return t},Yb=M,Ab=ze,Cb=_t,Ob=Fb,Lb=J,zb=Zh,Ib=Eb,Nb=Yb.Function,Hb=/MSIE .\./.test(Lb)||Ob&&function(){var t=Yb.Bun.version.split(".");return t.length<3||0==t[0]&&(t[1]<3||3==t[1]&&0==t[2])}(),Pb=function(t,i){var e=i?2:1;return Hb?function(n,r){var s=Ib(arguments.length,1)>e,o=Cb(n)?n:Nb(n),a=s?zb(arguments,e):[],u=s?function(){Ab(o,this,a)}:o;return i?t(u,r):t(u)}:t},Rb=Cn,Bb=M,$b=Pb(Bb.setInterval,!0);Rb({global:!0,bind:!0,forced:Bb.setInterval!==$b},{setInterval:$b});var Gb=Cn,Wb=M,Ub=Pb(Wb.setTimeout,!0);Gb({global:!0,bind:!0,forced:Wb.setTimeout!==Ub},{setTimeout:Ub});var qb=pi.setTimeout;!function(t){t.exports=qb}(jb);var Vb=n(Sb),Xb={},Zb={get exports(){return Xb},set exports(t){Xb=t}},Jb=B,Kb=Gn,Qb=Vn,ty=function(t){for(var i=Jb(this),e=Qb(i),n=arguments.length,r=Kb(n>1?arguments[1]:void 0,e),s=n>2?arguments[2]:void 0,o=void 0===s?e:Kb(s,e);o>r;)i[r++]=t;return i};Cn({target:"Array",proto:!0},{fill:ty});var iy=wd("Array").fill,ey=ki,ny=iy,ry=Array.prototype,sy=function(t){var i=t.fill;return t===ry||ey(ry,t)&&i===ry.fill?ny:i},oy=sy;!function(t){t.exports=oy}(Zb);var ay=n(Xb),uy={};!function(t){function i(t){if(t)return function(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}(t)}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(i),this},i.prototype.once=function(t,i){function e(){this.off(t,e),i.apply(this,arguments)}return e.fn=i,this.on(t,e),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,i){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var e,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<n.length;r++)if((e=n[r])===i||e.fn===i){n.splice(r,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),e=this._callbacks["$"+t],n=1;n<arguments.length;n++)i[n-1]=arguments[n];if(e){n=0;for(var r=(e=e.slice(0)).length;n<r;++n)e[n].apply(this,i)}return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}}({get exports(){return uy},set exports(t){uy=t}});var hy,cy=uy;
/*! Hammer.JS - v2.0.17-rc - 2019-12-16
	 * http://naver.github.io/egjs
	 *
	 * Forked By Naver egjs
	 * Copyright (c) hammerjs
	 * Licensed under the MIT license */function ly(){return ly=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},ly.apply(this,arguments)}function fy(t,i){t.prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i}function dy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}hy="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),e=1;e<arguments.length;e++){var n=arguments[e];if(null!=n)for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r])}return i}:Object.assign;var vy,py=hy,my=["","webkit","Moz","MS","ms","o"],gy="undefined"==typeof document?{style:{}}:document.createElement("div"),by="function",yy=Math.round,wy=Math.abs,ky=Date.now;function xy(t,i){for(var e,n,r=i[0].toUpperCase()+i.slice(1),s=0;s<my.length;){if((n=(e=my[s])?e+r:i)in t)return n;s++}}vy="undefined"==typeof window?{}:window;var _y=xy(gy.style,"touchAction"),Dy=void 0!==_y;var My="compute",Sy="auto",jy="manipulation",Fy="none",Ty="pan-x",Ey="pan-y",Yy=function(){if(!Dy)return!1;var t={},i=vy.CSS&&vy.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(e){return t[e]=!i||vy.CSS.supports("touch-action",e)})),t}(),Ay="ontouchstart"in vy,Cy=void 0!==xy(vy,"PointerEvent"),Oy=Ay&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Ly="touch",zy="mouse",Iy=25,Ny=1,Hy=2,Py=4,Ry=8,By=1,$y=2,Gy=4,Wy=8,Uy=16,qy=$y|Gy,Vy=Wy|Uy,Xy=qy|Vy,Zy=["x","y"],Jy=["clientX","clientY"];function Ky(t,i,e){var n;if(t)if(t.forEach)t.forEach(i,e);else if(void 0!==t.length)for(n=0;n<t.length;)i.call(e,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&i.call(e,t[n],n,t)}function Qy(t,i){return typeof t===by?t.apply(i&&i[0]||void 0,i):t}function tw(t,i){return t.indexOf(i)>-1}var iw=function(){function t(t,i){this.manager=t,this.set(i)}var i=t.prototype;return i.set=function(t){t===My&&(t=this.compute()),Dy&&this.manager.element.style&&Yy[t]&&(this.manager.element.style[_y]=t),this.actions=t.toLowerCase().trim()},i.update=function(){this.set(this.manager.options.touchAction)},i.compute=function(){var t=[];return Ky(this.manager.recognizers,(function(i){Qy(i.options.enable,[i])&&(t=t.concat(i.getTouchAction()))})),function(t){if(tw(t,Fy))return Fy;var i=tw(t,Ty),e=tw(t,Ey);return i&&e?Fy:i||e?i?Ty:Ey:tw(t,jy)?jy:Sy}(t.join(" "))},i.preventDefaults=function(t){var i=t.srcEvent,e=t.offsetDirection;if(this.manager.session.prevented)i.preventDefault();else{var n=this.actions,r=tw(n,Fy)&&!Yy[Fy],s=tw(n,Ey)&&!Yy[Ey],o=tw(n,Ty)&&!Yy[Ty];if(r){var a=1===t.pointers.length,u=t.distance<2,h=t.deltaTime<250;if(a&&u&&h)return}if(!o||!s)return r||s&&e&qy||o&&e&Vy?this.preventSrc(i):void 0}},i.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function ew(t,i){for(;t;){if(t===i)return!0;t=t.parentNode}return!1}function nw(t){var i=t.length;if(1===i)return{x:yy(t[0].clientX),y:yy(t[0].clientY)};for(var e=0,n=0,r=0;r<i;)e+=t[r].clientX,n+=t[r].clientY,r++;return{x:yy(e/i),y:yy(n/i)}}function rw(t){for(var i=[],e=0;e<t.pointers.length;)i[e]={clientX:yy(t.pointers[e].clientX),clientY:yy(t.pointers[e].clientY)},e++;return{timeStamp:ky(),pointers:i,center:nw(i),deltaX:t.deltaX,deltaY:t.deltaY}}function sw(t,i,e){e||(e=Zy);var n=i[e[0]]-t[e[0]],r=i[e[1]]-t[e[1]];return Math.sqrt(n*n+r*r)}function ow(t,i,e){e||(e=Zy);var n=i[e[0]]-t[e[0]],r=i[e[1]]-t[e[1]];return 180*Math.atan2(r,n)/Math.PI}function aw(t,i){return t===i?By:wy(t)>=wy(i)?t<0?$y:Gy:i<0?Wy:Uy}function uw(t,i,e){return{x:i/t||0,y:e/t||0}}function hw(t,i){var e=t.session,n=i.pointers,r=n.length;e.firstInput||(e.firstInput=rw(i)),r>1&&!e.firstMultiple?e.firstMultiple=rw(i):1===r&&(e.firstMultiple=!1);var s=e.firstInput,o=e.firstMultiple,a=o?o.center:s.center,u=i.center=nw(n);i.timeStamp=ky(),i.deltaTime=i.timeStamp-s.timeStamp,i.angle=ow(a,u),i.distance=sw(a,u),function(t,i){var e=i.center,n=t.offsetDelta||{},r=t.prevDelta||{},s=t.prevInput||{};i.eventType!==Ny&&s.eventType!==Py||(r=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:e.x,y:e.y}),i.deltaX=r.x+(e.x-n.x),i.deltaY=r.y+(e.y-n.y)}(e,i),i.offsetDirection=aw(i.deltaX,i.deltaY);var h,c,l=uw(i.deltaTime,i.deltaX,i.deltaY);i.overallVelocityX=l.x,i.overallVelocityY=l.y,i.overallVelocity=wy(l.x)>wy(l.y)?l.x:l.y,i.scale=o?(h=o.pointers,sw((c=n)[0],c[1],Jy)/sw(h[0],h[1],Jy)):1,i.rotation=o?function(t,i){return ow(i[1],i[0],Jy)+ow(t[1],t[0],Jy)}(o.pointers,n):0,i.maxPointers=e.prevInput?i.pointers.length>e.prevInput.maxPointers?i.pointers.length:e.prevInput.maxPointers:i.pointers.length,function(t,i){var e,n,r,s,o=t.lastInterval||i,a=i.timeStamp-o.timeStamp;if(i.eventType!==Ry&&(a>Iy||void 0===o.velocity)){var u=i.deltaX-o.deltaX,h=i.deltaY-o.deltaY,c=uw(a,u,h);n=c.x,r=c.y,e=wy(c.x)>wy(c.y)?c.x:c.y,s=aw(u,h),t.lastInterval=i}else e=o.velocity,n=o.velocityX,r=o.velocityY,s=o.direction;i.velocity=e,i.velocityX=n,i.velocityY=r,i.direction=s}(e,i);var f,d=t.element,v=i.srcEvent;ew(f=v.composedPath?v.composedPath()[0]:v.path?v.path[0]:v.target,d)&&(d=f),i.target=d}function cw(t,i,e){var n=e.pointers.length,r=e.changedPointers.length,s=i&Ny&&n-r==0,o=i&(Py|Ry)&&n-r==0;e.isFirst=!!s,e.isFinal=!!o,s&&(t.session={}),e.eventType=i,hw(t,e),t.emit("hammer.input",e),t.recognize(e),t.session.prevInput=e}function lw(t){return t.trim().split(/\s+/g)}function fw(t,i,e){Ky(lw(i),(function(i){t.addEventListener(i,e,!1)}))}function dw(t,i,e){Ky(lw(i),(function(i){t.removeEventListener(i,e,!1)}))}function vw(t){var i=t.ownerDocument||t;return i.defaultView||i.parentWindow||window}var pw=function(){function t(t,i){var e=this;this.manager=t,this.callback=i,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(i){Qy(t.options.enable,[t])&&e.handler(i)},this.init()}var i=t.prototype;return i.handler=function(){},i.init=function(){this.evEl&&fw(this.element,this.evEl,this.domHandler),this.evTarget&&fw(this.target,this.evTarget,this.domHandler),this.evWin&&fw(vw(this.element),this.evWin,this.domHandler)},i.destroy=function(){this.evEl&&dw(this.element,this.evEl,this.domHandler),this.evTarget&&dw(this.target,this.evTarget,this.domHandler),this.evWin&&dw(vw(this.element),this.evWin,this.domHandler)},t}();function mw(t,i,e){if(t.indexOf&&!e)return t.indexOf(i);for(var n=0;n<t.length;){if(e&&t[n][e]==i||!e&&t[n]===i)return n;n++}return-1}var gw={pointerdown:Ny,pointermove:Hy,pointerup:Py,pointercancel:Ry,pointerout:Ry},bw={2:Ly,3:"pen",4:zy,5:"kinect"},yw="pointerdown",ww="pointermove pointerup pointercancel";vy.MSPointerEvent&&!vy.PointerEvent&&(yw="MSPointerDown",ww="MSPointerMove MSPointerUp MSPointerCancel");var kw=function(t){function i(){var e,n=i.prototype;return n.evEl=yw,n.evWin=ww,(e=t.apply(this,arguments)||this).store=e.manager.session.pointerEvents=[],e}return fy(i,t),i.prototype.handler=function(t){var i=this.store,e=!1,n=t.type.toLowerCase().replace("ms",""),r=gw[n],s=bw[t.pointerType]||t.pointerType,o=s===Ly,a=mw(i,t.pointerId,"pointerId");r&Ny&&(0===t.button||o)?a<0&&(i.push(t),a=i.length-1):r&(Py|Ry)&&(e=!0),a<0||(i[a]=t,this.callback(this.manager,r,{pointers:i,changedPointers:[t],pointerType:s,srcEvent:t}),e&&i.splice(a,1))},i}(pw);function xw(t){return Array.prototype.slice.call(t,0)}function _w(t,i,e){for(var n=[],r=[],s=0;s<t.length;){var o=i?t[s][i]:t[s];mw(r,o)<0&&n.push(t[s]),r[s]=o,s++}return e&&(n=i?n.sort((function(t,e){return t[i]>e[i]})):n.sort()),n}var Dw={touchstart:Ny,touchmove:Hy,touchend:Py,touchcancel:Ry},Mw="touchstart touchmove touchend touchcancel",Sw=function(t){function i(){var e;return i.prototype.evTarget=Mw,(e=t.apply(this,arguments)||this).targetIds={},e}return fy(i,t),i.prototype.handler=function(t){var i=Dw[t.type],e=jw.call(this,t,i);e&&this.callback(this.manager,i,{pointers:e[0],changedPointers:e[1],pointerType:Ly,srcEvent:t})},i}(pw);function jw(t,i){var e,n,r=xw(t.touches),s=this.targetIds;if(i&(Ny|Hy)&&1===r.length)return s[r[0].identifier]=!0,[r,r];var o=xw(t.changedTouches),a=[],u=this.target;if(n=r.filter((function(t){return ew(t.target,u)})),i===Ny)for(e=0;e<n.length;)s[n[e].identifier]=!0,e++;for(e=0;e<o.length;)s[o[e].identifier]&&a.push(o[e]),i&(Py|Ry)&&delete s[o[e].identifier],e++;return a.length?[_w(n.concat(a),"identifier",!0),a]:void 0}var Fw={mousedown:Ny,mousemove:Hy,mouseup:Py},Tw="mousedown",Ew="mousemove mouseup",Yw=function(t){function i(){var e,n=i.prototype;return n.evEl=Tw,n.evWin=Ew,(e=t.apply(this,arguments)||this).pressed=!1,e}return fy(i,t),i.prototype.handler=function(t){var i=Fw[t.type];i&Ny&&0===t.button&&(this.pressed=!0),i&Hy&&1!==t.which&&(i=Py),this.pressed&&(i&Py&&(this.pressed=!1),this.callback(this.manager,i,{pointers:[t],changedPointers:[t],pointerType:zy,srcEvent:t}))},i}(pw),Aw=2500,Cw=25;function Ow(t){var i=t.changedPointers[0];if(i.identifier===this.primaryTouch){var e={x:i.clientX,y:i.clientY},n=this.lastTouches;this.lastTouches.push(e);setTimeout((function(){var t=n.indexOf(e);t>-1&&n.splice(t,1)}),Aw)}}function Lw(t,i){t&Ny?(this.primaryTouch=i.changedPointers[0].identifier,Ow.call(this,i)):t&(Py|Ry)&&Ow.call(this,i)}function zw(t){for(var i=t.srcEvent.clientX,e=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],s=Math.abs(i-r.x),o=Math.abs(e-r.y);if(s<=Cw&&o<=Cw)return!0}return!1}var Iw=function(){return function(t){function i(i,e){var n;return(n=t.call(this,i,e)||this).handler=function(t,i,e){var r=e.pointerType===Ly,s=e.pointerType===zy;if(!(s&&e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents)){if(r)Lw.call(dy(dy(n)),i,e);else if(s&&zw.call(dy(dy(n)),e))return;n.callback(t,i,e)}},n.touch=new Sw(n.manager,n.handler),n.mouse=new Yw(n.manager,n.handler),n.primaryTouch=null,n.lastTouches=[],n}return fy(i,t),i.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},i}(pw)}();function Nw(t,i,e){return!!Array.isArray(t)&&(Ky(t,e[i],e),!0)}var Hw=1,Pw=2,Rw=4,Bw=8,$w=Bw,Gw=16,Ww=32,Uw=1;function qw(t,i){var e=i.manager;return e?e.get(t):t}function Vw(t){return t&Gw?"cancel":t&Bw?"end":t&Rw?"move":t&Pw?"start":""}var Xw=function(){function t(t){void 0===t&&(t={}),this.options=ly({enable:!0},t),this.id=Uw++,this.manager=null,this.state=Hw,this.simultaneous={},this.requireFail=[]}var i=t.prototype;return i.set=function(t){return py(this.options,t),this.manager&&this.manager.touchAction.update(),this},i.recognizeWith=function(t){if(Nw(t,"recognizeWith",this))return this;var i=this.simultaneous;return i[(t=qw(t,this)).id]||(i[t.id]=t,t.recognizeWith(this)),this},i.dropRecognizeWith=function(t){return Nw(t,"dropRecognizeWith",this)||(t=qw(t,this),delete this.simultaneous[t.id]),this},i.requireFailure=function(t){if(Nw(t,"requireFailure",this))return this;var i=this.requireFail;return-1===mw(i,t=qw(t,this))&&(i.push(t),t.requireFailure(this)),this},i.dropRequireFailure=function(t){if(Nw(t,"dropRequireFailure",this))return this;t=qw(t,this);var i=mw(this.requireFail,t);return i>-1&&this.requireFail.splice(i,1),this},i.hasRequireFailures=function(){return this.requireFail.length>0},i.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},i.emit=function(t){var i=this,e=this.state;function n(e){i.manager.emit(e,t)}e<Bw&&n(i.options.event+Vw(e)),n(i.options.event),t.additionalEvent&&n(t.additionalEvent),e>=Bw&&n(i.options.event+Vw(e))},i.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=Ww},i.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(Ww|Hw)))return!1;t++}return!0},i.recognize=function(t){var i=py({},t);if(!Qy(this.options.enable,[this,i]))return this.reset(),void(this.state=Ww);this.state&($w|Gw|Ww)&&(this.state=Hw),this.state=this.process(i),this.state&(Pw|Rw|Bw|Gw)&&this.tryEmit(i)},i.process=function(t){},i.getTouchAction=function(){},i.reset=function(){},t}(),Zw=function(t){function i(i){var e;return void 0===i&&(i={}),(e=t.call(this,ly({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},i))||this).pTime=!1,e.pCenter=!1,e._timer=null,e._input=null,e.count=0,e}fy(i,t);var e=i.prototype;return e.getTouchAction=function(){return[jy]},e.process=function(t){var i=this,e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),t.eventType&Ny&&0===this.count)return this.failTimeout();if(r&&s&&n){if(t.eventType!==Py)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||sw(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){i.state=$w,i.tryEmit()}),e.interval),Pw):$w}return Ww},e.failTimeout=function(){var t=this;return this._timer=setTimeout((function(){t.state=Ww}),this.options.interval),Ww},e.reset=function(){clearTimeout(this._timer)},e.emit=function(){this.state===$w&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},i}(Xw),Jw=function(t){function i(i){return void 0===i&&(i={}),t.call(this,ly({pointers:1},i))||this}fy(i,t);var e=i.prototype;return e.attrTest=function(t){var i=this.options.pointers;return 0===i||t.pointers.length===i},e.process=function(t){var i=this.state,e=t.eventType,n=i&(Pw|Rw),r=this.attrTest(t);return n&&(e&Ry||!r)?i|Gw:n||r?e&Py?i|Bw:i&Pw?i|Rw:Pw:Ww},i}(Xw);function Kw(t){return t===Uy?"down":t===Wy?"up":t===$y?"left":t===Gy?"right":""}var Qw=function(t){function i(i){var e;return void 0===i&&(i={}),(e=t.call(this,ly({event:"pan",threshold:10,pointers:1,direction:Xy},i))||this).pX=null,e.pY=null,e}fy(i,t);var e=i.prototype;return e.getTouchAction=function(){var t=this.options.direction,i=[];return t&qy&&i.push(Ey),t&Vy&&i.push(Ty),i},e.directionTest=function(t){var i=this.options,e=!0,n=t.distance,r=t.direction,s=t.deltaX,o=t.deltaY;return r&i.direction||(i.direction&qy?(r=0===s?By:s<0?$y:Gy,e=s!==this.pX,n=Math.abs(t.deltaX)):(r=0===o?By:o<0?Wy:Uy,e=o!==this.pY,n=Math.abs(t.deltaY))),t.direction=r,e&&n>i.threshold&&r&i.direction},e.attrTest=function(t){return Jw.prototype.attrTest.call(this,t)&&(this.state&Pw||!(this.state&Pw)&&this.directionTest(t))},e.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var e=Kw(i.direction);e&&(i.additionalEvent=this.options.event+e),t.prototype.emit.call(this,i)},i}(Jw),tk=function(t){function i(i){return void 0===i&&(i={}),t.call(this,ly({event:"swipe",threshold:10,velocity:.3,direction:qy|Vy,pointers:1},i))||this}fy(i,t);var e=i.prototype;return e.getTouchAction=function(){return Qw.prototype.getTouchAction.call(this)},e.attrTest=function(i){var e,n=this.options.direction;return n&(qy|Vy)?e=i.overallVelocity:n&qy?e=i.overallVelocityX:n&Vy&&(e=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&n&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&wy(e)>this.options.velocity&&i.eventType&Py},e.emit=function(t){var i=Kw(t.offsetDirection);i&&this.manager.emit(this.options.event+i,t),this.manager.emit(this.options.event,t)},i}(Jw),ik=function(t){function i(i){return void 0===i&&(i={}),t.call(this,ly({event:"pinch",threshold:0,pointers:2},i))||this}fy(i,t);var e=i.prototype;return e.getTouchAction=function(){return[Fy]},e.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Pw)},e.emit=function(i){if(1!==i.scale){var e=i.scale<1?"in":"out";i.additionalEvent=this.options.event+e}t.prototype.emit.call(this,i)},i}(Jw),ek=function(t){function i(i){return void 0===i&&(i={}),t.call(this,ly({event:"rotate",threshold:0,pointers:2},i))||this}fy(i,t);var e=i.prototype;return e.getTouchAction=function(){return[Fy]},e.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Pw)},i}(Jw),nk=function(t){function i(i){var e;return void 0===i&&(i={}),(e=t.call(this,ly({event:"press",pointers:1,time:251,threshold:9},i))||this)._timer=null,e._input=null,e}fy(i,t);var e=i.prototype;return e.getTouchAction=function(){return[Sy]},e.process=function(t){var i=this,e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(Py|Ry)&&!s)this.reset();else if(t.eventType&Ny)this.reset(),this._timer=setTimeout((function(){i.state=$w,i.tryEmit()}),e.time);else if(t.eventType&Py)return $w;return Ww},e.reset=function(){clearTimeout(this._timer)},e.emit=function(t){this.state===$w&&(t&&t.eventType&Py?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=ky(),this.manager.emit(this.options.event,this._input)))},i}(Xw),rk={domEvents:!1,touchAction:My,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},sk=[[ek,{enable:!1}],[ik,{enable:!1},["rotate"]],[tk,{direction:qy}],[Qw,{direction:qy},["swipe"]],[Zw],[Zw,{event:"doubletap",taps:2},["tap"]],[nk]];function ok(t,i){var e,n=t.element;n.style&&(Ky(t.options.cssProps,(function(r,s){e=xy(n.style,s),i?(t.oldCssProps[e]=n.style[e],n.style[e]=r):n.style[e]=t.oldCssProps[e]||""})),i||(t.oldCssProps={}))}var ak=function(){function t(t,i){var e,n=this;this.options=py({},rk,i||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((e=this).options.inputClass||(Cy?kw:Oy?Sw:Ay?Iw:Yw))(e,cw),this.touchAction=new iw(this,this.options.touchAction),ok(this,!0),Ky(this.options.recognizers,(function(t){var i=n.add(new t[0](t[1]));t[2]&&i.recognizeWith(t[2]),t[3]&&i.requireFailure(t[3])}),this)}var i=t.prototype;return i.set=function(t){return py(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},i.stop=function(t){this.session.stopped=t?2:1},i.recognize=function(t){var i=this.session;if(!i.stopped){var e;this.touchAction.preventDefaults(t);var n=this.recognizers,r=i.curRecognizer;(!r||r&&r.state&$w)&&(i.curRecognizer=null,r=null);for(var s=0;s<n.length;)e=n[s],2===i.stopped||r&&e!==r&&!e.canRecognizeWith(r)?e.reset():e.recognize(t),!r&&e.state&(Pw|Rw|Bw)&&(i.curRecognizer=e,r=e),s++}},i.get=function(t){if(t instanceof Xw)return t;for(var i=this.recognizers,e=0;e<i.length;e++)if(i[e].options.event===t)return i[e];return null},i.add=function(t){if(Nw(t,"add",this))return this;var i=this.get(t.options.event);return i&&this.remove(i),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},i.remove=function(t){if(Nw(t,"remove",this))return this;var i=this.get(t);if(t){var e=this.recognizers,n=mw(e,i);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},i.on=function(t,i){if(void 0===t||void 0===i)return this;var e=this.handlers;return Ky(lw(t),(function(t){e[t]=e[t]||[],e[t].push(i)})),this},i.off=function(t,i){if(void 0===t)return this;var e=this.handlers;return Ky(lw(t),(function(t){i?e[t]&&e[t].splice(mw(e[t],i),1):delete e[t]})),this},i.emit=function(t,i){this.options.domEvents&&function(t,i){var e=document.createEvent("Event");e.initEvent(t,!0,!0),e.gesture=i,i.target.dispatchEvent(e)}(t,i);var e=this.handlers[t]&&this.handlers[t].slice();if(e&&e.length){i.type=t,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var n=0;n<e.length;)e[n](i),n++}},i.destroy=function(){this.element&&ok(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),uk={touchstart:Ny,touchmove:Hy,touchend:Py,touchcancel:Ry},hk="touchstart",ck="touchstart touchmove touchend touchcancel",lk=function(t){function i(){var e,n=i.prototype;return n.evTarget=hk,n.evWin=ck,(e=t.apply(this,arguments)||this).started=!1,e}return fy(i,t),i.prototype.handler=function(t){var i=uk[t.type];if(i===Ny&&(this.started=!0),this.started){var e=fk.call(this,t,i);i&(Py|Ry)&&e[0].length-e[1].length==0&&(this.started=!1),this.callback(this.manager,i,{pointers:e[0],changedPointers:e[1],pointerType:Ly,srcEvent:t})}},i}(pw);function fk(t,i){var e=xw(t.touches),n=xw(t.changedTouches);return i&(Py|Ry)&&(e=_w(e.concat(n),"identifier",!0)),[e,n]}function dk(t,i,e){var n="DEPRECATED METHOD: "+i+"\n"+e+" AT \n";return function(){var i=new Error("get-stack-trace"),e=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=window.console&&(window.console.warn||window.console.log);return r&&r.call(window.console,n,e),t.apply(this,arguments)}}var vk=dk((function(t,i,e){for(var n=Object.keys(i),r=0;r<n.length;)(!e||e&&void 0===t[n[r]])&&(t[n[r]]=i[n[r]]),r++;return t}),"extend","Use `assign`."),pk=dk((function(t,i){return vk(t,i,!0)}),"merge","Use `assign`.");function mk(t,i,e){var n,r=i.prototype;(n=t.prototype=Object.create(r)).constructor=t,n._super=r,e&&py(n,e)}function gk(t,i){return function(){return t.apply(i,arguments)}}var bk=function(){var t=function(t,i){return void 0===i&&(i={}),new ak(t,ly({recognizers:sk.concat()},i))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=Xy,t.DIRECTION_DOWN=Uy,t.DIRECTION_LEFT=$y,t.DIRECTION_RIGHT=Gy,t.DIRECTION_UP=Wy,t.DIRECTION_HORIZONTAL=qy,t.DIRECTION_VERTICAL=Vy,t.DIRECTION_NONE=By,t.DIRECTION_DOWN=Uy,t.INPUT_START=Ny,t.INPUT_MOVE=Hy,t.INPUT_END=Py,t.INPUT_CANCEL=Ry,t.STATE_POSSIBLE=Hw,t.STATE_BEGAN=Pw,t.STATE_CHANGED=Rw,t.STATE_ENDED=Bw,t.STATE_RECOGNIZED=$w,t.STATE_CANCELLED=Gw,t.STATE_FAILED=Ww,t.Manager=ak,t.Input=pw,t.TouchAction=iw,t.TouchInput=Sw,t.MouseInput=Yw,t.PointerEventInput=kw,t.TouchMouseInput=Iw,t.SingleTouchInput=lk,t.Recognizer=Xw,t.AttrRecognizer=Jw,t.Tap=Zw,t.Pan=Qw,t.Swipe=tk,t.Pinch=ik,t.Rotate=ek,t.Press=nk,t.on=fw,t.off=dw,t.each=Ky,t.merge=pk,t.extend=vk,t.bindFn=gk,t.assign=py,t.inherit=mk,t.bindFn=gk,t.prefixed=xy,t.toArray=xw,t.inArray=mw,t.uniqueArray=_w,t.splitStr=lw,t.boolOrFn=Qy,t.hasParent=ew,t.addEventListeners=fw,t.removeEventListeners=dw,t.defaults=py({},rk,{preset:sk}),t}();var yk=bk;function wk(t,i){var e=bv(t);if(Ec){var n=Ec(t);i&&(n=ng(n).call(n,(function(i){return $c(t,i).enumerable}))),e.push.apply(e,n)}return e}function kk(t){for(var i=1;i<arguments.length;i++){var e,n,r=null!=arguments[i]?arguments[i]:{};i%2?up(e=wk(Object(r),!0)).call(e,(function(i){qf(t,i,r[i])})):nl?vl(t,nl(r)):up(n=wk(Object(r))).call(n,(function(i){Ml(t,i,$c(r,i))}))}return t}function xk(t,i){var e=void 0!==Hd&&Ya(t)||t["@@iterator"];if(!e){if(ev(t)||(e=function(t,i){var e;if(!t)return;if("string"==typeof t)return _k(t,i);var n=Zd(e=Object.prototype.toString.call(t)).call(e,8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return aa(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _k(t,i)}(t))||i&&t&&"number"==typeof t.length){e&&(t=e);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==e.return||e.return()}finally{if(a)throw s}}}}function _k(t,i){(null==i||i>t.length)&&(i=t.length);for(var e=0,n=new Array(i);e<i;e++)n[e]=t[e];return n}var Dk=Hd("DELETE");function Mk(t){for(var i,e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Sk.apply(void 0,Vd(i=[{},t]).call(i,n))}function Sk(){var t=jk.apply(void 0,arguments);return Tk(t),t}function jk(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];if(i.length<2)return i[0];var n;if(i.length>2)return jk.apply(void 0,Vd(n=[Sk(i[0],i[1])]).call(n,Id(Zd(i).call(i,2))));var r,s=i[0],o=i[1],a=xk(tv(o));try{for(a.s();!(r=a.n()).done;){var u=r.value;Object.prototype.propertyIsEnumerable.call(o,u)&&(o[u]===Dk?delete s[u]:null===s[u]||null===o[u]||"object"!==If(s[u])||"object"!==If(o[u])||ev(s[u])||ev(o[u])?s[u]=Fk(o[u]):s[u]=jk(s[u],o[u]))}}catch(t){a.e(t)}finally{a.f()}return s}function Fk(t){return ev(t)?fv(t).call(t,(function(t){return Fk(t)})):"object"===If(t)&&null!==t?jk({},t):t}function Tk(t){for(var i=0,e=bv(t);i<e.length;i++){var n=e[i];t[n]===Dk?delete t[n]:"object"===If(t[n])&&null!==t[n]&&Tk(t[n])}}var Ek="undefined"!=typeof window?window.Hammer||yk:function(){return function(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:function(){return{set:t}}}}()};function Yk(t){var i,e=this;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push((function(){e._dom.overlay.parentNode.removeChild(e._dom.overlay)}));var n=Ek(this._dom.overlay);n.on("tap",qv(i=this._onTapOverlay).call(i,this)),this._cleanupQueue.push((function(){n.destroy()}));var r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];up(r).call(r,(function(t){n.on(t,(function(t){t.srcEvent.stopPropagation()}))})),document&&document.body&&(this._onClick=function(i){(function(t,i){for(;t;){if(t===i)return!0;t=t.parentNode}return!1})(i.target,t)||e.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push((function(){document.body.removeEventListener("click",e._onClick)}))),this._escListener=function(t){("key"in t?"Escape"===t.key:27===t.keyCode)&&e.deactivate()}}cy(Yk.prototype),Yk.current=null,Yk.prototype.destroy=function(){var t,i;this.deactivate();var e,n=xk(kp(t=Jp(i=this._cleanupQueue).call(i,0)).call(t));try{for(n.s();!(e=n.n()).done;){(0,e.value)()}}catch(t){n.e(t)}finally{n.f()}},Yk.prototype.activate=function(){Yk.current&&Yk.current.deactivate(),Yk.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Yk.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Yk.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};var Ak=/^\/?Date\((-?\d+)/i,Ck=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Ok=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Lk=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,zk=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Ik(t){return t instanceof Number||"number"==typeof t}function Nk(t){return t instanceof String||"string"==typeof t}function Hk(t){return"object"===If(t)&&null!==t}function Pk(t,i,e,n){var r=!1;!0===n&&(r=null===i[e]&&void 0!==t[e]),r?delete t[e]:t[e]=i[e]}var Rk=pm;function Bk(t,i){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)||!0===e)if("object"===If(i[r])&&null!==i[r]&&qm(i[r])===Object.prototype)void 0===t[r]?t[r]=Bk({},i[r],e):"object"===If(t[r])&&null!==t[r]&&qm(t[r])===Object.prototype?Bk(t[r],i[r],e):Pk(t,i,r,n);else if(ev(i[r])){var s;t[r]=Zd(s=i[r]).call(s)}else Pk(t,i,r,n);return t}function $k(t){var i=If(t);return"object"===i?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":ev(t)?"Array":t instanceof Date?"Date":"Object":"number"===i?"Number":"boolean"===i?"Boolean":"string"===i?"String":void 0===i?"undefined":i}function Gk(t,i){var e;return Vd(e=[]).call(e,Id(t),[i])}function Wk(t){return Zd(t).call(t)}var Uk=pg;var qk={asBoolean:function(t,i){return"function"==typeof t&&(t=t()),null!=t?0!=t:i||null},asNumber:function(t,i){return"function"==typeof t&&(t=t()),null!=t?Number(t)||i||null:i||null},asString:function(t,i){return"function"==typeof t&&(t=t()),null!=t?String(t):i||null},asSize:function(t,i){return"function"==typeof t&&(t=t()),Nk(t)?t:Ik(t)?t+"px":i||null},asElement:function(t,i){return"function"==typeof t&&(t=t()),t||i||null}};function Vk(t){var i;switch(t.length){case 3:case 4:return(i=Ok.exec(t))?{r:Pg(i[1]+i[1],16),g:Pg(i[2]+i[2],16),b:Pg(i[3]+i[3],16)}:null;case 6:case 7:return(i=Ck.exec(t))?{r:Pg(i[1],16),g:Pg(i[2],16),b:Pg(i[3],16)}:null;default:return null}}function Xk(t,i,e){var n;return"#"+Zd(n=((1<<24)+(t<<16)+(i<<8)+e).toString(16)).call(n,1)}function Zk(t,i,e){t/=255,i/=255,e/=255;var n=Math.min(t,Math.min(i,e)),r=Math.max(t,Math.max(i,e));return n===r?{h:0,s:0,v:n}:{h:60*((t===n?3:e===n?1:5)-(t===n?i-e:e===n?t-i:e-t)/(r-n))/360,s:(r-n)/r,v:r}}var Jk={split:function(t){var i,e={};return up(i=t.split(";")).call(i,(function(t){if(""!=db(t).call(t)){var i,n,r=t.split(":"),s=db(i=r[0]).call(i),o=db(n=r[1]).call(n);e[s]=o}})),e},join:function(t){var i;return fv(i=bv(t)).call(i,(function(i){return i+": "+t[i]})).join("; ")}};function Kk(t,i,e){var n,r,s,o=Math.floor(6*t),a=6*t-o,u=e*(1-i),h=e*(1-a*i),c=e*(1-(1-a)*i);switch(o%6){case 0:n=e,r=c,s=u;break;case 1:n=h,r=e,s=u;break;case 2:n=u,r=e,s=c;break;case 3:n=u,r=h,s=e;break;case 4:n=c,r=u,s=e;break;case 5:n=e,r=u,s=h}return{r:Math.floor(255*n),g:Math.floor(255*r),b:Math.floor(255*s)}}function Qk(t,i,e){var n=Kk(t,i,e);return Xk(n.r,n.g,n.b)}function tx(t){var i=Vk(t);if(!i)throw new TypeError("'".concat(t,"' is not a valid color."));return Zk(i.r,i.g,i.b)}function ix(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function ex(t){return Lk.test(t)}function nx(t){return zk.test(t)}function rx(t){if(null===t||"object"!==If(t))return null;if(t instanceof Element)return t;var i=bb(t);for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&"object"==If(t[e])&&(i[e]=rx(t[e]));return i}var sx={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},ox=function(){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Sl(this,t),this.pixelRatio=i,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return Uf(t,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return sx[t]}},{key:"setColor",value:function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==t){var e,n=this._isColorString(t);if(void 0!==n&&(t=n),!0===Nk(t)){if(!0===ex(t)){var r=t.substr(4).substr(0,t.length-5).split(",");e={r:r[0],g:r[1],b:r[2],a:1}}else if(!0===nx(t)){var s=t.substr(5).substr(0,t.length-6).split(",");e={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(!0===ix(t)){var o=Vk(t);e={r:o.r,g:o.g,b:o.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var a=void 0!==t.a?t.a:"1.0";e={r:t.r,g:t.g,b:t.b,a}}if(void 0===e)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Mb(t));this._setColor(e,i)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this;!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=pm({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",Vb((function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)}),0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=pm({},t)),this.color=t;var i=Zk(t.r,t.g,t.b),e=2*Math.PI,n=this.r*i.s,r=this.centerCoordinates.x+n*Math.sin(e*i.h),s=this.centerCoordinates.y+n*Math.cos(e*i.h);this.colorPickerSelector.style.left=r-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=s-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var i=Zk(this.color.r,this.color.g,this.color.b);i.v=t/100;var e=Kk(i.h,i.s,i.v);e.a=this.color.a,this.color=e,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,i=Zk(t.r,t.g,t.b),e=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var n=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,n,r),e.putImageData(this.hueCircle,0,0),e.fillStyle="rgba(0,0,0,"+(1-i.v)+")",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),ay(e).call(e),this.brightnessRange.value=100*i.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var t,i,e,n;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var r=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var s=document.createElement("DIV");s.style.color="red",s.style.fontWeight="bold",s.style.padding="10px",s.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(s)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var o=this;this.opacityRange.onchange=function(){o._setOpacity(this.value)},this.opacityRange.oninput=function(){o._setOpacity(this.value)},this.brightnessRange.onchange=function(){o._setBrightness(this.value)},this.brightnessRange.oninput=function(){o._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=qv(t=this._hide).call(t,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=qv(i=this._apply).call(i,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=qv(e=this._save).call(e,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=qv(n=this._loadLast).call(n,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new Ek(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",(function(i){i.isFirst&&t._moveSelector(i)})),this.hammer.on("tap",(function(i){t._moveSelector(i)})),this.hammer.on("panstart",(function(i){t._moveSelector(i)})),this.hammer.on("panmove",(function(i){t._moveSelector(i)})),this.hammer.on("panend",(function(i){t._moveSelector(i)}))}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i,e,n,r,s=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,s,o),this.centerCoordinates={x:.5*s,y:.5*o},this.r=.49*s;var a,u=2*Math.PI/360,h=1/this.r;for(n=0;n<360;n++)for(r=0;r<this.r;r++)i=this.centerCoordinates.x+r*Math.sin(u*n),e=this.centerCoordinates.y+r*Math.cos(u*n),a=Kk(.002777777777777778*n,r*h,1),t.fillStyle="rgb("+a.r+","+a.g+","+a.b+")",t.fillRect(i-.5,e-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,s,o)}this.generated=!0}},{key:"_moveSelector",value:function(t){var i=this.colorPickerDiv.getBoundingClientRect(),e=t.center.x-i.left,n=t.center.y-i.top,r=.5*this.colorPickerDiv.clientHeight,s=.5*this.colorPickerDiv.clientWidth,o=e-s,a=n-r,u=Math.atan2(o,a),h=.98*Math.min(Math.sqrt(o*o+a*a),s),c=Math.cos(u)*h+r,l=Math.sin(u)*h+s;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=l-.5*this.colorPickerSelector.clientWidth+"px";var f=u/(2*Math.PI);f=f<0?f+1:f;var d=h/this.r,v=Zk(this.color.r,this.color.g,this.color.b);v.h=f,v.s=d;var p=Kk(v.h,v.s,v.v);p.a=this.color.a,this.color=p,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}();function ax(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];if(i.length<1)throw new TypeError("Invalid arguments.");if(1===i.length)return document.createTextNode(i[0]);var n=document.createElement(i[0]);return n.appendChild(ax.apply(void 0,Id(Zd(i).call(i,1)))),n}var ux,hx=function(){function t(i,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!1};Sl(this,t),this.parent=i,this.changedOptions=[],this.container=e,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},pm(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new ox(r),this.wrapper=void 0}return Uf(t,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var i=!0;if("string"==typeof t)this.options.filter=t;else if(ev(t))this.options.filter=t.join();else if("object"===If(t)){if(null==t)throw new TypeError("options cannot be null");void 0!==t.container&&(this.options.container=t.container),void 0!==ng(t)&&(this.options.filter=ng(t)),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(i=t.enabled)}else"boolean"==typeof t?(this.options.filter=!0,i=t):"function"==typeof t&&(this.options.filter=t,i=!0);!1===ng(this.options)&&(i=!1),this.options.enabled=i}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var t=ng(this.options),i=0,e=!1;for(var n in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,n)&&(this.allowCreation=!1,e=!1,"function"==typeof t?e=(e=t(n,[]))||this._handleObject(this.configureOptions[n],[n],!0):!0!==t&&-1===tb(t).call(t,n)||(e=!0),!1!==e&&(this.allowCreation=!0,i>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),i++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var i=this.moduleOptions,e=0;e<t.length;e++){if(void 0===i[t[e]]){i=void 0;break}i=i[t[e]]}return i}},{key:"_makeItem",value:function(t){if(!0===this.allowCreation){var i=document.createElement("div");i.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return up(n).call(n,(function(t){i.appendChild(t)})),this.domElements.push(i),this.domElements.length}return 0}},{key:"_makeHeader",value:function(t){var i=document.createElement("div");i.className="vis-configuration vis-config-header",i.innerText=t,this._makeItem([],i)}},{key:"_makeLabel",value:function(t,i){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=document.createElement("div");if(n.className="vis-configuration vis-config-label vis-config-s"+i.length,!0===e){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(ax("i","b",t))}else n.innerText=t+":";return n}},{key:"_makeDropdown",value:function(t,i,e){var n=document.createElement("select");n.className="vis-configuration vis-config-select";var r=0;void 0!==i&&-1!==tb(t).call(t,i)&&(r=tb(t).call(t,i));for(var s=0;s<t.length;s++){var o=document.createElement("option");o.value=t[s],s===r&&(o.selected="selected"),o.innerText=t[s],n.appendChild(o)}var a=this;n.onchange=function(){a._update(this.value,e)};var u=this._makeLabel(e[e.length-1],e);this._makeItem(e,u,n)}},{key:"_makeRange",value:function(t,i,e){var n=t[0],r=t[1],s=t[2],o=t[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=r,a.max=s}catch(t){}a.step=o;var u="",h=0;if(void 0!==i){var c=1.2;i<0&&i*c<r?(a.min=Math.ceil(i*c),h=a.min,u="range increased"):i/c<r&&(a.min=Math.ceil(i/c),h=a.min,u="range increased"),i*c>s&&1!==s&&(a.max=Math.ceil(i*c),h=a.max,u="range increased"),a.value=i}else a.value=n;var l=document.createElement("input");l.className="vis-configuration vis-config-rangeinput",l.value=a.value;var f=this;a.onchange=function(){l.value=this.value,f._update(Number(this.value),e)},a.oninput=function(){l.value=this.value};var d=this._makeLabel(e[e.length-1],e),v=this._makeItem(e,d,a,l);""!==u&&this.popupHistory[v]!==h&&(this.popupHistory[v]=h,this._setupPopup(u,v))}},{key:"_makeButton",value:function(){var t=this;if(!0===this.options.showButton){var i=document.createElement("div");i.className="vis-configuration vis-config-button",i.innerText="generate options",i.onclick=function(){t._printOptions()},i.onmouseover=function(){i.className="vis-configuration vis-config-button hover"},i.onmouseout=function(){i.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(i)}}},{key:"_setupPopup",value:function(t,i){var e=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=t,n.onclick=function(){e._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:i}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var i=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=i.left+"px",this.popupDiv.html.style.top=i.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Vb((function(){t.popupDiv.html.style.opacity=0}),1500),this.popupDiv.deleteTimeout=Vb((function(){t._removePopup()}),1800)}}},{key:"_makeCheckbox",value:function(t,i,e){var n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=t,void 0!==i&&(n.checked=i,i!==t&&("object"===If(t)?i!==t.enabled&&this.changedOptions.push({path:e,value:i}):this.changedOptions.push({path:e,value:i})));var r=this;n.onchange=function(){r._update(this.checked,e)};var s=this._makeLabel(e[e.length-1],e);this._makeItem(e,s,n)}},{key:"_makeTextInput",value:function(t,i,e){var n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=i,i!==t&&this.changedOptions.push({path:e,value:i});var r=this;n.onchange=function(){r._update(this.value,e)};var s=this._makeLabel(e[e.length-1],e);this._makeItem(e,s,n)}},{key:"_makeColorField",value:function(t,i,e){var n=this,r=t[1],s=document.createElement("div");"none"!==(i=void 0===i?r:i)?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=i):s.className="vis-configuration vis-config-colorBlock none",i=void 0===i?r:i,s.onclick=function(){n._showColorPicker(i,s,e)};var o=this._makeLabel(e[e.length-1],e);this._makeItem(e,o,s)}},{key:"_showColorPicker",value:function(t,i,e){var n=this;i.onclick=function(){},this.colorPicker.insertTo(i),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback((function(t){var r="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";i.style.backgroundColor=r,n._update(r,e)})),this.colorPicker.setCloseCallback((function(){i.onclick=function(){n._showColorPicker(t,i,e)}}))}},{key:"_handleObject",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!1,r=ng(this.options),s=!1;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){n=!0;var a=t[o],u=Gk(i,o);if("function"==typeof r&&!1===(n=r(o,i))&&!ev(a)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,n=this._handleObject(a,u,!0),this.allowCreation=!1===e),!1!==n){s=!0;var h=this._getValue(u);if(ev(a))this._handleArray(a,h,u);else if("string"==typeof a)this._makeTextInput(a,h,u);else if("boolean"==typeof a)this._makeCheckbox(a,h,u);else if(a instanceof Object){if(!this.hideOption(i,o,this.moduleOptions))if(void 0!==a.enabled){var c=Gk(u,"enabled"),l=this._getValue(c);if(!0===l){var f=this._makeLabel(o,u,!0);this._makeItem(u,f),s=this._handleObject(a,u)||s}else this._makeCheckbox(a,l,u)}else{var d=this._makeLabel(o,u,!0);this._makeItem(u,d),s=this._handleObject(a,u)||s}}else console.error("dont know how to handle",a,o,u)}}return s}},{key:"_handleArray",value:function(t,i,e){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,i,e),t[1]!==i&&this.changedOptions.push({path:e,value:i})):"string"==typeof t[0]?(this._makeDropdown(t,i,e),t[0]!==i&&this.changedOptions.push({path:e,value:i})):"number"==typeof t[0]&&(this._makeRange(t,i,e),t[0]!==i&&this.changedOptions.push({path:e,value:Number(i)}))}},{key:"_update",value:function(t,i){var e=this._constructOptions(t,i);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",e),this.initialized=!0,this.parent.setOptions(e)}},{key:"_constructOptions",value:function(t,i){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e;t="false"!==(t="true"===t||t)&&t;for(var r=0;r<i.length;r++)"global"!==i[r]&&(void 0===n[i[r]]&&(n[i[r]]={}),r!==i.length-1?n=n[i[r]]:n[i[r]]=t);return e}},{key:"_printOptions",value:function(){for(var t=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(ax("pre","const options = "+Mb(t,null,2)))}},{key:"getOptions",value:function(){for(var t={},i=0;i<this.changedOptions.length;i++)this._constructOptions(this.changedOptions[i].value,this.changedOptions[i].path,t);return t}}]),t}(),cx=function(){function t(i,e){Sl(this,t),this.container=i,this.overflowMethod=e||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return Uf(t,[{key:"setPosition",value:function(t,i){this.x=Pg(t),this.y=Pg(i)}},{key:"setText",value:function(t){if(t instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(t)}else this.frame.innerText=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var i=this.frame.clientHeight,e=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,r=this.frame.parentNode.clientWidth,s=0,o=0;if("flip"==this.overflowMethod){var a=!1,u=!0;this.y-i<this.padding&&(u=!1),this.x+e>r-this.padding&&(a=!0),s=a?this.x-e:this.x,o=u?this.y-i:this.y}else(o=this.y-i)+i+this.padding>n&&(o=n-i-this.padding),o<this.padding&&(o=this.padding),(s=this.x)+e+this.padding>r&&(s=r-e-this.padding),s<this.padding&&(s=this.padding);this.frame.style.left=s+"px",this.frame.style.top=o+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),t}(),lx=!1,fx="background: #FFeeee; color: #dd0000",dx=function(){function t(){Sl(this,t)}return Uf(t,null,[{key:"validate",value:function(i,e,n){lx=!1,ux=e;var r=e;return void 0!==n&&(r=e[n]),t.parse(i,r,[]),lx}},{key:"parse",value:function(i,e,n){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&t.check(r,i,e,n)}},{key:"check",value:function(i,e,n,r){if(void 0!==n[i]||void 0!==n.__any__){var s=i,o=!0;void 0===n[i]&&void 0!==n.__any__&&(s="__any__",o="object"===t.getType(e[i]));var a=n[s];o&&void 0!==a.__type__&&(a=a.__type__),t.checkFields(i,e,n,s,a,r)}else t.getSuggestion(i,n,r)}},{key:"checkFields",value:function(i,e,n,r,s,o){var a=function(e){console.error("%c"+e+t.printLocation(o,i),fx)},u=t.getType(e[i]),h=s[u];void 0!==h?"array"===t.getType(h)&&-1===tb(h).call(h,e[i])?(a('Invalid option detected in "'+i+'". Allowed values are:'+t.print(h)+' not "'+e[i]+'". '),lx=!0):"object"===u&&"__any__"!==r&&(o=Gk(o,i),t.parse(e[i],n[r],o)):void 0===s.any&&(a('Invalid type received for "'+i+'". Expected: '+t.print(bv(s))+". Received ["+u+'] "'+e[i]+'"'),lx=!0)}},{key:"getType",value:function(t){var i=If(t);return"object"===i?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":ev(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===i?"number":"boolean"===i?"boolean":"string"===i?"string":void 0===i?"undefined":i}},{key:"getSuggestion",value:function(i,e,n){var r,s=t.findInOptions(i,e,n,!1),o=t.findInOptions(i,ux,[],!0);r=void 0!==s.indexMatch?" in "+t.printLocation(s.path,i,"")+'Perhaps it was incomplete? Did you mean: "'+s.indexMatch+'"?\n\n':o.distance<=4&&s.distance>o.distance?" in "+t.printLocation(s.path,i,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(o.path,o.closestMatch,""):s.distance<=8?'. Did you mean "'+s.closestMatch+'"?'+t.printLocation(s.path,i):". Did you mean one of these: "+t.print(bv(e))+t.printLocation(n,i),console.error('%cUnknown option detected: "'+i+'"'+r,fx),lx=!0}},{key:"findInOptions",value:function(i,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=1e9,o="",a=[],u=i.toLowerCase(),h=void 0;for(var c in e){var l=void 0;if(void 0!==e[c].__type__&&!0===r){var f=t.findInOptions(i,e[c],Gk(n,c));s>f.distance&&(o=f.closestMatch,a=f.path,s=f.distance,h=f.indexMatch)}else{var d;-1!==tb(d=c.toLowerCase()).call(d,u)&&(h=c),s>(l=t.levenshteinDistance(i,c))&&(o=c,a=Wk(n),s=l)}}return{closestMatch:o,path:a,distance:s,indexMatch:h}}},{key:"printLocation",value:function(t,i){for(var e="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",n=0;n<t.length;n++){for(var r=0;r<n+1;r++)e+="  ";e+=t[n]+": {\n"}for(var s=0;s<t.length+1;s++)e+="  ";e+=i+"\n";for(var o=0;o<t.length+1;o++){for(var a=0;a<t.length-o;a++)e+="  ";e+="}\n"}return e+"\n\n"}},{key:"print",value:function(t){return Mb(t).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(t,i){if(0===t.length)return i.length;if(0===i.length)return t.length;var e,n,r=[];for(e=0;e<=i.length;e++)r[e]=[e];for(n=0;n<=t.length;n++)r[0][n]=n;for(e=1;e<=i.length;e++)for(n=1;n<=t.length;n++)i.charAt(e-1)==t.charAt(n-1)?r[e][n]=r[e-1][n-1]:r[e][n]=Math.min(r[e-1][n-1]+1,Math.min(r[e][n-1]+1,r[e-1][n]+1));return r[i.length][t.length]}}]),t}(),vx=Yk,px=ox,mx=hx,gx=Ek,bx=cx,yx=fx,wx=dx,kx=Object.freeze({__proto__:null,Activator:vx,Alea:function(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return function(t){var i=function(){for(var t=function(){var t=4022871197;return function(i){for(var e=i.toString(),n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)}}(),i=t(" "),e=t(" "),n=t(" "),r=0;r<arguments.length;r++)(i-=t(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(i+=1),(e-=t(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(e+=1),(n-=t(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(n+=1);return[i,e,n]}(t),e=zd(i,3),n=e[0],r=e[1],s=e[2],o=1,a=function(){var t=2091639*n+2.3283064365386963e-10*o;return n=r,r=s,s=t-(o=0|t)};return a.uint32=function(){return 4294967296*a()},a.fract53=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.algorithm="Alea",a.seed=t,a.version="0.9",a}(i.length?i:[Mv()])},ColorPicker:px,Configurator:mx,DELETE:Dk,HSVToHex:Qk,HSVToRGB:Kk,Hammer:gx,Popup:bx,RGBToHSV:Zk,RGBToHex:Xk,VALIDATOR_PRINT_STYLE:yx,Validator:wx,addClassName:function(t,i){var e=t.className.split(" "),n=i.split(" ");e=Vd(e).call(e,ng(n).call(n,(function(t){return!Pm(e).call(e,t)}))),t.className=e.join(" ")},addCssText:function(t,i){var e=Jk.split(t.style.cssText),n=Jk.split(i),r=kk(kk({},e),n);t.style.cssText=Jk.join(r)},addEventListener:function(t,i,e,n){var r;t.addEventListener?(void 0===n&&(n=!1),"mousewheel"===i&&Pm(r=navigator.userAgent).call(r,"Firefox")&&(i="DOMMouseScroll"),t.addEventListener(i,e,n)):t.attachEvent("on"+i,e)},binarySearchCustom:function(t,i,e,n){for(var r=0,s=0,o=t.length-1;s<=o&&r<1e4;){var a=Math.floor((s+o)/2),u=t[a],h=i(void 0===n?u[e]:u[e][n]);if(0==h)return a;-1==h?s=a+1:o=a-1,r++}return-1},binarySearchValue:function(t,i,e,n,r){var s,o,a,u,h=0,c=0,l=t.length-1;for(r=null!=r?r:function(t,i){return t==i?0:t<i?-1:1};c<=l&&h<1e4;){if(u=Math.floor(.5*(l+c)),s=t[Math.max(0,u-1)][e],o=t[u][e],a=t[Math.min(t.length-1,u+1)][e],0==r(o,i))return u;if(r(s,i)<0&&r(o,i)>0)return"before"==n?Math.max(0,u-1):u;if(r(o,i)<0&&r(a,i)>0)return"before"==n?u:Math.min(t.length-1,u+1);r(o,i)<0?c=u+1:l=u-1,h++}return-1},bridgeObject:rx,copyAndExtendArray:Gk,copyArray:Wk,deepExtend:Bk,deepObjectAssign:Sk,easingFunctions:{linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},equalArray:function(t,i){if(t.length!==i.length)return!1;for(var e=0,n=t.length;e<n;e++)if(t[e]!=i[e])return!1;return!0},extend:Rk,fillIfDefined:function t(i,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var r in i)if(void 0!==e[r])if(null===e[r]||"object"!==If(e[r]))Pk(i,e,r,n);else{var s=i[r],o=e[r];Hk(s)&&Hk(o)&&t(s,o,n)}},forEach:function(t,i){if(ev(t))for(var e=t.length,n=0;n<e;n++)i(t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&i(t[r],r,t)},getAbsoluteLeft:function(t){return t.getBoundingClientRect().left},getAbsoluteRight:function(t){return t.getBoundingClientRect().right},getAbsoluteTop:function(t){return t.getBoundingClientRect().top},getScrollBarWidth:function(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var i=document.createElement("div");i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.visibility="hidden",i.style.width="200px",i.style.height="150px",i.style.overflow="hidden",i.appendChild(t),document.body.appendChild(i);var e=t.offsetWidth;i.style.overflow="scroll";var n=t.offsetWidth;return e==n&&(n=i.clientWidth),document.body.removeChild(i),e-n},getTarget:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event,i=null;return t&&(t.target?i=t.target:t.srcElement&&(i=t.srcElement)),i instanceof Element&&(null==i.nodeType||3!=i.nodeType||(i=i.parentNode)instanceof Element)?i:null},getType:$k,hasParent:function(t,i){for(var e=t;e;){if(e===i)return!0;if(!e.parentNode)return!1;e=e.parentNode}return!1},hexToHSV:tx,hexToRGB:Vk,insertSort:function(t,i){for(var e=0;e<t.length;e++){var n=t[e],r=void 0;for(r=e;r>0&&i(n,t[r-1])<0;r--)t[r]=t[r-1];t[r]=n}return t},isDate:function(t){if(t instanceof Date)return!0;if(Nk(t)){if(Ak.exec(t))return!0;if(!isNaN(Date.parse(t)))return!0}return!1},isNumber:Ik,isObject:Hk,isString:Nk,isValidHex:ix,isValidRGB:ex,isValidRGBA:nx,mergeOptions:function(t,i,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=function(t){return null!=t},s=function(t){return null!==t&&"object"===If(t)};if(!s(t))throw new Error("Parameter mergeTarget must be an object");if(!s(i))throw new Error("Parameter options must be an object");if(!r(e))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");var o=i[e],a=s(n)&&!function(t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))return!1;return!0}(n)?n[e]:void 0,u=a?a.enabled:void 0;if(void 0!==o){if("boolean"==typeof o)return s(t[e])||(t[e]={}),void(t[e].enabled=o);if(null===o&&!s(t[e])){if(!r(a))return;t[e]=bb(a)}if(s(o)){var h=!0;void 0!==o.enabled?h=o.enabled:void 0!==u&&(h=a.enabled),function(t,i,e){s(t[e])||(t[e]={});var n=i[e],r=t[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}(t,i,e),t[e].enabled=h}}},option:qk,overrideOpacity:function(t,i){if(Pm(t).call(t,"rgba"))return t;if(Pm(t).call(t,"rgb")){var e=t.substr(tb(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+e[0]+","+e[1]+","+e[2]+","+i+")"}var n=Vk(t);return null==n?t:"rgba("+n.r+","+n.g+","+n.b+","+i+")"},parseColor:function(t,i){if(Nk(t)){var e=t;if(ex(e)){var n,r=fv(n=e.substr(4).substr(0,e.length-5).split(",")).call(n,(function(t){return Pg(t)}));e=Xk(r[0],r[1],r[2])}if(!0===ix(e)){var s=tx(e),o={h:s.h,s:.8*s.s,v:Math.min(1,1.02*s.v)},a={h:s.h,s:Math.min(1,1.25*s.s),v:.8*s.v},u=Qk(a.h,a.s,a.v),h=Qk(o.h,o.s,o.v);return{background:e,border:u,highlight:{background:h,border:u},hover:{background:h,border:u}}}return{background:e,border:e,highlight:{background:e,border:e},hover:{background:e,border:e}}}return i?{background:t.background||i.background,border:t.border||i.border,highlight:Nk(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||i.highlight.background,border:t.highlight&&t.highlight.border||i.highlight.border},hover:Nk(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||i.hover.border,background:t.hover&&t.hover.background||i.hover.background}}:{background:t.background||void 0,border:t.border||void 0,highlight:Nk(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:Nk(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}},preventDefault:function(t){t||(t=window.event),t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},pureDeepObjectAssign:Mk,recursiveDOMDelete:function t(i){if(i)for(;!0===i.hasChildNodes();){var e=i.firstChild;e&&(t(e),i.removeChild(e))}},removeClassName:function(t,i){var e=t.className.split(" "),n=i.split(" ");e=ng(e).call(e,(function(t){return!Pm(n).call(n,t)})),t.className=e.join(" ")},removeCssText:function(t,i){var e=Jk.split(t.style.cssText),n=Jk.split(i);for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&delete e[r];t.style.cssText=Jk.join(e)},removeEventListener:function(t,i,e,n){var r;t.removeEventListener?(void 0===n&&(n=!1),"mousewheel"===i&&Pm(r=navigator.userAgent).call(r,"Firefox")&&(i="DOMMouseScroll"),t.removeEventListener(i,e,n)):t.detachEvent("on"+i,e)},selectiveBridgeObject:function(t,i){if(null!==i&&"object"===If(i)){for(var e=bb(i),n=0;n<t.length;n++)Object.prototype.hasOwnProperty.call(i,t[n])&&"object"==If(i[t[n]])&&(e[t[n]]=rx(i[t[n]]));return e}return null},selectiveDeepExtend:function(t,i,e){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(ev(e))throw new TypeError("Arrays are not supported by deepExtend");for(var r=0;r<t.length;r++){var s=t[r];if(Object.prototype.hasOwnProperty.call(e,s))if(e[s]&&e[s].constructor===Object)void 0===i[s]&&(i[s]={}),i[s].constructor===Object?Bk(i[s],e[s],!1,n):Pk(i,e,s,n);else{if(ev(e[s]))throw new TypeError("Arrays are not supported by deepExtend");Pk(i,e,s,n)}}return i},selectiveExtend:function(t,i){if(!ev(t))throw new Error("Array with property names expected as first argument");for(var e=arguments.length,n=new Array(e>2?e-2:0),r=2;r<e;r++)n[r-2]=arguments[r];for(var s=0,o=n;s<o.length;s++)for(var a=o[s],u=0;u<t.length;u++){var h=t[u];a&&Object.prototype.hasOwnProperty.call(a,h)&&(i[h]=a[h])}return i},selectiveNotDeepExtend:function(t,i,e){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(ev(e))throw new TypeError("Arrays are not supported by deepExtend");for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&!Pm(t).call(t,r))if(e[r]&&e[r].constructor===Object)void 0===i[r]&&(i[r]={}),i[r].constructor===Object?Bk(i[r],e[r]):Pk(i,e,r,n);else if(ev(e[r])){i[r]=[];for(var s=0;s<e[r].length;s++)i[r].push(e[r][s])}else Pk(i,e,r,n);return i},throttle:function(t){var i=!1;return function(){i||(i=!0,requestAnimationFrame((function(){i=!1,t()})))}},toArray:Uk,topMost:function(t,i){var e;ev(i)||(i=[i]);var n,r=xk(t);try{for(r.s();!(n=r.n()).done;){var s=n.value;if(s){e=s[i[0]];for(var o=1;o<i.length;o++)e&&(e=e[i[o]]);if(void 0!==e)break}}}catch(t){r.e(t)}finally{r.f()}return e},updateProperty:function(t,i,e){return t[i]!==e&&(t[i]=e,!0)}});function xx(t){for(var i in t)t.hasOwnProperty(i)&&(t[i].redundant=t[i].used,t[i].used=[])}function _x(t){for(var i in t)if(t.hasOwnProperty(i)&&t[i].redundant){for(var e=0;e<t[i].redundant.length;e++)t[i].redundant[e].parentNode.removeChild(t[i].redundant[e]);t[i].redundant=[]}}function Dx(t){xx(t),_x(t),xx(t)}function Mx(t,i,e){var n;return i.hasOwnProperty(t)?i[t].redundant.length>0?(n=i[t].redundant[0],i[t].redundant.shift()):(n=document.createElementNS("http://www.w3.org/2000/svg",t),e.appendChild(n)):(n=document.createElementNS("http://www.w3.org/2000/svg",t),i[t]={used:[],redundant:[]},e.appendChild(n)),i[t].used.push(n),n}function Sx(t,i,e,n){var r;return i.hasOwnProperty(t)?i[t].redundant.length>0?(r=i[t].redundant[0],i[t].redundant.shift()):(r=document.createElement(t),void 0!==n?e.insertBefore(r,n):e.appendChild(r)):(r=document.createElement(t),i[t]={used:[],redundant:[]},void 0!==n?e.insertBefore(r,n):e.appendChild(r)),i[t].used.push(r),r}function jx(t,i,e,n,r,s){var o;if("circle"==e.style?((o=Mx("circle",n,r)).setAttributeNS(null,"cx",t),o.setAttributeNS(null,"cy",i),o.setAttributeNS(null,"r",.5*e.size)):((o=Mx("rect",n,r)).setAttributeNS(null,"x",t-.5*e.size),o.setAttributeNS(null,"y",i-.5*e.size),o.setAttributeNS(null,"width",e.size),o.setAttributeNS(null,"height",e.size)),void 0!==e.styles&&o.setAttributeNS(null,"style",e.styles),o.setAttributeNS(null,"class",e.className+" vis-point"),s){var a=Mx("text",n,r);s.xOffset&&(t+=s.xOffset),s.yOffset&&(i+=s.yOffset),s.content&&(a.textContent=s.content),s.className&&a.setAttributeNS(null,"class",s.className+" vis-label"),a.setAttributeNS(null,"x",t),a.setAttributeNS(null,"y",i)}return o}function Fx(t,i,e,n,r,s,o,a){if(0!=n){n<0&&(i-=n*=-1);var u=Mx("rect",s,o);u.setAttributeNS(null,"x",t-.5*e),u.setAttributeNS(null,"y",i),u.setAttributeNS(null,"width",e),u.setAttributeNS(null,"height",n),u.setAttributeNS(null,"class",r),a&&u.setAttributeNS(null,"style",a)}}function Tx(){try{return navigator?navigator.languages&&navigator.languages.length?navigator.languages:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en":"en"}catch(t){return"en"}}var Ex=Object.freeze({__proto__:null,cleanupElements:_x,drawBar:Fx,drawPoint:jx,getDOMElement:Sx,getNavigatorLanguage:Tx,getSVGElement:Mx,prepareElements:xx,resetElements:Dx});function Yx(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Ax={},Cx={get exports(){return Ax},set exports(t){Ax=t}},Ox={},Lx=gb;!function(t){t.exports=Lx}({get exports(){return Ox},set exports(t){Ox=t}}),function(t){t.exports=Ox}(Cx);var zx=n(Ax),Ix={},Nx={get exports(){return Ix},set exports(t){Ix=t}},Hx={},Px={get exports(){return Hx},set exports(t){Hx=t}};Cn({target:"Object",stat:!0},{setPrototypeOf:Ss});var Rx=pi.Object.setPrototypeOf;!function(t){t.exports=Rx}(Px),function(t){t.exports=Hx}(Nx);var Bx=n(Ix),$x={},Gx={get exports(){return $x},set exports(t){$x=t}},Wx={},Ux=Uv;!function(t){t.exports=Ux}({get exports(){return Wx},set exports(t){Wx=t}}),function(t){t.exports=Wx}(Gx);var qx=n($x);function Vx(t,i){var e;return Vx=Bx?qx(e=Bx).call(e):function(t,i){return t.__proto__=i,t},Vx(t,i)}function Xx(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=zx(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Yl(t,"prototype",{writable:!1}),i&&Vx(t,i)}function Zx(t,i){if(i&&("object"===If(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return Yx(t)}var Jx={},Kx={get exports(){return Jx},set exports(t){Jx=t}},Qx={},t_=Um;!function(t){t.exports=t_}({get exports(){return Qx},set exports(t){Qx=t}}),function(t){t.exports=Qx}(Kx);var i_=n(Jx);function e_(t){var i;return e_=Bx?qx(i=i_).call(i):function(t){return t.__proto__||i_(t)},e_(t)}var n_={},r_={get exports(){return n_},set exports(t){n_=t}},s_={};!function(t){var i=Al,e=Ef;function n(r){return t.exports=n="function"==typeof i&&"symbol"==typeof e?function(t){return typeof t}:function(t){return t&&"function"==typeof i&&t.constructor===i&&t!==i.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}({get exports(){return s_},set exports(t){s_=t}});var o_={},a_={get exports(){return o_},set exports(t){o_=t}},u_={},h_=ap;!function(t){t.exports=h_}({get exports(){return u_},set exports(t){u_=t}}),function(t){t.exports=u_}(a_);var c_={},l_={get exports(){return c_},set exports(t){c_=t}},f_={},d_={get exports(){return f_},set exports(t){f_=t}},v_=W,p_=Jc,m_=Pe,g_=ti,b_=Kt,y_=de,w_=Error,k_=y("".replace),x_=String(w_("zxcasd").stack),__=/\n\s*at [^:]*:[^\n]*/,D_=__.test(x_),M_=ce,S_=!f((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",M_(1,7)),7!==t.stack)})),j_=de,F_=function(t,i){if(D_&&"string"==typeof t&&!w_.prepareStackTrace)for(;i--;)t=k_(t,__,"");return t},T_=S_,E_=Error.captureStackTrace,Y_=kn,A_=vi,C_=li,O_=Fi,L_=oo,z_=Vn,I_=ki,N_=Bo,H_=Lo,P_=to,R_=TypeError,B_=function(t,i){this.stopped=t,this.result=i},$_=B_.prototype,G_=function(t,i,e){var n,r,s,o,a,u,h,c=e&&e.that,l=!(!e||!e.AS_ENTRIES),f=!(!e||!e.IS_RECORD),d=!(!e||!e.IS_ITERATOR),v=!(!e||!e.INTERRUPTED),p=Y_(i,c),m=function(t){return n&&P_(n,"normal",t),new B_(!0,t)},g=function(t){return l?(C_(t),v?p(t[0],t[1],m):p(t[0],t[1])):v?p(t,m):p(t)};if(f)n=t.iterator;else if(d)n=t;else{if(!(r=H_(t)))throw R_(O_(t)+" is not iterable");if(L_(r)){for(s=0,o=z_(t);o>s;s++)if((a=g(t[s]))&&I_($_,a))return a;return new B_(!1)}n=N_(t,r)}for(u=f?t.next:n.next;!(h=A_(u,n)).done;){try{a=g(h.value)}catch(t){P_(n,"throw",t)}if("object"==typeof a&&a&&I_($_,a))return a}return new B_(!1)},W_=It,U_=Cn,q_=ki,V_=$r,X_=Ss,Z_=function(t,i,e){for(var n=p_(i),r=g_.f,s=m_.f,o=0;o<n.length;o++){var a=n[o];v_(t,a)||e&&v_(e,a)||r(t,a,s(i,a))}},J_=Or,K_=de,Q_=ce,tD=function(t,i){b_(i)&&"cause"in i&&y_(t,"cause",i.cause)},iD=function(t,i,e,n){T_&&(E_?E_(t,i):j_(t,"stack",F_(e,n)))},eD=G_,nD=function(t,i){return void 0===t?arguments.length<2?"":i:W_(t)},rD=gt("toStringTag"),sD=Error,oD=[].push,aD=function(t,i){var e,n=q_(uD,this);X_?e=X_(sD(),n?V_(this):uD):(e=n?this:J_(uD),K_(e,rD,"Error")),void 0!==i&&K_(e,"message",nD(i)),iD(e,aD,e.stack,1),arguments.length>2&&tD(e,arguments[2]);var r=[];return eD(t,oD,{that:r}),K_(e,"errors",r),e};X_?X_(aD,sD):Z_(aD,sD,{name:!0});var uD=aD.prototype=J_(sD.prototype,{constructor:Q_(1,aD),message:Q_(1,""),name:Q_(1,"AggregateError")});U_({global:!0,constructor:!0,arity:2},{AggregateError:aD});var hD,cD,lD,fD,dD="undefined"!=typeof process&&"process"==jt(process),vD=wi,pD=Ja,mD=Qt,gD=gt("species"),bD=function(t){var i=vD(t);mD&&i&&!i[gD]&&pD(i,gD,{configurable:!0,get:function(){return this}})},yD=ki,wD=TypeError,kD=function(t,i){if(yD(i,t))return t;throw wD("Incorrect invocation")},xD=Mo,_D=Fi,DD=TypeError,MD=function(t){if(xD(t))return t;throw DD(_D(t)+" is not a constructor")},SD=li,jD=MD,FD=z,TD=gt("species"),ED=function(t,i){var e,n=SD(t).constructor;return void 0===n||FD(e=SD(n)[TD])?i:jD(e)},YD=/(?:ipad|iphone|ipod).*applewebkit/i.test(J),AD=M,CD=ze,OD=kn,LD=_t,zD=W,ID=f,ND=gr,HD=Zh,PD=ri,RD=Eb,BD=YD,$D=dD,GD=AD.setImmediate,WD=AD.clearImmediate,UD=AD.process,qD=AD.Dispatch,VD=AD.Function,XD=AD.MessageChannel,ZD=AD.String,JD=0,KD={},QD="onreadystatechange";ID((function(){hD=AD.location}));var tM=function(t){if(zD(KD,t)){var i=KD[t];delete KD[t],i()}},iM=function(t){return function(){tM(t)}},eM=function(t){tM(t.data)},nM=function(t){AD.postMessage(ZD(t),hD.protocol+"//"+hD.host)};GD&&WD||(GD=function(t){RD(arguments.length,1);var i=LD(t)?t:VD(t),e=HD(arguments,1);return KD[++JD]=function(){CD(i,void 0,e)},cD(JD),JD},WD=function(t){delete KD[t]},$D?cD=function(t){UD.nextTick(iM(t))}:qD&&qD.now?cD=function(t){qD.now(iM(t))}:XD&&!BD?(fD=(lD=new XD).port2,lD.port1.onmessage=eM,cD=OD(fD.postMessage,fD)):AD.addEventListener&&LD(AD.postMessage)&&!AD.importScripts&&hD&&"file:"!==hD.protocol&&!ID(nM)?(cD=nM,AD.addEventListener("message",eM,!1)):cD=QD in PD("script")?function(t){ND.appendChild(PD("script"))[QD]=function(){ND.removeChild(this),tM(t)}}:function(t){setTimeout(iM(t),0)});var rM={set:GD,clear:WD},sM=function(){this.head=null,this.tail=null};sM.prototype={add:function(t){var i={item:t,next:null},e=this.tail;e?e.next=i:this.head=i,this.tail=i},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var oM,aM,uM,hM,cM,lM=sM,fM=/ipad|iphone|ipod/i.test(J)&&"undefined"!=typeof Pebble,dM=/web0s(?!.*chrome)/i.test(J),vM=M,pM=kn,mM=Pe.f,gM=rM.set,bM=lM,yM=YD,wM=fM,kM=dM,xM=dD,_M=vM.MutationObserver||vM.WebKitMutationObserver,DM=vM.document,MM=vM.process,SM=vM.Promise,jM=mM(vM,"queueMicrotask"),FM=jM&&jM.value;if(!FM){var TM=new bM,EM=function(){var t,i;for(xM&&(t=MM.domain)&&t.exit();i=TM.get();)try{i()}catch(t){throw TM.head&&oM(),t}t&&t.enter()};yM||xM||kM||!_M||!DM?!wM&&SM&&SM.resolve?((hM=SM.resolve(void 0)).constructor=SM,cM=pM(hM.then,hM),oM=function(){cM(EM)}):xM?oM=function(){MM.nextTick(EM)}:(gM=pM(gM,vM),oM=function(){gM(EM)}):(aM=!0,uM=DM.createTextNode(""),new _M(EM).observe(uM,{characterData:!0}),oM=function(){uM.data=aM=!aM}),FM=function(t){TM.head||oM(),TM.add(t)}}var YM=FM,AM=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},CM=M.Promise,OM="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,LM=!OM&&!dD&&"object"==typeof window&&"object"==typeof document,zM=M,IM=CM,NM=_t,HM=gn,PM=co,RM=gt,BM=LM,$M=OM,GM=rt,WM=IM&&IM.prototype,UM=RM("species"),qM=!1,VM=NM(zM.PromiseRejectionEvent),XM=HM("Promise",(function(){var t=PM(IM),i=t!==String(IM);if(!i&&66===GM)return!0;if(!WM.catch||!WM.finally)return!0;if(!GM||GM<51||!/native code/.test(t)){var e=new IM((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};if((e.constructor={})[UM]=n,!(qM=e.then((function(){}))instanceof n))return!0}return!i&&(BM||$M)&&!VM})),ZM={CONSTRUCTOR:XM,REJECTION_EVENT:VM,SUBCLASSING:qM},JM={},KM=Ai,QM=TypeError,tS=function(t){var i,e;this.promise=new t((function(t,n){if(void 0!==i||void 0!==e)throw QM("Bad Promise constructor");i=t,e=n})),this.resolve=KM(i),this.reject=KM(e)};JM.f=function(t){return new tS(t)};var iS,eS,nS=Cn,rS=dD,sS=M,oS=vi,aS=Wr,uS=cs,hS=bD,cS=Ai,lS=_t,fS=Kt,dS=kD,vS=ED,pS=rM.set,mS=YM,gS=function(t,i){try{1==arguments.length?console.error(t):console.error(t,i)}catch(t){}},bS=AM,yS=lM,wS=Ye,kS=CM,xS=JM,_S="Promise",DS=ZM.CONSTRUCTOR,MS=ZM.REJECTION_EVENT,SS=wS.getterFor(_S),jS=wS.set,FS=kS&&kS.prototype,TS=kS,ES=FS,YS=sS.TypeError,AS=sS.document,CS=sS.process,OS=xS.f,LS=OS,zS=!!(AS&&AS.createEvent&&sS.dispatchEvent),IS="unhandledrejection",NS=function(t){var i;return!(!fS(t)||!lS(i=t.then))&&i},HS=function(t,i){var e,n,r,s=i.value,o=1==i.state,a=o?t.ok:t.fail,u=t.resolve,h=t.reject,c=t.domain;try{a?(o||(2===i.rejection&&GS(i),i.rejection=1),!0===a?e=s:(c&&c.enter(),e=a(s),c&&(c.exit(),r=!0)),e===t.promise?h(YS("Promise-chain cycle")):(n=NS(e))?oS(n,e,u,h):u(e)):h(s)}catch(t){c&&!r&&c.exit(),h(t)}},PS=function(t,i){t.notified||(t.notified=!0,mS((function(){for(var e,n=t.reactions;e=n.get();)HS(e,t);t.notified=!1,i&&!t.rejection&&BS(t)})))},RS=function(t,i,e){var n,r;zS?((n=AS.createEvent("Event")).promise=i,n.reason=e,n.initEvent(t,!1,!0),sS.dispatchEvent(n)):n={promise:i,reason:e},!MS&&(r=sS["on"+t])?r(n):t===IS&&gS("Unhandled promise rejection",e)},BS=function(t){oS(pS,sS,(function(){var i,e=t.facade,n=t.value;if($S(t)&&(i=bS((function(){rS?CS.emit("unhandledRejection",n,e):RS(IS,e,n)})),t.rejection=rS||$S(t)?2:1,i.error))throw i.value}))},$S=function(t){return 1!==t.rejection&&!t.parent},GS=function(t){oS(pS,sS,(function(){var i=t.facade;rS?CS.emit("rejectionHandled",i):RS("rejectionhandled",i,t.value)}))},WS=function(t,i,e){return function(n){t(i,n,e)}},US=function(t,i,e){t.done||(t.done=!0,e&&(t=e),t.value=i,t.state=2,PS(t,!0))},qS=function(t,i,e){if(!t.done){t.done=!0,e&&(t=e);try{if(t.facade===i)throw YS("Promise can't be resolved itself");var n=NS(i);n?mS((function(){var e={done:!1};try{oS(n,i,WS(qS,e,t),WS(US,e,t))}catch(i){US(e,i,t)}})):(t.value=i,t.state=1,PS(t,!1))}catch(i){US({done:!1},i,t)}}};DS&&(ES=(TS=function(t){dS(this,ES),cS(t),oS(iS,this);var i=SS(this);try{t(WS(qS,i),WS(US,i))}catch(t){US(i,t)}}).prototype,(iS=function(t){jS(this,{type:_S,done:!1,notified:!1,parent:!1,reactions:new yS,rejection:!1,state:0,value:void 0})}).prototype=aS(ES,"then",(function(t,i){var e=SS(this),n=OS(vS(this,TS));return e.parent=!0,n.ok=!lS(t)||t,n.fail=lS(i)&&i,n.domain=rS?CS.domain:void 0,0==e.state?e.reactions.add(n):mS((function(){HS(n,e)})),n.promise})),eS=function(){var t=new iS,i=SS(t);this.promise=t,this.resolve=WS(qS,i),this.reject=WS(US,i)},xS.f=OS=function(t){return t===TS||undefined===t?new eS(t):LS(t)}),nS({global:!0,constructor:!0,wrap:!0,forced:DS},{Promise:TS}),uS(TS,_S,!1,!0),hS(_S);var VS=CM,XS=ZM.CONSTRUCTOR||!ra((function(t){VS.all(t).then(void 0,(function(){}))})),ZS=vi,JS=Ai,KS=JM,QS=AM,tj=G_;Cn({target:"Promise",stat:!0,forced:XS},{all:function(t){var i=this,e=KS.f(i),n=e.resolve,r=e.reject,s=QS((function(){var e=JS(i.resolve),s=[],o=0,a=1;tj(t,(function(t){var u=o++,h=!1;a++,ZS(e,i,t).then((function(t){h||(h=!0,s[u]=t,--a||n(s))}),r)})),--a||n(s)}));return s.error&&r(s.value),e.promise}});var ij=Cn,ej=ZM.CONSTRUCTOR;ij({target:"Promise",proto:!0,forced:ej,real:!0},{catch:function(t){return this.then(void 0,t)}});var nj=vi,rj=Ai,sj=JM,oj=AM,aj=G_;Cn({target:"Promise",stat:!0,forced:XS},{race:function(t){var i=this,e=sj.f(i),n=e.reject,r=oj((function(){var r=rj(i.resolve);aj(t,(function(t){nj(r,i,t).then(e.resolve,n)}))}));return r.error&&n(r.value),e.promise}});var uj=vi,hj=JM;Cn({target:"Promise",stat:!0,forced:ZM.CONSTRUCTOR},{reject:function(t){var i=hj.f(this);return uj(i.reject,void 0,t),i.promise}});var cj=li,lj=Kt,fj=JM,dj=function(t,i){if(cj(t),lj(i)&&i.constructor===t)return i;var e=fj.f(t);return(0,e.resolve)(i),e.promise},vj=Cn,pj=CM,mj=ZM.CONSTRUCTOR,gj=dj,bj=wi("Promise"),yj=!mj;vj({target:"Promise",stat:!0,forced:true},{resolve:function(t){return gj(yj&&this===bj?pj:this,t)}});var wj=vi,kj=Ai,xj=JM,_j=AM,Dj=G_;Cn({target:"Promise",stat:!0,forced:XS},{allSettled:function(t){var i=this,e=xj.f(i),n=e.resolve,r=e.reject,s=_j((function(){var e=kj(i.resolve),r=[],s=0,o=1;Dj(t,(function(t){var a=s++,u=!1;o++,wj(e,i,t).then((function(t){u||(u=!0,r[a]={status:"fulfilled",value:t},--o||n(r))}),(function(t){u||(u=!0,r[a]={status:"rejected",reason:t},--o||n(r))}))})),--o||n(r)}));return s.error&&r(s.value),e.promise}});var Mj=vi,Sj=Ai,jj=wi,Fj=JM,Tj=AM,Ej=G_,Yj="No one promise resolved";Cn({target:"Promise",stat:!0,forced:XS},{any:function(t){var i=this,e=jj("AggregateError"),n=Fj.f(i),r=n.resolve,s=n.reject,o=Tj((function(){var n=Sj(i.resolve),o=[],a=0,u=1,h=!1;Ej(t,(function(t){var c=a++,l=!1;u++,Mj(n,i,t).then((function(t){l||h||(h=!0,r(t))}),(function(t){l||h||(l=!0,o[c]=t,--u||s(new e(o,Yj)))}))})),--u||s(new e(o,Yj))}));return o.error&&s(o.value),n.promise}});var Aj=Cn,Cj=CM,Oj=f,Lj=wi,zj=_t,Ij=ED,Nj=dj,Hj=Cj&&Cj.prototype;Aj({target:"Promise",proto:!0,real:!0,forced:!!Cj&&Oj((function(){Hj.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var i=Ij(this,Lj("Promise")),e=zj(t);return this.then(e?function(e){return Nj(i,t()).then((function(){return e}))}:t,e?function(e){return Nj(i,t()).then((function(){throw e}))}:t)}});var Pj=pi.Promise,Rj=JM,Bj=AM;Cn({target:"Promise",stat:!0,forced:!0},{try:function(t){var i=Rj.f(this),e=Bj(t);return(e.error?i.reject:i.resolve)(e.value),i.promise}});var $j=Pj;!function(t){t.exports=$j}(d_),function(t){t.exports=f_}(l_);var Gj={},Wj={get exports(){return Gj},set exports(t){Gj=t}},Uj={},qj=wp;!function(t){t.exports=qj}({get exports(){return Uj},set exports(t){Uj=t}}),function(t){t.exports=Uj}(Wj),function(t){var i=s_.default,e=jl,n=Al,r=Ax,s=Jx,o=o_,a=Ix,u=c_,h=Gj,c=id;function l(){t.exports=l=function(){return f},t.exports.__esModule=!0,t.exports.default=t.exports;var f={},d=Object.prototype,v=d.hasOwnProperty,p=e||function(t,i,e){t[i]=e.value},m="function"==typeof n?n:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",y=m.toStringTag||"@@toStringTag";function w(t,i,n){return e(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[i]}try{w({},"")}catch(t){w=function(t,i,e){return t[i]=e}}function k(t,i,e,n){var s=i&&i.prototype instanceof D?i:D,o=r(s.prototype),a=new z(n||[]);return p(o,"_invoke",{value:A(t,e,a)}),o}function x(t,i,e){try{return{type:"normal",arg:t.call(i,e)}}catch(t){return{type:"throw",arg:t}}}f.wrap=k;var _={};function D(){}function M(){}function S(){}var j={};w(j,g,(function(){return this}));var F=s&&s(s(I([])));F&&F!==d&&v.call(F,g)&&(j=F);var T=S.prototype=D.prototype=r(j);function E(t){var i;o(i=["next","throw","return"]).call(i,(function(i){w(t,i,(function(t){return this._invoke(i,t)}))}))}function Y(t,e){function n(r,s,o,a){var u=x(t[r],t,s);if("throw"!==u.type){var h=u.arg,c=h.value;return c&&"object"==i(c)&&v.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,o,a)}),(function(t){n("throw",t,o,a)})):e.resolve(c).then((function(t){h.value=t,o(h)}),(function(t){return n("throw",t,o,a)}))}a(u.arg)}var r;p(this,"_invoke",{value:function(t,i){function s(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(s,s):s()}})}function A(t,i,e){var n="suspendedStart";return function(r,s){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw s;return N()}for(e.method=r,e.arg=s;;){var o=e.delegate;if(o){var a=C(o,e);if(a){if(a===_)continue;return a}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===n)throw n="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n="executing";var u=x(t,i,e);if("normal"===u.type){if(n=e.done?"completed":"suspendedYield",u.arg===_)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n="completed",e.method="throw",e.arg=u.arg)}}}function C(t,i){var e=i.method,n=t.iterator[e];if(void 0===n)return i.delegate=null,"throw"===e&&t.iterator.return&&(i.method="return",i.arg=void 0,C(t,i),"throw"===i.method)||"return"!==e&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+e+"' method")),_;var r=x(n,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,_;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=void 0),i.delegate=null,_):s:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,_)}function O(t){var i={tryLoc:t[0]};1 in t&&(i.catchLoc=t[1]),2 in t&&(i.finallyLoc=t[2],i.afterLoc=t[3]),this.tryEntries.push(i)}function L(t){var i=t.completion||{};i.type="normal",delete i.arg,t.completion=i}function z(t){this.tryEntries=[{tryLoc:"root"}],o(t).call(t,O,this),this.reset(!0)}function I(t){if(t){var i=t[g];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,n=function i(){for(;++e<t.length;)if(v.call(t,e))return i.value=t[e],i.done=!1,i;return i.value=void 0,i.done=!0,i};return n.next=n}}return{next:N}}function N(){return{value:void 0,done:!0}}return M.prototype=S,p(T,"constructor",{value:S,configurable:!0}),p(S,"constructor",{value:M,configurable:!0}),M.displayName=w(S,y,"GeneratorFunction"),f.isGeneratorFunction=function(t){var i="function"==typeof t&&t.constructor;return!!i&&(i===M||"GeneratorFunction"===(i.displayName||i.name))},f.mark=function(t){return a?a(t,S):(t.__proto__=S,w(t,y,"GeneratorFunction")),t.prototype=r(T),t},f.awrap=function(t){return{__await:t}},E(Y.prototype),w(Y.prototype,b,(function(){return this})),f.AsyncIterator=Y,f.async=function(t,i,e,n,r){void 0===r&&(r=u);var s=new Y(k(t,i,e,n),r);return f.isGeneratorFunction(i)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},E(T),w(T,y,"Generator"),w(T,g,(function(){return this})),w(T,"toString",(function(){return"[object Generator]"})),f.keys=function(t){var i=Object(t),e=[];for(var n in i)e.push(n);return h(e).call(e),function t(){for(;e.length;){var n=e.pop();if(n in i)return t.value=n,t.done=!1,t}return t.done=!0,t}},f.values=I,z.prototype={constructor:z,reset:function(t){var i;if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,o(i=this.tryEntries).call(i,L),!t)for(var e in this)"t"===e.charAt(0)&&v.call(this,e)&&!isNaN(+c(e).call(e,1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function e(e,n){return s.type="throw",s.arg=t,i.next=e,n&&(i.method="next",i.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],s=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var o=v.call(r,"catchLoc"),a=v.call(r,"finallyLoc");if(o&&a){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(t,i){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&v.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=i&&i<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=t,s.arg=i,r?(this.method="next",this.next=r.finallyLoc,_):this.complete(s)},complete:function(t,i){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&i&&(this.next=i),_},finish:function(t){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),_}},catch:function(t){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var r=n.arg;L(e)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:I(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=void 0),_}},f}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports}(r_);var Vj=n_(),Xj=Vj;try{regeneratorRuntime=Vj}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=Vj:Function("r","regeneratorRuntime = r")(Vj)}var Zj={},Jj={get exports(){return Zj},set exports(t){Zj=t}},Kj=Ai,Qj=B,tF=Xe,iF=Vn,eF=TypeError,nF=function(t){return function(i,e,n,r){Kj(e);var s=Qj(i),o=tF(s),a=iF(s),u=t?a-1:0,h=t?-1:1;if(n<2)for(;;){if(u in o){r=o[u],u+=h;break}if(u+=h,t?u<0:a<=u)throw eF("Reduce of empty array with no initial value")}for(;t?u>=0:a>u;u+=h)u in o&&(r=e(r,o[u],u,s));return r}},rF={left:nF(!1),right:nF(!0)}.left;Cn({target:"Array",proto:!0,forced:!dD&&rt>79&&rt<83||!Jv("reduce")},{reduce:function(t){var i=arguments.length;return rF(this,t,i,i>1?arguments[1]:void 0)}});var sF=wd("Array").reduce,oF=ki,aF=sF,uF=Array.prototype,hF=function(t){var i=t.reduce;return t===uF||oF(uF,t)&&i===uF.reduce?aF:i},cF=hF;!function(t){t.exports=cF}(Jj);var lF=n(Zj),fF={},dF={get exports(){return fF},set exports(t){fF=t}},vF=lu,pF=Vn,mF=Il,gF=kn,bF=function(t,i,e,n,r,s,o,a){for(var u,h,c=r,l=0,f=!!o&&gF(o,a);l<n;)l in e&&(u=f?f(e[l],l,i):e[l],s>0&&vF(u)?(h=pF(u),c=bF(t,i,u,h,c,s-1)-1):(mF(c+1),t[c]=u),c++),l++;return c},yF=bF,wF=Ai,kF=B,xF=Vn,_F=bu;Cn({target:"Array",proto:!0},{flatMap:function(t){var i,e=kF(this),n=xF(e);return wF(t),(i=_F(e,0)).length=yF(i,e,e,n,0,1,t,arguments.length>1?arguments[1]:void 0),i}});var DF=wd("Array").flatMap,MF=ki,SF=DF,jF=Array.prototype,FF=function(t){var i=t.flatMap;return t===jF||MF(jF,t)&&i===jF.flatMap?SF:i},TF=FF;!function(t){t.exports=TF}(dF);var EF=n(fF),YF={},AF={get exports(){return YF},set exports(t){YF=t}},CF={},OF={get exports(){return CF},set exports(t){CF=t}},LF=f((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),zF=f,IF=Kt,NF=jt,HF=LF,PF=Object.isExtensible,RF=zF((function(){}))||HF?function(t){return!!IF(t)&&((!HF||"ArrayBuffer"!=NF(t))&&(!PF||PF(t)))}:PF,BF=!f((function(){return Object.isExtensible(Object.preventExtensions({}))})),$F=Cn,GF=y,WF=ge,UF=Kt,qF=W,VF=ti.f,XF=Oa,ZF=Ia,JF=RF,KF=BF,QF=!1,tT=Z("meta"),iT=0,eT=function(t){VF(t,tT,{value:{objectID:"O"+iT++,weakData:{}}})},nT=OF.exports={enable:function(){nT.enable=function(){},QF=!0;var t=XF.f,i=GF([].splice),e={};e[tT]=1,t(e).length&&(XF.f=function(e){for(var n=t(e),r=0,s=n.length;r<s;r++)if(n[r]===tT){i(n,r,1);break}return n},$F({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:ZF.f}))},fastKey:function(t,i){if(!UF(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!qF(t,tT)){if(!JF(t))return"F";if(!i)return"E";eT(t)}return t[tT].objectID},getWeakData:function(t,i){if(!qF(t,tT)){if(!JF(t))return!0;if(!i)return!1;eT(t)}return t[tT].weakData},onFreeze:function(t){return KF&&QF&&JF(t)&&!qF(t,tT)&&eT(t),t}};WF[tT]=!0;var rT=Cn,sT=M,oT=CF,aT=f,uT=de,hT=G_,cT=kD,lT=_t,fT=Kt,dT=cs,vT=ti.f,pT=Su.forEach,mT=Qt,gT=Ye.set,bT=Ye.getterFor,yT=function(t,i,e){var n,r=-1!==t.indexOf("Map"),s=-1!==t.indexOf("Weak"),o=r?"set":"add",a=sT[t],u=a&&a.prototype,h={};if(mT&&lT(a)&&(s||u.forEach&&!aT((function(){(new a).entries().next()})))){var c=(n=i((function(i,e){gT(cT(i,c),{type:t,collection:new a}),null!=e&&hT(e,i[o],{that:i,AS_ENTRIES:r})}))).prototype,l=bT(t);pT(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var i="add"==t||"set"==t;!(t in u)||s&&"clear"==t||uT(c,t,(function(e,n){var r=l(this).collection;if(!i&&s&&!fT(e))return"get"==t&&void 0;var o=r[t](0===e?0:e,n);return i?this:o}))})),s||vT(c,"size",{configurable:!0,get:function(){return l(this).collection.size}})}else n=e.getConstructor(i,t,r,o),oT.enable();return dT(n,t,!1,!0),h[t]=n,rT({global:!0,forced:!0},h),s||e.setStrong(n,t,r),n},wT=Wr,kT=Or,xT=Ja,_T=function(t,i,e){for(var n in i)e&&e.unsafe&&t[n]?t[n]=i[n]:wT(t,n,i[n],e);return t},DT=kn,MT=kD,ST=z,jT=G_,FT=Rs,TT=Bs,ET=bD,YT=Qt,AT=CF.fastKey,CT=Ye.set,OT=Ye.getterFor,LT={getConstructor:function(t,i,e,n){var r=t((function(t,r){MT(t,s),CT(t,{type:i,index:kT(null),first:void 0,last:void 0,size:0}),YT||(t.size=0),ST(r)||jT(r,t[n],{that:t,AS_ENTRIES:e})})),s=r.prototype,o=OT(i),a=function(t,i,e){var n,r,s=o(t),a=u(t,i);return a?a.value=e:(s.last=a={index:r=AT(i,!0),key:i,value:e,previous:n=s.last,next:void 0,removed:!1},s.first||(s.first=a),n&&(n.next=a),YT?s.size++:t.size++,"F"!==r&&(s.index[r]=a)),t},u=function(t,i){var e,n=o(t),r=AT(i);if("F"!==r)return n.index[r];for(e=n.first;e;e=e.next)if(e.key==i)return e};return _T(s,{clear:function(){for(var t=o(this),i=t.index,e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=void 0),delete i[e.index],e=e.next;t.first=t.last=void 0,YT?t.size=0:this.size=0},delete:function(t){var i=this,e=o(i),n=u(i,t);if(n){var r=n.next,s=n.previous;delete e.index[n.index],n.removed=!0,s&&(s.next=r),r&&(r.previous=s),e.first==n&&(e.first=r),e.last==n&&(e.last=s),YT?e.size--:i.size--}return!!n},forEach:function(t){for(var i,e=o(this),n=DT(t,arguments.length>1?arguments[1]:void 0);i=i?i.next:e.first;)for(n(i.value,i.key,this);i&&i.removed;)i=i.previous},has:function(t){return!!u(this,t)}}),_T(s,e?{get:function(t){var i=u(this,t);return i&&i.value},set:function(t,i){return a(this,0===t?0:t,i)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),YT&&xT(s,"size",{configurable:!0,get:function(){return o(this).size}}),r},setStrong:function(t,i,e){var n=i+" Iterator",r=OT(i),s=OT(n);FT(t,i,(function(t,i){CT(this,{type:n,target:t,state:r(t),kind:i,last:void 0})}),(function(){for(var t=s(this),i=t.kind,e=t.last;e&&e.removed;)e=e.previous;return t.target&&(t.last=e=e?e.next:t.state.first)?TT("keys"==i?e.key:"values"==i?e.value:[e.key,e.value],!1):(t.target=void 0,TT(void 0,!0))}),e?"entries":"values",!e,!0),ET(i)}};yT("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),LT);var zT=pi.Map;!function(t){t.exports=zT}(AF);var IT=n(YF),NT={},HT={get exports(){return NT},set exports(t){NT=t}};yT("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),LT);var PT=pi.Set;!function(t){t.exports=PT}(HT);var RT=n(NT),BT={};!function(t){t.exports=Of}({get exports(){return BT},set exports(t){BT=t}});var $T=n(BT),GT={},WT={get exports(){return GT},set exports(t){GT=t}},UT={},qT=Bo;!function(t){t.exports=qT}({get exports(){return UT},set exports(t){UT=t}}),function(t){t.exports=UT}(WT);var VT=n(GT),XT={},ZT={get exports(){return XT},set exports(t){XT=t}},JT=$a,KT=Math.floor,QT=function(t,i){var e=t.length,n=KT(e/2);return e<8?tE(t,i):iE(t,QT(JT(t,0,n),i),QT(JT(t,n),i),i)},tE=function(t,i){for(var e,n,r=t.length,s=1;s<r;){for(n=s,e=t[s];n&&i(t[n-1],e)>0;)t[n]=t[--n];n!==s++&&(t[n]=e)}return t},iE=function(t,i,e,n){for(var r=i.length,s=e.length,o=0,a=0;o<r||a<s;)t[o+a]=o<r&&a<s?n(i[o],e[a])<=0?i[o++]:e[a++]:o<r?i[o++]:e[a++];return t},eE=QT,nE=J.match(/firefox\/(\d+)/i),rE=!!nE&&+nE[1],sE=/MSIE|Trident/.test(J),oE=J.match(/AppleWebKit\/(\d+)\./),aE=!!oE&&+oE[1],uE=Cn,hE=y,cE=Ai,lE=B,fE=Vn,dE=Yp,vE=It,pE=f,mE=eE,gE=Jv,bE=rE,yE=sE,wE=rt,kE=aE,xE=[],_E=hE(xE.sort),DE=hE(xE.push),ME=pE((function(){xE.sort(void 0)})),SE=pE((function(){xE.sort(null)})),jE=gE("sort"),FE=!pE((function(){if(wE)return wE<70;if(!(bE&&bE>3)){if(yE)return!0;if(kE)return kE<603;var t,i,e,n,r="";for(t=65;t<76;t++){switch(i=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:e=3;break;case 68:case 71:e=4;break;default:e=2}for(n=0;n<47;n++)xE.push({k:i+n,v:e})}for(xE.sort((function(t,i){return i.v-t.v})),n=0;n<xE.length;n++)i=xE[n].k.charAt(0),r.charAt(r.length-1)!==i&&(r+=i);return"DGBEFHACIJK"!==r}}));uE({target:"Array",proto:!0,forced:ME||!SE||!jE||!FE},{sort:function(t){void 0!==t&&cE(t);var i=lE(this);if(FE)return void 0===t?_E(i):_E(i,t);var e,n,r=[],s=fE(i);for(n=0;n<s;n++)n in i&&DE(r,i[n]);for(mE(r,function(t){return function(i,e){return void 0===e?-1:void 0===i?1:void 0!==t?+t(i,e)||0:vE(i)>vE(e)?1:-1}}(t)),e=fE(r),n=0;n<e;)i[n]=r[n++];for(;n<s;)dE(i,n++);return i}});var TE=wd("Array").sort,EE=ki,YE=TE,AE=Array.prototype,CE=function(t){var i=t.sort;return t===AE||EE(AE,t)&&i===AE.sort?YE:i},OE=CE;!function(t){t.exports=OE}(ZT);var LE=n(XT),zE={},IE={get exports(){return zE},set exports(t){zE=t}},NE=Su.some;Cn({target:"Array",proto:!0,forced:!Jv("some")},{some:function(t){return NE(this,t,arguments.length>1?arguments[1]:void 0)}});var HE=wd("Array").some,PE=ki,RE=HE,BE=Array.prototype,$E=function(t){var i=t.some;return t===BE||PE(BE,t)&&i===BE.some?RE:i},GE=$E;!function(t){t.exports=GE}(IE);var WE=n(zE),UE={},qE={get exports(){return UE},set exports(t){UE=t}},VE=wd("Array").keys,XE=Ot,ZE=W,JE=ki,KE=VE,QE=Array.prototype,tY={DOMTokenList:!0,NodeList:!0},iY=function(t){var i=t.keys;return t===QE||JE(QE,t)&&i===QE.keys||ZE(tY,XE(t))?KE:i};!function(t){t.exports=iY}(qE);var eY=n(UE),nY={},rY={get exports(){return nY},set exports(t){nY=t}},sY=wd("Array").values,oY=Ot,aY=W,uY=ki,hY=sY,cY=Array.prototype,lY={DOMTokenList:!0,NodeList:!0},fY=function(t){var i=t.values;return t===cY||uY(cY,t)&&i===cY.values||aY(lY,oY(t))?hY:i};!function(t){t.exports=fY}(rY);var dY=n(nY),vY={},pY={get exports(){return vY},set exports(t){vY=t}},mY=wd("Array").entries,gY=Ot,bY=W,yY=ki,wY=mY,kY=Array.prototype,xY={DOMTokenList:!0,NodeList:!0},_Y=function(t){var i=t.entries;return t===kY||yY(kY,t)&&i===kY.entries||bY(xY,gY(t))?wY:i};!function(t){t.exports=_Y}(pY);var DY=n(vY),MY={},SY={get exports(){return MY},set exports(t){MY=t}},jY=Cn,FY=ze,TY=Hv,EY=MD,YY=li,AY=Kt,CY=Or,OY=f,LY=wi("Reflect","construct"),zY=Object.prototype,IY=[].push,NY=OY((function(){function t(){}return!(LY((function(){}),[],t)instanceof t)})),HY=!OY((function(){LY((function(){}))})),PY=NY||HY;jY({target:"Reflect",stat:!0,forced:PY,sham:PY},{construct:function(t,i){EY(t),YY(i);var e=arguments.length<3?t:EY(arguments[2]);if(HY&&!NY)return LY(t,i,e);if(t==e){switch(i.length){case 0:return new t;case 1:return new t(i[0]);case 2:return new t(i[0],i[1]);case 3:return new t(i[0],i[1],i[2]);case 4:return new t(i[0],i[1],i[2],i[3])}var n=[null];return FY(IY,n,i),new(FY(TY,t,n))}var r=e.prototype,s=CY(AY(r)?r:zY),o=FY(t,s,i);return AY(o)?o:s}});var RY=pi.Reflect.construct;!function(t){t.exports=RY}(SY);var BY=n(MY);let $Y;const GY=new Uint8Array(16);function WY(){if(!$Y&&($Y="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$Y))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $Y(GY)}const UY=[];for(let t=0;t<256;++t)UY.push((t+256).toString(16).slice(1));var qY,VY={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function XY(t,i,e){if(VY.randomUUID&&!i&&!t)return VY.randomUUID();const n=(t=t||{}).random||(t.rng||WY)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,i){e=e||0;for(let t=0;t<16;++t)i[e+t]=n[t];return i}return function(t,i=0){return(UY[t[i+0]]+UY[t[i+1]]+UY[t[i+2]]+UY[t[i+3]]+"-"+UY[t[i+4]]+UY[t[i+5]]+"-"+UY[t[i+6]]+UY[t[i+7]]+"-"+UY[t[i+8]]+UY[t[i+9]]+"-"+UY[t[i+10]]+UY[t[i+11]]+UY[t[i+12]]+UY[t[i+13]]+UY[t[i+14]]+UY[t[i+15]]).toLowerCase()}(n)}function ZY(t,i){var e=bv(t);if(Ec){var n=Ec(t);i&&(n=ng(n).call(n,(function(i){return $c(t,i).enumerable}))),e.push.apply(e,n)}return e}function JY(t){for(var i=1;i<arguments.length;i++){var e,n,r=null!=arguments[i]?arguments[i]:{};i%2?up(e=ZY(Object(r),!0)).call(e,(function(i){qf(t,i,r[i])})):nl?vl(t,nl(r)):up(n=ZY(Object(r))).call(n,(function(i){Ml(t,i,$c(r,i))}))}return t}function KY(t){var i=function(){if("undefined"==typeof Reflect||!BY)return!1;if(BY.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(BY(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,n=e_(t);if(i){var r=e_(this).constructor;e=BY(n,arguments,r)}else e=n.apply(this,arguments);return Zx(this,e)}}function QY(t,i){var e=void 0!==Hd&&Ya(t)||t["@@iterator"];if(!e){if(ev(t)||(e=function(t,i){var e;if(!t)return;if("string"==typeof t)return tA(t,i);var n=Zd(e=Object.prototype.toString.call(t)).call(e,8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return aa(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tA(t,i)}(t))||i&&t&&"number"==typeof t.length){e&&(t=e);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==e.return||e.return()}finally{if(a)throw s}}}}function tA(t,i){(null==i||i>t.length)&&(i=t.length);for(var e=0,n=new Array(i);e<i;e++)n[e]=t[e];return n}var iA=function(){function t(i,e,n){var r,s,o;Sl(this,t),qf(this,"_source",void 0),qf(this,"_transformers",void 0),qf(this,"_target",void 0),qf(this,"_listeners",{add:qv(r=this._add).call(r,this),remove:qv(s=this._remove).call(s,this),update:qv(o=this._update).call(o,this)}),this._source=i,this._transformers=e,this._target=n}return Uf(t,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(t){var i;return lF(i=this._transformers).call(i,(function(t,i){return i(t)}),t)}},{key:"_add",value:function(t,i){null!=i&&this._target.add(this._transformItems(this._source.get(i.items)))}},{key:"_update",value:function(t,i){null!=i&&this._target.update(this._transformItems(this._source.get(i.items)))}},{key:"_remove",value:function(t,i){null!=i&&this._target.remove(this._transformItems(i.oldData))}}]),t}(),eA=function(){function t(i){Sl(this,t),qf(this,"_source",void 0),qf(this,"_transformers",[]),this._source=i}return Uf(t,[{key:"filter",value:function(t){return this._transformers.push((function(i){return ng(i).call(i,t)})),this}},{key:"map",value:function(t){return this._transformers.push((function(i){return fv(i).call(i,t)})),this}},{key:"flatMap",value:function(t){return this._transformers.push((function(i){return EF(i).call(i,t)})),this}},{key:"to",value:function(t){return new iA(this._source,this._transformers,t)}}]),t}();function nA(t){return"string"==typeof t||"number"==typeof t}var rA=function(){function t(i){Sl(this,t),qf(this,"delay",void 0),qf(this,"max",void 0),qf(this,"_queue",[]),qf(this,"_timeout",null),qf(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(i)}return Uf(t,[{key:"setOptions",value:function(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var t=this._extended.object,i=this._extended.methods,e=0;e<i.length;e++){var n=i[e];n.original?t[n.name]=n.original:delete t[n.name]}this._extended=null}}},{key:"replace",value:function(t,i){var e=this,n=t[i];if(!n)throw new Error("Method "+i+" undefined");t[i]=function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e.queue({args:i,fn:n,context:this})}}},{key:"queue",value:function(t){"function"==typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var t=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=Vb((function(){t.flush()}),this.delay))}},{key:"flush",value:function(){var t,i;up(t=Jp(i=this._queue).call(i,0)).call(t,(function(t){t.fn.apply(t.context||t.fn,t.args||[])}))}}],[{key:"extend",value:function(i,e){var n=new t(e);if(void 0!==i.flush)throw new Error("Target object already has a property flush");i.flush=function(){n.flush()};var r=[{name:"flush",original:void 0}];if(e&&e.replace)for(var s=0;s<e.replace.length;s++){var o=e.replace[s];r.push({name:o,original:i[o]}),n.replace(i,o)}return n._extended={object:i,methods:r},n}}]),t}(),sA=function(){function t(){Sl(this,t),qf(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),qf(this,"subscribe",t.prototype.on),qf(this,"unsubscribe",t.prototype.off)}return Uf(t,[{key:"_trigger",value:function(t,i,e){var n,r;if("*"===t)throw new Error("Cannot trigger event *");up(n=Vd(r=[]).call(r,Id(this._subscribers[t]),Id(this._subscribers["*"]))).call(n,(function(n){n(t,i,null!=e?e:null)}))}},{key:"on",value:function(t,i){"function"==typeof i&&this._subscribers[t].push(i)}},{key:"off",value:function(t,i){var e;this._subscribers[t]=ng(e=this._subscribers[t]).call(e,(function(t){return t!==i}))}}]),t}();qY=$T;var oA=function(){function t(i){Sl(this,t),qf(this,"_pairs",void 0),this._pairs=i}return Uf(t,[{key:qY,value:Xj.mark((function t(){var i,e,n,r,s;return Xj.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=QY(this._pairs),t.prev=1,i.s();case 3:if((e=i.n()).done){t.next=9;break}return n=zd(e.value,2),r=n[0],s=n[1],t.next=7,[r,s];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),i.e(t.t0);case 14:return t.prev=14,i.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"entries",value:Xj.mark((function t(){var i,e,n,r,s;return Xj.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=QY(this._pairs),t.prev=1,i.s();case 3:if((e=i.n()).done){t.next=9;break}return n=zd(e.value,2),r=n[0],s=n[1],t.next=7,[r,s];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),i.e(t.t0);case 14:return t.prev=14,i.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"keys",value:Xj.mark((function t(){var i,e,n,r;return Xj.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=QY(this._pairs),t.prev=1,i.s();case 3:if((e=i.n()).done){t.next=9;break}return n=zd(e.value,1),r=n[0],t.next=7,r;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),i.e(t.t0);case 14:return t.prev=14,i.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"values",value:Xj.mark((function t(){var i,e,n,r;return Xj.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=QY(this._pairs),t.prev=1,i.s();case 3:if((e=i.n()).done){t.next=9;break}return n=zd(e.value,2),r=n[1],t.next=7,r;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),i.e(t.t0);case 14:return t.prev=14,i.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"toIdArray",value:function(){var t;return fv(t=Id(this._pairs)).call(t,(function(t){return t[0]}))}},{key:"toItemArray",value:function(){var t;return fv(t=Id(this._pairs)).call(t,(function(t){return t[1]}))}},{key:"toEntryArray",value:function(){return Id(this._pairs)}},{key:"toObjectMap",value:function(){var t,i=bb(null),e=QY(this._pairs);try{for(e.s();!(t=e.n()).done;){var n=zd(t.value,2),r=n[0],s=n[1];i[r]=s}}catch(t){e.e(t)}finally{e.f()}return i}},{key:"toMap",value:function(){return new IT(this._pairs)}},{key:"toIdSet",value:function(){return new RT(this.toIdArray())}},{key:"toItemSet",value:function(){return new RT(this.toItemArray())}},{key:"cache",value:function(){return new t(Id(this._pairs))}},{key:"distinct",value:function(t){var i,e=new RT,n=QY(this._pairs);try{for(n.s();!(i=n.n()).done;){var r=zd(i.value,2),s=r[0],o=r[1];e.add(t(o,s))}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"filter",value:function(i){var e=this._pairs;return new t(qf({},$T,Xj.mark((function t(){var n,r,s,o,a;return Xj.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=QY(e),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=10;break}if(s=zd(r.value,2),o=s[0],a=s[1],!i(a,o)){t.next=8;break}return t.next=8,[o,a];case 8:t.next=3;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),n.e(t.t0);case 15:return t.prev=15,n.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,12,15,18]])}))))}},{key:"forEach",value:function(t){var i,e=QY(this._pairs);try{for(e.s();!(i=e.n()).done;){var n=zd(i.value,2),r=n[0];t(n[1],r)}}catch(t){e.e(t)}finally{e.f()}}},{key:"map",value:function(i){var e=this._pairs;return new t(qf({},$T,Xj.mark((function t(){var n,r,s,o,a;return Xj.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=QY(e),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=9;break}return s=zd(r.value,2),o=s[0],a=s[1],t.next=7,[o,i(a,o)];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n.e(t.t0);case 14:return t.prev=14,n.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])}))))}},{key:"max",value:function(t){var i=VT(this._pairs),e=i.next();if(e.done)return null;for(var n=e.value[1],r=t(e.value[1],e.value[0]);!(e=i.next()).done;){var s=zd(e.value,2),o=s[0],a=s[1],u=t(a,o);u>r&&(r=u,n=a)}return n}},{key:"min",value:function(t){var i=VT(this._pairs),e=i.next();if(e.done)return null;for(var n=e.value[1],r=t(e.value[1],e.value[0]);!(e=i.next()).done;){var s=zd(e.value,2),o=s[0],a=s[1],u=t(a,o);u<r&&(r=u,n=a)}return n}},{key:"reduce",value:function(t,i){var e,n=QY(this._pairs);try{for(n.s();!(e=n.n()).done;){var r=zd(e.value,2),s=r[0];i=t(i,r[1],s)}}catch(t){n.e(t)}finally{n.f()}return i}},{key:"sort",value:function(i){var e=this;return new t(qf({},$T,(function(){var t;return VT(LE(t=Id(e._pairs)).call(t,(function(t,e){var n=zd(t,2),r=n[0],s=n[1],o=zd(e,2),a=o[0],u=o[1];return i(s,u,r,a)})))})))}}]),t}();var aA=function(t){Xx(e,t);var i=KY(e);function e(t,n){var r;return Sl(this,e),qf(Yx(r=i.call(this)),"flush",void 0),qf(Yx(r),"length",void 0),qf(Yx(r),"_options",void 0),qf(Yx(r),"_data",void 0),qf(Yx(r),"_idProp",void 0),qf(Yx(r),"_queue",null),t&&!ev(t)&&(n=t,t=[]),r._options=n||{},r._data=new IT,r.length=0,r._idProp=r._options.fieldId||"id",t&&t.length&&r.add(t),r.setOptions(n),r}return Uf(e,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=rA.extend(this,{replace:["add","update","remove"]})),t.queue&&"object"===If(t.queue)&&this._queue.setOptions(t.queue)))}},{key:"add",value:function(t,i){var e,n=this,r=[];if(ev(t)){var s=fv(t).call(t,(function(t){return t[n._idProp]}));if(WE(s).call(s,(function(t){return n._data.has(t)})))throw new Error("A duplicate id was found in the parameter array.");for(var o=0,a=t.length;o<a;o++)e=this._addItem(t[o]),r.push(e)}else{if(!t||"object"!==If(t))throw new Error("Unknown dataType");e=this._addItem(t),r.push(e)}return r.length&&this._trigger("add",{items:r},i),r}},{key:"update",value:function(t,i){var e=this,n=[],r=[],s=[],o=[],a=this._idProp,u=function(t){var i=t[a];if(null!=i&&e._data.has(i)){var u=t,h=pm({},e._data.get(i)),c=e._updateItem(u);r.push(c),o.push(u),s.push(h)}else{var l=e._addItem(t);n.push(l)}};if(ev(t))for(var h=0,c=t.length;h<c;h++)t[h]&&"object"===If(t[h])?u(t[h]):console.warn("Ignoring input item, which is not an object at index "+h);else{if(!t||"object"!==If(t))throw new Error("Unknown dataType");u(t)}if(n.length&&this._trigger("add",{items:n},i),r.length){var l={items:r,oldData:s,data:o};this._trigger("update",l,i)}return Vd(n).call(n,r)}},{key:"updateOnly",value:function(t,i){var e,n=this;ev(t)||(t=[t]);var r=fv(e=fv(t).call(t,(function(t){var i=n._data.get(t[n._idProp]);if(null==i)throw new Error("Updating non-existent items is not allowed.");return{oldData:i,update:t}}))).call(e,(function(t){var i=t.oldData,e=t.update,r=i[n._idProp],s=Mk(i,e);return n._data.set(r,s),{id:r,oldData:i,updatedData:s}}));if(r.length){var s={items:fv(r).call(r,(function(t){return t.id})),oldData:fv(r).call(r,(function(t){return t.oldData})),data:fv(r).call(r,(function(t){return t.updatedData}))};return this._trigger("update",s,i),s.items}return[]}},{key:"get",value:function(t,i){var e=void 0,n=void 0,r=void 0;nA(t)?(e=t,r=i):ev(t)?(n=t,r=i):r=t;var s,o=r&&"Object"===r.returnType?"Object":"Array",a=r&&ng(r),u=[],h=void 0,c=void 0,l=void 0;if(null!=e)(h=this._data.get(e))&&a&&!a(h)&&(h=void 0);else if(null!=n)for(var f=0,d=n.length;f<d;f++)null==(h=this._data.get(n[f]))||a&&!a(h)||u.push(h);else for(var v,p=0,m=(c=Id(eY(v=this._data).call(v))).length;p<m;p++)l=c[p],null==(h=this._data.get(l))||a&&!a(h)||u.push(h);if(r&&r.order&&null==e&&this._sort(u,r.order),r&&r.fields){var g=r.fields;if(null!=e&&null!=h)h=this._filterFields(h,g);else for(var b=0,y=u.length;b<y;b++)u[b]=this._filterFields(u[b],g)}if("Object"==o){for(var w={},k=0,x=u.length;k<x;k++){var _=u[k];w[_[this._idProp]]=_}return w}return null!=e?null!==(s=h)&&void 0!==s?s:null:u}},{key:"getIds",value:function(t){var i=this._data,e=t&&ng(t),n=t&&t.order,r=Id(eY(i).call(i)),s=[];if(e)if(n){for(var o=[],a=0,u=r.length;a<u;a++){var h=r[a],c=this._data.get(h);null!=c&&e(c)&&o.push(c)}this._sort(o,n);for(var l=0,f=o.length;l<f;l++)s.push(o[l][this._idProp])}else for(var d=0,v=r.length;d<v;d++){var p=r[d],m=this._data.get(p);null!=m&&e(m)&&s.push(m[this._idProp])}else if(n){for(var g=[],b=0,y=r.length;b<y;b++){var w=r[b];g.push(i.get(w))}this._sort(g,n);for(var k=0,x=g.length;k<x;k++)s.push(g[k][this._idProp])}else for(var _=0,D=r.length;_<D;_++){var M=r[_],S=i.get(M);null!=S&&s.push(S[this._idProp])}return s}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(t,i){var e=i&&ng(i),n=this._data,r=Id(eY(n).call(n));if(i&&i.order)for(var s=this.get(i),o=0,a=s.length;o<a;o++){var u=s[o];t(u,u[this._idProp])}else for(var h=0,c=r.length;h<c;h++){var l=r[h],f=this._data.get(l);null==f||e&&!e(f)||t(f,l)}}},{key:"map",value:function(t,i){for(var e=i&&ng(i),n=[],r=this._data,s=Id(eY(r).call(r)),o=0,a=s.length;o<a;o++){var u=s[o],h=this._data.get(u);null==h||e&&!e(h)||n.push(t(h,u))}return i&&i.order&&this._sort(n,i.order),n}},{key:"_filterFields",value:function(t,i){var e;return t?lF(e=ev(i)?i:bv(i)).call(e,(function(i,e){return i[e]=t[e],i}),{}):t}},{key:"_sort",value:function(t,i){if("string"==typeof i){var e=i;LE(t).call(t,(function(t,i){var n=t[e],r=i[e];return n>r?1:n<r?-1:0}))}else{if("function"!=typeof i)throw new TypeError("Order must be a function or a string");LE(t).call(t,i)}}},{key:"remove",value:function(t,i){for(var e=[],n=[],r=ev(t)?t:[t],s=0,o=r.length;s<o;s++){var a=this._remove(r[s]);if(a){var u=a[this._idProp];null!=u&&(e.push(u),n.push(a))}}return e.length&&this._trigger("remove",{items:e,oldData:n},i),e}},{key:"_remove",value:function(t){var i;if(nA(t)?i=t:t&&"object"===If(t)&&(i=t[this._idProp]),null!=i&&this._data.has(i)){var e=this._data.get(i)||null;return this._data.delete(i),--this.length,e}return null}},{key:"clear",value:function(t){for(var i,e=Id(eY(i=this._data).call(i)),n=[],r=0,s=e.length;r<s;r++)n.push(this._data.get(e[r]));return this._data.clear(),this.length=0,this._trigger("remove",{items:e,oldData:n},t),e}},{key:"max",value:function(t){var i,e,n=null,r=null,s=QY(dY(i=this._data).call(i));try{for(s.s();!(e=s.n()).done;){var o=e.value,a=o[t];"number"==typeof a&&(null==r||a>r)&&(n=o,r=a)}}catch(t){s.e(t)}finally{s.f()}return n||null}},{key:"min",value:function(t){var i,e,n=null,r=null,s=QY(dY(i=this._data).call(i));try{for(s.s();!(e=s.n()).done;){var o=e.value,a=o[t];"number"==typeof a&&(null==r||a<r)&&(n=o,r=a)}}catch(t){s.e(t)}finally{s.f()}return n||null}},{key:"distinct",value:function(t){for(var i=this._data,e=Id(eY(i).call(i)),n=[],r=0,s=0,o=e.length;s<o;s++){for(var a=e[s],u=i.get(a)[t],h=!1,c=0;c<r;c++)if(n[c]==u){h=!0;break}h||void 0===u||(n[r]=u,r++)}return n}},{key:"_addItem",value:function(t){var i=function(t,i){return null==t[i]&&(t[i]=XY()),t}(t,this._idProp),e=i[this._idProp];if(this._data.has(e))throw new Error("Cannot add item: item with id "+e+" already exists");return this._data.set(e,i),++this.length,e}},{key:"_updateItem",value:function(t){var i=t[this._idProp];if(null==i)throw new Error("Cannot update item: item has no id (item: "+Mb(t)+")");var e=this._data.get(i);if(!e)throw new Error("Cannot update item: no item with id "+i+" found");return this._data.set(i,JY(JY({},e),t)),i}},{key:"stream",value:function(t){if(t){var i=this._data;return new oA(qf({},$T,Xj.mark((function e(){var n,r,s,o;return Xj.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=QY(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=11;break}if(s=r.value,null==(o=i.get(s))){e.next=9;break}return e.next=9,[s,o];case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])}))))}var e;return new oA(qf({},$T,qv(e=DY(this._data)).call(e,this._data)))}}]),e}(sA),uA=function(t){Xx(e,t);var i=KY(e);function e(t,n){var r,s;return Sl(this,e),qf(Yx(s=i.call(this)),"length",0),qf(Yx(s),"_listener",void 0),qf(Yx(s),"_data",void 0),qf(Yx(s),"_ids",new RT),qf(Yx(s),"_options",void 0),s._options=n||{},s._listener=qv(r=s._onEvent).call(r,Yx(s)),s.setData(t),s}return Uf(e,[{key:"idProp",get:function(){return this.getDataSet().idProp}},{key:"setData",value:function(t){if(this._data){this._data.off&&this._data.off("*",this._listener);var i=this._data.getIds({filter:ng(this._options)}),e=this._data.get(i);this._ids.clear(),this.length=0,this._trigger("remove",{items:i,oldData:e})}if(null!=t){this._data=t;for(var n=this._data.getIds({filter:ng(this._options)}),r=0,s=n.length;r<s;r++){var o=n[r];this._ids.add(o)}this.length=n.length,this._trigger("add",{items:n})}else this._data=new aA;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var t=this._data.getIds({filter:ng(this._options)}),i=Id(this._ids),e={},n=[],r=[],s=[],o=0,a=t.length;o<a;o++){var u=t[o];e[u]=!0,this._ids.has(u)||(n.push(u),this._ids.add(u))}for(var h=0,c=i.length;h<c;h++){var l=i[h],f=this._data.get(l);null==f?console.error("If you see this, report it please."):e[l]||(r.push(l),s.push(f),this._ids.delete(l))}this.length+=n.length-r.length,n.length&&this._trigger("add",{items:n}),r.length&&this._trigger("remove",{items:r,oldData:s})}},{key:"get",value:function(t,i){if(null==this._data)return null;var e,n=null;nA(t)||ev(t)?(n=t,e=i):e=t;var r=pm({},this._options,e),s=ng(this._options),o=e&&ng(e);return s&&o&&(r.filter=function(t){return s(t)&&o(t)}),null==n?this._data.get(r):this._data.get(n,r)}},{key:"getIds",value:function(t){if(this._data.length){var i,e=ng(this._options),n=null!=t?ng(t):null;return i=n?e?function(t){return e(t)&&n(t)}:n:e,this._data.getIds({filter:i,order:t&&t.order})}return[]}},{key:"forEach",value:function(t,i){if(this._data){var e,n,r=ng(this._options),s=i&&ng(i);n=s?r?function(t){return r(t)&&s(t)}:s:r,up(e=this._data).call(e,t,{filter:n,order:i&&i.order})}}},{key:"map",value:function(t,i){if(this._data){var e,n,r=ng(this._options),s=i&&ng(i);return n=s?r?function(t){return r(t)&&s(t)}:s:r,fv(e=this._data).call(e,t,{filter:n,order:i&&i.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(t){var i;return this._data.stream(t||qf({},$T,qv(i=eY(this._ids)).call(i,this._ids)))}},{key:"dispose",value:function(){var t;null!==(t=this._data)&&void 0!==t&&t.off&&this._data.off("*",this._listener);var i,n="This data view has already been disposed of.",r={get:function(){throw new Error(n)},set:function(){throw new Error(n)},configurable:!1},s=QY(tv(e.prototype));try{for(s.s();!(i=s.n()).done;){var o=i.value;Ml(this,o,r)}}catch(t){s.e(t)}finally{s.f()}}},{key:"_onEvent",value:function(t,i,e){if(i&&i.items&&this._data){var n=i.items,r=[],s=[],o=[],a=[],u=[],h=[];switch(t){case"add":for(var c=0,l=n.length;c<l;c++){var f=n[c];this.get(f)&&(this._ids.add(f),r.push(f))}break;case"update":for(var d=0,v=n.length;d<v;d++){var p=n[d];this.get(p)?this._ids.has(p)?(s.push(p),u.push(i.data[d]),a.push(i.oldData[d])):(this._ids.add(p),r.push(p)):this._ids.has(p)&&(this._ids.delete(p),o.push(p),h.push(i.oldData[d]))}break;case"remove":for(var m=0,g=n.length;m<g;m++){var b=n[m];this._ids.has(b)&&(this._ids.delete(b),o.push(b),h.push(i.oldData[m]))}}this.length+=r.length-o.length,r.length&&this._trigger("add",{items:r},e),s.length&&this._trigger("update",{items:s,oldData:a,data:u},e),o.length&&this._trigger("remove",{items:o,oldData:h},e)}}}]),e}(sA);function hA(t,i){return"object"===If(i)&&null!==i&&t===i.idProp&&"function"==typeof up(i)&&"function"==typeof i.get&&"function"==typeof i.getDataSet&&"function"==typeof i.getIds&&"number"==typeof i.length&&"function"==typeof fv(i)&&"function"==typeof i.off&&"function"==typeof i.on&&"function"==typeof i.stream&&function(t,i){return"object"===If(i)&&null!==i&&t===i.idProp&&"function"==typeof i.add&&"function"==typeof i.clear&&"function"==typeof i.distinct&&"function"==typeof up(i)&&"function"==typeof i.get&&"function"==typeof i.getDataSet&&"function"==typeof i.getIds&&"number"==typeof i.length&&"function"==typeof fv(i)&&"function"==typeof i.max&&"function"==typeof i.min&&"function"==typeof i.off&&"function"==typeof i.on&&"function"==typeof i.remove&&"function"==typeof i.setOptions&&"function"==typeof i.stream&&"function"==typeof i.update&&"function"==typeof i.updateOnly}(t,i.getDataSet())}var cA="undefined"!=typeof window&&window.moment||h(),lA=n(h()),fA={},dA={get exports(){return fA},set exports(t){fA=t}},vA={},pA={},mA={get exports(){return pA},set exports(t){pA=t}},gA={};function bA(){var t={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return t}var yA=/javascript\s*\:/gim;gA.whiteList=bA(),gA.getDefaultWhiteList=bA,gA.onAttr=function(t,i,e){},gA.onIgnoreAttr=function(t,i,e){},gA.safeAttrValue=function(t,i){return yA.test(i)?"":i};var wA={indexOf:function(t,i){var e,n;if(Array.prototype.indexOf)return t.indexOf(i);for(e=0,n=t.length;e<n;e++)if(t[e]===i)return e;return-1},forEach:function(t,i,e){var n,r;if(Array.prototype.forEach)return t.forEach(i,e);for(n=0,r=t.length;n<r;n++)i.call(e,t[n],n,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")}};var kA=function(t,i){";"!==(t=wA.trimRight(t))[t.length-1]&&(t+=";");var e=t.length,n=!1,r=0,s=0,o="";function a(){if(!n){var e=wA.trim(t.slice(r,s)),a=e.indexOf(":");if(-1!==a){var u=wA.trim(e.slice(0,a)),h=wA.trim(e.slice(a+1));if(u){var c=i(r,o.length,u,h,e);c&&(o+=c+"; ")}}}r=s+1}for(;s<e;s++){var u=t[s];if("/"===u&&"*"===t[s+1]){var h=t.indexOf("*/",s+2);if(-1===h)break;r=(s=h+1)+1,n=!1}else"("===u?n=!0:")"===u?n=!1:";"===u?n||a():"\n"===u&&a()}return wA.trim(o)},xA=gA,_A=kA;function DA(t){return null==t}function MA(t){(t=function(t){var i={};for(var e in t)i[e]=t[e];return i}(t||{})).whiteList=t.whiteList||xA.whiteList,t.onAttr=t.onAttr||xA.onAttr,t.onIgnoreAttr=t.onIgnoreAttr||xA.onIgnoreAttr,t.safeAttrValue=t.safeAttrValue||xA.safeAttrValue,this.options=t}MA.prototype.process=function(t){if(!(t=(t=t||"").toString()))return"";var i=this.options,e=i.whiteList,n=i.onAttr,r=i.onIgnoreAttr,s=i.safeAttrValue,o=_A(t,(function(t,i,o,a,u){var h=e[o],c=!1;if(!0===h?c=h:"function"==typeof h?c=h(a):h instanceof RegExp&&(c=h.test(a)),!0!==c&&(c=!1),a=s(o,a)){var l,f={position:i,sourcePosition:t,source:u,isWhite:c};return c?DA(l=n(o,a,f))?o+":"+a:l:DA(l=r(o,a,f))?void 0:l}}));return o};var SA=MA;!function(t,i){var e=gA,n=SA;for(var r in i=t.exports=function(t,i){return new n(i).process(t)},i.FilterCSS=n,e)i[r]=e[r];"undefined"!=typeof window&&(window.filterCSS=t.exports)}(mA,pA);var jA={indexOf:function(t,i){var e,n;if(Array.prototype.indexOf)return t.indexOf(i);for(e=0,n=t.length;e<n;e++)if(t[e]===i)return e;return-1},forEach:function(t,i,e){var n,r;if(Array.prototype.forEach)return t.forEach(i,e);for(n=0,r=t.length;n<r;n++)i.call(e,t[n],n,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){var i=/\s|\n|\t/.exec(t);return i?i.index:-1}},FA=pA.FilterCSS,TA=pA.getDefaultWhiteList,EA=jA;function YA(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var AA=new FA;function CA(t){return t.replace(OA,"&lt;").replace(LA,"&gt;")}var OA=/</g,LA=/>/g,zA=/"/g,IA=/&quot;/g,NA=/&#([a-zA-Z0-9]*);?/gim,HA=/&colon;?/gim,PA=/&newline;?/gim,RA=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,BA=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,$A=/u\s*r\s*l\s*\(.*/gi;function GA(t){return t.replace(zA,"&quot;")}function WA(t){return t.replace(IA,'"')}function UA(t){return t.replace(NA,(function(t,i){return"x"===i[0]||"X"===i[0]?String.fromCharCode(parseInt(i.substr(1),16)):String.fromCharCode(parseInt(i,10))}))}function qA(t){return t.replace(HA,":").replace(PA," ")}function VA(t){for(var i="",e=0,n=t.length;e<n;e++)i+=t.charCodeAt(e)<32?" ":t.charAt(e);return EA.trim(i)}function XA(t){return t=VA(t=qA(t=UA(t=WA(t))))}function ZA(t){return t=CA(t=GA(t))}vA.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},vA.getDefaultWhiteList=YA,vA.onTag=function(t,i,e){},vA.onIgnoreTag=function(t,i,e){},vA.onTagAttr=function(t,i,e){},vA.onIgnoreTagAttr=function(t,i,e){},vA.safeAttrValue=function(t,i,e,n){if(e=XA(e),"href"===i||"src"===i){if("#"===(e=EA.trim(e)))return"#";if("http://"!==e.substr(0,7)&&"https://"!==e.substr(0,8)&&"mailto:"!==e.substr(0,7)&&"tel:"!==e.substr(0,4)&&"data:image/"!==e.substr(0,11)&&"ftp://"!==e.substr(0,6)&&"./"!==e.substr(0,2)&&"../"!==e.substr(0,3)&&"#"!==e[0]&&"/"!==e[0])return""}else if("background"===i){if(RA.lastIndex=0,RA.test(e))return""}else if("style"===i){if(BA.lastIndex=0,BA.test(e))return"";if($A.lastIndex=0,$A.test(e)&&(RA.lastIndex=0,RA.test(e)))return"";!1!==n&&(e=(n=n||AA).process(e))}return e=ZA(e)},vA.escapeHtml=CA,vA.escapeQuote=GA,vA.unescapeQuote=WA,vA.escapeHtmlEntities=UA,vA.escapeDangerHtml5Entities=qA,vA.clearNonPrintableCharacter=VA,vA.friendlyAttrValue=XA,vA.escapeAttrValue=ZA,vA.onIgnoreTagStripAll=function(){return""},vA.StripTagBody=function(t,i){"function"!=typeof i&&(i=function(){});var e=!Array.isArray(t),n=[],r=!1;return{onIgnoreTag:function(s,o,a){if(function(i){return!!e||-1!==EA.indexOf(t,i)}(s)){if(a.isClosing){var u="[/removed]",h=a.position+u.length;return n.push([!1!==r?r:a.position,h]),r=!1,u}return r||(r=a.position),"[removed]"}return i(s,o,a)},remove:function(t){var i="",e=0;return EA.forEach(n,(function(n){i+=t.slice(e,n[0]),e=n[1]})),i+=t.slice(e)}}},vA.stripCommentTag=function(t){for(var i="",e=0;e<t.length;){var n=t.indexOf("\x3c!--",e);if(-1===n){i+=t.slice(e);break}i+=t.slice(e,n);var r=t.indexOf("--\x3e",n);if(-1===r)break;e=r+3}return i},vA.stripBlankChar=function(t){var i=t.split("");return(i=i.filter((function(t){var i=t.charCodeAt(0);return 127!==i&&(!(i<=31)||(10===i||13===i))}))).join("")},vA.cssFilter=AA,vA.getDefaultCSSWhiteList=TA;var JA={},KA=jA;function QA(t){var i,e=KA.spaceIndex(t);return i=-1===e?t.slice(1,-1):t.slice(1,e+1),"/"===(i=KA.trim(i).toLowerCase()).slice(0,1)&&(i=i.slice(1)),"/"===i.slice(-1)&&(i=i.slice(0,-1)),i}function tC(t){return"</"===t.slice(0,2)}var iC=/[^a-zA-Z0-9\\_:.-]/gim;function eC(t,i){for(;i<t.length;i++){var e=t[i];if(" "!==e)return"="===e?i:-1}}function nC(t,i){for(;i<t.length;i++){var e=t[i];if(" "!==e)return"'"===e||'"'===e?i:-1}}function rC(t,i){for(;i>0;i--){var e=t[i];if(" "!==e)return"="===e?i:-1}}function sC(t){return function(t){return'"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1]}(t)?t.substr(1,t.length-2):t}JA.parseTag=function(t,i,e){var n="",r=0,s=!1,o=!1,a=0,u=t.length,h="",c="";t:for(a=0;a<u;a++){var l=t.charAt(a);if(!1===s){if("<"===l){s=a;continue}}else if(!1===o){if("<"===l){n+=e(t.slice(r,a)),s=a,r=a;continue}if(">"===l||a===u-1){n+=e(t.slice(r,s)),h=QA(c=t.slice(s,a+1)),n+=i(s,n.length,h,c,tC(c)),r=a+1,s=!1;continue}if('"'===l||"'"===l)for(var f=1,d=t.charAt(a-f);""===d.trim()||"="===d;){if("="===d){o=l;continue t}d=t.charAt(a-++f)}}else if(l===o){o=!1;continue}}return r<u&&(n+=e(t.substr(r))),n},JA.parseAttr=function(t,i){var e=0,n=0,r=[],s=!1,o=t.length;function a(t,e){if(!((t=(t=KA.trim(t)).replace(iC,"").toLowerCase()).length<1)){var n=i(t,e||"");n&&r.push(n)}}for(var u=0;u<o;u++){var h,c=t.charAt(u);if(!1!==s||"="!==c)if(!1===s||u!==n)if(/\s|\n|\t/.test(c)){if(t=t.replace(/\s|\n|\t/g," "),!1===s){if(-1===(h=eC(t,u))){a(KA.trim(t.slice(e,u))),s=!1,e=u+1;continue}u=h-1;continue}if(-1===(h=rC(t,u-1))){a(s,sC(KA.trim(t.slice(e,u)))),s=!1,e=u+1;continue}}else;else{if(-1===(h=t.indexOf(c,u+1)))break;a(s,KA.trim(t.slice(n+1,h))),s=!1,e=(u=h)+1}else s=t.slice(e,u),e=u+1,n='"'===t.charAt(e)||"'"===t.charAt(e)?e:nC(t,u+1)}return e<t.length&&(!1===s?a(t.slice(e)):a(s,sC(KA.trim(t.slice(e))))),KA.trim(r.join(" "))};var oC=pA.FilterCSS,aC=vA,uC=JA,hC=uC.parseTag,cC=uC.parseAttr,lC=jA;function fC(t){return null==t}function dC(t){(t=function(t){var i={};for(var e in t)i[e]=t[e];return i}(t||{})).stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=aC.onIgnoreTagStripAll),t.whiteList||t.allowList?t.whiteList=function(t){var i={};for(var e in t)Array.isArray(t[e])?i[e.toLowerCase()]=t[e].map((function(t){return t.toLowerCase()})):i[e.toLowerCase()]=t[e];return i}(t.whiteList||t.allowList):t.whiteList=aC.whiteList,t.onTag=t.onTag||aC.onTag,t.onTagAttr=t.onTagAttr||aC.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||aC.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||aC.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||aC.safeAttrValue,t.escapeHtml=t.escapeHtml||aC.escapeHtml,this.options=t,!1===t.css?this.cssFilter=!1:(t.css=t.css||{},this.cssFilter=new oC(t.css))}dC.prototype.process=function(t){if(!(t=(t=t||"").toString()))return"";var i=this.options,e=i.whiteList,n=i.onTag,r=i.onIgnoreTag,s=i.onTagAttr,o=i.onIgnoreTagAttr,a=i.safeAttrValue,u=i.escapeHtml,h=this.cssFilter;i.stripBlankChar&&(t=aC.stripBlankChar(t)),i.allowCommentTag||(t=aC.stripCommentTag(t));var c=!1;i.stripIgnoreTagBody&&(c=aC.StripTagBody(i.stripIgnoreTagBody,r),r=c.onIgnoreTag);var l=hC(t,(function(t,i,c,l,f){var d={sourcePosition:t,position:i,isClosing:f,isWhite:Object.prototype.hasOwnProperty.call(e,c)},v=n(c,l,d);if(!fC(v))return v;if(d.isWhite){if(d.isClosing)return"</"+c+">";var p=function(t){var i=lC.spaceIndex(t);if(-1===i)return{html:"",closing:"/"===t[t.length-2]};var e="/"===(t=lC.trim(t.slice(i+1,-1)))[t.length-1];return e&&(t=lC.trim(t.slice(0,-1))),{html:t,closing:e}}(l),m=e[c],g=cC(p.html,(function(t,i){var e=-1!==lC.indexOf(m,t),n=s(c,t,i,e);return fC(n)?e?(i=a(c,t,i,h))?t+'="'+i+'"':t:fC(n=o(c,t,i,e))?void 0:n:n}));return l="<"+c,g&&(l+=" "+g),p.closing&&(l+=" /"),l+=">"}return fC(v=r(c,l,d))?u(l):v}),u);return c&&(l=c.remove(l)),l};var vC=dC;!function(t,i){var e=vA,n=JA,r=vC;function s(t,i){return new r(i).process(t)}(i=t.exports=s).filterXSS=s,i.FilterXSS=r,function(){for(var t in e)i[t]=e[t];for(var r in n)i[r]=n[r]}(),"undefined"!=typeof window&&(window.filterXSS=t.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=t.exports)}(dA,fA);var pC=fA;function mC(t,i){var e=bv(t);if(Ec){var n=Ec(t);i&&(n=ng(n).call(n,(function(i){return $c(t,i).enumerable}))),e.push.apply(e,n)}return e}function gC(t){for(var i=1;i<arguments.length;i++){var e,n,r=null!=arguments[i]?arguments[i]:{};i%2?up(e=mC(Object(r),!0)).call(e,(function(i){qf(t,i,r[i])})):nl?vl(t,nl(r)):up(n=mC(Object(r))).call(n,(function(i){Ml(t,i,$c(r,i))}))}return t}function bC(t){var i;if(!t)return!1;var e=null!==(i=t.idProp)&&void 0!==i?i:t._idProp;return!!e&&hA(e,t)}var yC=/^\/?Date\((-?\d+)/i,wC=/^\d+$/;function kC(t,i){var e;if(void 0!==t){if(null===t)return null;if(!i)return t;if("string"!=typeof i&&!(i instanceof String))throw new Error("Type must be a string");switch(i){case"boolean":case"Boolean":return Boolean(t);case"number":case"Number":return Nk(t)&&!isNaN(Date.parse(t))?lA(t).valueOf():Number(t.valueOf());case"string":case"String":return String(t);case"Date":try{return kC(t,"Moment").toDate()}catch(e){throw e instanceof TypeError?new TypeError("Cannot convert object of type "+$k(t)+" to type "+i):e}case"Moment":if(Ik(t))return lA(t);if(t instanceof Date)return lA(t.valueOf());if(lA.isMoment(t))return lA(t);if(Nk(t))return(e=yC.exec(t))?lA(Number(e[1])):(e=wC.exec(t),lA(e?Number(t):t));throw new TypeError("Cannot convert object of type "+$k(t)+" to type "+i);case"ISODate":if(Ik(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(lA.isMoment(t))return t.toDate().toISOString();if(Nk(t))return(e=yC.exec(t))?new Date(Number(e[1])).toISOString():lA(t).format();throw new Error("Cannot convert object of type "+$k(t)+" to type ISODate");case"ASPDate":if(Ik(t))return"/Date("+t+")/";if(t instanceof Date||lA.isMoment(t))return"/Date("+t.valueOf()+")/";if(Nk(t))return"/Date("+((e=yC.exec(t))?new Date(Number(e[1])).valueOf():new Date(t).valueOf())+")/";throw new Error("Cannot convert object of type "+$k(t)+" to type ASPDate");default:throw new Error("Unknown type ".concat(i))}}}function xC(t){var i,e,n,r,s,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{start:"Date",end:"Date"},u=t._idProp,h=new aA({fieldId:u}),c=fv(i=function(t){return new eA(t)}(t)).call(i,(function(t){var i;return lF(i=bv(t)).call(i,(function(i,e){return i[e]=kC(t[e],a[e]),i}),{})})).to(h);return c.all().start(),{add:function(){var i;return(i=t.getDataSet()).add.apply(i,arguments)},remove:function(){var i;return(i=t.getDataSet()).remove.apply(i,arguments)},update:function(){var i;return(i=t.getDataSet()).update.apply(i,arguments)},updateOnly:function(){var i;return(i=t.getDataSet()).updateOnly.apply(i,arguments)},clear:function(){var i;return(i=t.getDataSet()).clear.apply(i,arguments)},forEach:qv(e=up(h)).call(e,h),get:qv(n=h.get).call(n,h),getIds:qv(r=h.getIds).call(r,h),off:qv(s=h.off).call(s,h),on:qv(o=h.on).call(o,h),get length(){return h.length},idProp:u,type:a,rawDS:t,coercedDS:h,dispose:function(){return c.stop()}}}var _C=function(t){var i=new pC.FilterXSS(t);return function(t){return i.process(t)}},DC=function(t){return t},MC=_C(),SC=gC(gC({},kx),{},{convert:kC,setupXSSProtection:function(t){t&&(!0===t.disabled?(MC=DC,console.warn("You disabled XSS protection for vis-Timeline. I sure hope you know what you're doing!")):t.filterOptions&&(MC=_C(t.filterOptions)))}});Ml(SC,"xss",{get:function(){return MC}});var jC={},FC={get exports(){return jC},set exports(t){jC=t}},TC=M,EC=f,YC=It,AC=Sg.trim,CC=bg,OC=y("".charAt),LC=TC.parseFloat,zC=TC.Symbol,IC=zC&&zC.iterator,NC=1/LC(CC+"-0")!=-1/0||IC&&!EC((function(){LC(Object(IC))}))?function(t){var i=AC(YC(t)),e=LC(i);return 0===e&&"-"==OC(i,0)?-0:e}:LC;Cn({global:!0,forced:parseFloat!=NC},{parseFloat:NC});var HC=pi.parseFloat;!function(t){t.exports=HC}(FC);var PC=n(jC),RC=function(){function t(i,e){Sl(this,t),this.options=null,this.props=null}return Uf(t,[{key:"setOptions",value:function(t){t&&SC.extend(this.options,t)}},{key:"redraw",value:function(){return!1}},{key:"destroy",value:function(){}},{key:"_isResized",value:function(){var t=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,t}}]),t}(),BC={},$C={get exports(){return BC},set exports(t){BC=t}},GC=_,WC=It,UC=H,qC=RangeError;Cn({target:"String",proto:!0},{repeat:function(t){var i=WC(UC(this)),e="",n=GC(t);if(n<0||n==1/0)throw qC("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(i+=i))1&n&&(e+=i);return e}});var VC=wd("String").repeat,XC=ki,ZC=VC,JC=String.prototype,KC=function(t){var i=t.repeat;return"string"==typeof t||t===JC||XC(JC,t)&&i===JC.repeat?ZC:i},QC=KC;!function(t){t.exports=QC}($C);var tO=n(BC);function iO(t,i,e){if(e&&!ev(e))return iO(t,i,[e]);if(i.hiddenDates=[],e&&1==ev(e)){for(var n,r=0;r<e.length;r++)if(void 0===tO(e[r])){var s={};s.start=t(e[r].start).toDate().valueOf(),s.end=t(e[r].end).toDate().valueOf(),i.hiddenDates.push(s)}LE(n=i.hiddenDates).call(n,(function(t,i){return t.start-i.start}))}}function eO(t,i,e){if(e&&!ev(e))return eO(t,i,[e]);if(e&&void 0!==i.domProps.centerContainer.width){iO(t,i,e);for(var n=t(i.range.start),r=t(i.range.end),s=(i.range.end-i.range.start)/i.domProps.centerContainer.width,o=0;o<e.length;o++)if(void 0!==tO(e[o])){var a=t(e[o].start),u=t(e[o].end);if("Invalid Date"==a._d)throw new Error("Supplied start date is not valid: ".concat(e[o].start));if("Invalid Date"==u._d)throw new Error("Supplied end date is not valid: ".concat(e[o].end));if(u-a>=4*s){var h=0,c=r.clone();switch(tO(e[o])){case"daily":a.day()!=u.day()&&(h=1),a.dayOfYear(n.dayOfYear()),a.year(n.year()),a.subtract(7,"days"),u.dayOfYear(n.dayOfYear()),u.year(n.year()),u.subtract(7-h,"days"),c.add(1,"weeks");break;case"weekly":var l=u.diff(a,"days"),f=a.day();a.date(n.date()),a.month(n.month()),a.year(n.year()),u=a.clone(),a.day(f),u.day(f),u.add(l,"days"),a.subtract(1,"weeks"),u.subtract(1,"weeks"),c.add(1,"weeks");break;case"monthly":a.month()!=u.month()&&(h=1),a.month(n.month()),a.year(n.year()),a.subtract(1,"months"),u.month(n.month()),u.year(n.year()),u.subtract(1,"months"),u.add(h,"months"),c.add(1,"months");break;case"yearly":a.year()!=u.year()&&(h=1),a.year(n.year()),a.subtract(1,"years"),u.year(n.year()),u.subtract(1,"years"),u.add(h,"years"),c.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",tO(e[o]))}for(;a<c;)switch(i.hiddenDates.push({start:a.valueOf(),end:u.valueOf()}),tO(e[o])){case"daily":a.add(1,"days"),u.add(1,"days");break;case"weekly":a.add(1,"weeks"),u.add(1,"weeks");break;case"monthly":a.add(1,"months"),u.add(1,"months");break;case"yearly":a.add(1,"y"),u.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",tO(e[o]))}i.hiddenDates.push({start:a.valueOf(),end:u.valueOf()})}}nO(i);var d=dO(i.range.start,i.hiddenDates),v=dO(i.range.end,i.hiddenDates),p=i.range.start,m=i.range.end;1==d.hidden&&(p=1==i.range.startToFront?d.startDate-1:d.endDate+1),1==v.hidden&&(m=1==i.range.endToFront?v.startDate-1:v.endDate+1),1!=d.hidden&&1!=v.hidden||i.range._applyRange(p,m)}}function nO(t){for(var i,e=t.hiddenDates,n=[],r=0;r<e.length;r++)for(var s=0;s<e.length;s++)r!=s&&1!=e[s].remove&&1!=e[r].remove&&(e[s].start>=e[r].start&&e[s].end<=e[r].end?e[s].remove=!0:e[s].start>=e[r].start&&e[s].start<=e[r].end?(e[r].end=e[s].end,e[s].remove=!0):e[s].end>=e[r].start&&e[s].end<=e[r].end&&(e[r].start=e[s].start,e[s].remove=!0));for(r=0;r<e.length;r++)!0!==e[r].remove&&n.push(e[r]);t.hiddenDates=n,LE(i=t.hiddenDates).call(i,(function(t,i){return t.start-i.start}))}function rO(t,i,e){for(var n=!1,r=i.current.valueOf(),s=0;s<i.hiddenDates.length;s++){var o=i.hiddenDates[s].start,a=i.hiddenDates[s].end;if(r>=o&&r<a){n=!0;break}}if(1==n&&r<i._end.valueOf()&&r!=e){var u=t(e),h=t(a);u.year()!=h.year()?i.switchedYear=!0:u.month()!=h.month()?i.switchedMonth=!0:u.dayOfYear()!=h.dayOfYear()&&(i.switchedDay=!0),i.current=h}}function sO(t,i,e){var n;if(0==t.body.hiddenDates.length)return n=t.range.conversion(e),(i.valueOf()-n.offset)*n.scale;var r=dO(i,t.body.hiddenDates);1==r.hidden&&(i=r.startDate);var s=aO(t.body.hiddenDates,t.range.start,t.range.end);if(i<t.range.start){n=t.range.conversion(e,s);var o=uO(t.body.hiddenDates,i,n.offset);return i=t.options.moment(i).toDate().valueOf(),i+=o,-(n.offset-i.valueOf())*n.scale}if(i>t.range.end){var a={start:t.range.start,end:i};return i=hO(t.options.moment,t.body.hiddenDates,a,i),n=t.range.conversion(e,s),(i.valueOf()-n.offset)*n.scale}return i=hO(t.options.moment,t.body.hiddenDates,t.range,i),n=t.range.conversion(e,s),(i.valueOf()-n.offset)*n.scale}function oO(t,i,e){if(0==t.body.hiddenDates.length){var n=t.range.conversion(e);return new Date(i/n.scale+n.offset)}var r=aO(t.body.hiddenDates,t.range.start,t.range.end),s=(t.range.end-t.range.start-r)*i/e,o=lO(t.body.hiddenDates,t.range,s);return new Date(o+s+t.range.start)}function aO(t,i,e){for(var n=0,r=0;r<t.length;r++){var s=t[r].start,o=t[r].end;s>=i&&o<e&&(n+=o-s)}return n}function uO(t,i,e){for(var n=0,r=0;r<t.length;r++){var s=t[r].start,o=t[r].end;s>=i&&o<=e&&(n+=o-s)}return n}function hO(t,i,e,n){return n=t(n).toDate().valueOf(),n-=cO(t,i,e,n)}function cO(t,i,e,n){var r=0;n=t(n).toDate().valueOf();for(var s=0;s<i.length;s++){var o=i[s].start,a=i[s].end;o>=e.start&&a<e.end&&n>=a&&(r+=a-o)}return r}function lO(t,i,e){for(var n=0,r=0,s=i.start,o=0;o<t.length;o++){var a=t[o].start,u=t[o].end;if(a>=i.start&&u<i.end){if(r+=a-s,s=u,r>=e)break;n+=u-a}}return n}function fO(t,i,e,n){var r=dO(i,t);return 1==r.hidden?e<0?1==n?r.startDate-(r.endDate-i)-1:r.startDate-1:1==n?r.endDate+(i-r.startDate)+1:r.endDate+1:i}function dO(t,i){for(var e=0;e<i.length;e++){var n=i[e].start,r=i[e].end;if(t>=n&&t<r)return{hidden:!0,startDate:n,endDate:r}}return{hidden:!1,startDate:n,endDate:r}}var vO=Object.freeze({__proto__:null,convertHiddenOptions:iO,correctTimeForHidden:hO,getAccumulatedHiddenDuration:lO,getHiddenDurationBefore:cO,getHiddenDurationBeforeStart:uO,getHiddenDurationBetween:aO,getIsHidden:dO,printDates:function(t){for(var i=0;i<t.length;i++)console.log(i,new Date(t[i].start),new Date(t[i].end),t[i].start,t[i].end,t[i].remove)},removeDuplicates:nO,snapAwayFromHidden:fO,stepOverHiddenDates:rO,toScreen:sO,toTime:oO,updateHiddenDates:eO});function pO(t){var i=function(){if("undefined"==typeof Reflect||!BY)return!1;if(BY.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(BY(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,n=e_(t);if(i){var r=e_(this).constructor;e=BY(n,arguments,r)}else e=n.apply(this,arguments);return Zx(this,e)}}var mO=function(t){Xx(e,t);var i=pO(e);function e(t,n){var r,s,o,a,u,h,c,l;Sl(this,e),l=i.call(this);var f=cA().hours(0).minutes(0).seconds(0).milliseconds(0),d=f.clone().add(-3,"days").valueOf(),v=f.clone().add(3,"days").valueOf();return l.millisecondsPerPixelCache=void 0,void 0===n?(l.start=d,l.end=v):(l.start=n.start||d,l.end=n.end||v),l.rolling=!1,l.body=t,l.deltaDifference=0,l.scaleOffset=0,l.startToFront=!1,l.endToFront=!0,l.defaultOptions={rtl:!1,start:null,end:null,moment:cA,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10,rollingMode:{follow:!1,offset:.5}},l.options=SC.extend({},l.defaultOptions),l.props={touch:{}},l.animationTimer=null,l.body.emitter.on("panstart",qv(r=l._onDragStart).call(r,Yx(l))),l.body.emitter.on("panmove",qv(s=l._onDrag).call(s,Yx(l))),l.body.emitter.on("panend",qv(o=l._onDragEnd).call(o,Yx(l))),l.body.emitter.on("mousewheel",qv(a=l._onMouseWheel).call(a,Yx(l))),l.body.emitter.on("touch",qv(u=l._onTouch).call(u,Yx(l))),l.body.emitter.on("pinch",qv(h=l._onPinch).call(h,Yx(l))),l.body.dom.rollingModeBtn.addEventListener("click",qv(c=l.startRolling).call(c,Yx(l))),l.setOptions(n),l}return Uf(e,[{key:"setOptions",value:function(t){if(t){SC.selectiveExtend(["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","zoomFriction","rtl","showCurrentTime","rollingMode","horizontalScroll"],this.options,t),t.rollingMode&&t.rollingMode.follow&&this.startRolling(),("start"in t||"end"in t)&&this.setRange(t.start,t.end)}}},{key:"startRolling",value:function(){var t=this;!function i(){t.stopRolling(),t.rolling=!0;var e=t.end-t.start,n=SC.convert(new Date,"Date").valueOf(),r=t.options.rollingMode&&t.options.rollingMode.offset||.5,s=n-e*r,o=n+e*(1-r);t.setRange(s,o,{animation:!1}),(e=1/t.conversion(t.body.domProps.center.width).scale/10)<30&&(e=30),e>1e3&&(e=1e3),t.body.dom.rollingModeBtn.style.visibility="hidden",t.currentTimeTimer=Vb(i,e)}()}},{key:"stopRolling",value:function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")}},{key:"setRange",value:function(t,i,e,n,r){e||(e={}),!0!==e.byUser&&(e.byUser=!1);var s=this,o=null!=t?SC.convert(t,"Date").valueOf():null,a=null!=i?SC.convert(i,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,e.animation){var u,h=this.start,c=this.end,l="object"===If(e.animation)&&"duration"in e.animation?e.animation.duration:500,f="object"===If(e.animation)&&"easingFunction"in e.animation?e.animation.easingFunction:"easeInOutQuad",d=SC.easingFunctions[f];if(!d)throw new Error(Vd(u="Unknown easing function ".concat(Mb(f),". Choose from: ")).call(u,bv(SC.easingFunctions).join(", ")));var v=Mv(),p=!1;return function t(){if(!s.props.touch.dragging){var i=Mv()-v,u=d(i/l),f=i>l,g=f||null===o?o:h+(o-h)*u,b=f||null===a?a:c+(a-c)*u;m=s._applyRange(g,b),eO(s.options.moment,s.body,s.options.hiddenDates),p=p||m;var y={start:new Date(s.start),end:new Date(s.end),byUser:e.byUser,event:e.event};if(r&&r(u,m,f),m&&s.body.emitter.emit("rangechange",y),f){if(p&&(s.body.emitter.emit("rangechanged",y),n))return n()}else s.animationTimer=Vb(t,20)}}()}var m=this._applyRange(o,a);if(eO(this.options.moment,this.body,this.options.hiddenDates),m){var g={start:new Date(this.start),end:new Date(this.end),byUser:e.byUser,event:e.event};if(this.body.emitter.emit("rangechange",g),clearTimeout(s.timeoutID),s.timeoutID=Vb((function(){s.body.emitter.emit("rangechanged",g)}),200),n)return n()}}},{key:"getMillisecondsPerPixel",value:function(){return void 0===this.millisecondsPerPixelCache&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache}},{key:"_cancelAnimation",value:function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)}},{key:"_applyRange",value:function(t,i){var e,n=null!=t?SC.convert(t,"Date").valueOf():this.start,r=null!=i?SC.convert(i,"Date").valueOf():this.end,s=null!=this.options.max?SC.convert(this.options.max,"Date").valueOf():null,o=null!=this.options.min?SC.convert(this.options.min,"Date").valueOf():null;if(isNaN(n)||null===n)throw new Error('Invalid start "'.concat(t,'"'));if(isNaN(r)||null===r)throw new Error('Invalid end "'.concat(i,'"'));if(r<n&&(r=n),null!==o&&n<o&&(n+=e=o-n,r+=e,null!=s&&r>s&&(r=s)),null!==s&&r>s&&(n-=e=r-s,r-=e,null!=o&&n<o&&(n=o)),null!==this.options.zoomMin){var a=PC(this.options.zoomMin);if(a<0&&(a=0),r-n<a){this.end-this.start===a&&n>=this.start-.5&&r<=this.end?(n=this.start,r=this.end):(n-=(e=a-(r-n))/2,r+=e/2)}}if(null!==this.options.zoomMax){var u=PC(this.options.zoomMax);u<0&&(u=0),r-n>u&&(this.end-this.start===u&&n<this.start&&r>this.end?(n=this.start,r=this.end):(n+=(e=r-n-u)/2,r-=e/2))}var h=this.start!=n||this.end!=r;return n>=this.start&&n<=this.end||r>=this.start&&r<=this.end||this.start>=n&&this.start<=r||this.end>=n&&this.end<=r||this.body.emitter.emit("checkRangedItems"),this.start=n,this.end=r,h}},{key:"getRange",value:function(){return{start:this.start,end:this.end}}},{key:"conversion",value:function(t,i){return e.conversion(this.start,this.end,t,i)}},{key:"_onDragStart",value:function(t){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(t)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))}},{key:"_onDrag",value:function(t){if(t&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var i=this.options.direction;gO(i);var e="horizontal"==i?t.deltaX:t.deltaY;e-=this.deltaDifference;var n=this.props.touch.end-this.props.touch.start;n-=aO(this.body.hiddenDates,this.start,this.end);var r,s="horizontal"==i?this.body.domProps.center.width:this.body.domProps.center.height;r=this.options.rtl?e/s*n:-e/s*n;var o=this.props.touch.start+r,a=this.props.touch.end+r,u=fO(this.body.hiddenDates,o,this.previousDelta-e,!0),h=fO(this.body.hiddenDates,a,this.previousDelta-e,!0);if(u!=o||h!=a)return this.deltaDifference+=e,this.props.touch.start=u,this.props.touch.end=h,void this._onDrag(t);this.previousDelta=e,this._applyRange(o,a);var c=new Date(this.start),l=new Date(this.end);this.body.emitter.emit("rangechange",{start:c,end:l,byUser:!0,event:t}),this.body.emitter.emit("panmove")}}},{key:"_onDragEnd",value:function(t){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:t}))}},{key:"_onMouseWheel",value:function(t){var i=0;if(t.wheelDelta?i=t.wheelDelta/120:t.detail?i=-t.detail/3:t.deltaY&&(i=-t.deltaY/3),!(this.options.zoomKey&&!t[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(t)&&i){var e,n,r=this.options.zoomFriction||5;if(e=i<0?1-i/r:1/(1+i/r),this.rolling){var s=this.options.rollingMode&&this.options.rollingMode.offset||.5;n=this.start+(this.end-this.start)*s}else{var o=this.getPointer({x:t.clientX,y:t.clientY},this.body.dom.center);n=this._pointerToDate(o)}this.zoom(e,n,i,t),t.preventDefault()}}},{key:"_onTouch",value:function(t){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.props.touch.centerDate=null,this.scaleOffset=0,this.deltaDifference=0,SC.preventDefault(t)}},{key:"_onPinch",value:function(t){if(this.options.zoomable&&this.options.moveable){SC.preventDefault(t),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(t.center,this.body.dom.center),this.props.touch.centerDate=this._pointerToDate(this.props.touch.center)),this.stopRolling();var i=1/(t.scale+this.scaleOffset),e=this.props.touch.centerDate,n=aO(this.body.hiddenDates,this.start,this.end),r=cO(this.options.moment,this.body.hiddenDates,this,e),s=n-r,o=e-r+(this.props.touch.start-(e-r))*i,a=e+s+(this.props.touch.end-(e+s))*i;this.startToFront=1-i<=0,this.endToFront=i-1<=0;var u=fO(this.body.hiddenDates,o,1-i,!0),h=fO(this.body.hiddenDates,a,i-1,!0);u==o&&h==a||(this.props.touch.start=u,this.props.touch.end=h,this.scaleOffset=1-t.scale,o=u,a=h);var c={animation:!1,byUser:!0,event:t};this.setRange(o,a,c),this.startToFront=!1,this.endToFront=!0}}},{key:"_isInsideRange",value:function(t){var i=t.center?t.center.x:t.clientX,e=this.body.dom.centerContainer.getBoundingClientRect(),n=this.options.rtl?i-e.left:e.right-i,r=this.body.util.toTime(n);return r>=this.start&&r<=this.end}},{key:"_pointerToDate",value:function(t){var i,e=this.options.direction;if(gO(e),"horizontal"==e)return this.body.util.toTime(t.x).valueOf();var n=this.body.domProps.center.height;return i=this.conversion(n),t.y/i.scale+i.offset}},{key:"getPointer",value:function(t,i){var e=i.getBoundingClientRect();return this.options.rtl?{x:e.right-t.x,y:t.y-e.top}:{x:t.x-e.left,y:t.y-e.top}}},{key:"zoom",value:function(t,i,e,n){null==i&&(i=(this.start+this.end)/2);var r=aO(this.body.hiddenDates,this.start,this.end),s=cO(this.options.moment,this.body.hiddenDates,this,i),o=r-s,a=i-s+(this.start-(i-s))*t,u=i+o+(this.end-(i+o))*t;this.startToFront=!(e>0),this.endToFront=!(-e>0);var h=fO(this.body.hiddenDates,a,e,!0),c=fO(this.body.hiddenDates,u,-e,!0);h==a&&c==u||(a=h,u=c);var l={animation:!1,byUser:!0,event:n};this.setRange(a,u,l),this.startToFront=!1,this.endToFront=!0}},{key:"move",value:function(t){var i=this.end-this.start,e=this.start+i*t,n=this.end+i*t;this.start=e,this.end=n}},{key:"moveTo",value:function(t){var i=(this.start+this.end)/2-t,e=this.start-i,n=this.end-i;this.setRange(e,n,{animation:!1,byUser:!0,event:null})}}],[{key:"conversion",value:function(t,i,e,n){return void 0===n&&(n=0),0!=e&&i-t!=0?{offset:t,scale:e/(i-t-n)}:{offset:0,scale:1}}}]),e}(RC);function gO(t){if("horizontal"!=t&&"vertical"!=t)throw new TypeError('Unknown direction "'.concat(t,'". Choose "horizontal" or "vertical".'))}var bO={},yO=pi.setInterval;!function(t){t.exports=yO}({get exports(){return bO},set exports(t){bO=t}});var wO,kO=n(bO),xO=null;"undefined"!=typeof window?wO=function t(i,e){var n=e||{preventDefault:!1};if(i.Manager){var r=i,s=function(i,e){var s=Object.create(n);return e&&r.assign(s,e),t(new r(i,s),s)};return r.assign(s,r),s.Manager=function(i,e){var s=Object.create(n);return e&&r.assign(s,e),t(new r.Manager(i,s),s)},s}var o=Object.create(i),a=i.element;function u(t){return t.match(/[^ ]+/g)}function h(t){if("hammer.input"!==t.type){if(t.srcEvent._handled||(t.srcEvent._handled={}),t.srcEvent._handled[t.type])return;t.srcEvent._handled[t.type]=!0}var i=!1;t.stopPropagation=function(){i=!0};var e=t.srcEvent.stopPropagation.bind(t.srcEvent);"function"==typeof e&&(t.srcEvent.stopPropagation=function(){e(),t.stopPropagation()}),t.firstTarget=xO;for(var n=xO;n&&!i;){var r=n.hammer;if(r)for(var s,o=0;o<r.length;o++)if(s=r[o]._handlers[t.type])for(var a=0;a<s.length&&!i;a++)s[a](t);n=n.parentNode}}return a.hammer||(a.hammer=[]),a.hammer.push(o),i.on("hammer.input",(function(t){!0!==n.preventDefault&&n.preventDefault!==t.pointerType||t.preventDefault(),t.isFirst&&(xO=t.target)})),o._handlers={},o.on=function(t,e){return u(t).forEach((function(t){var n=o._handlers[t];n||(o._handlers[t]=n=[],i.on(t,h)),n.push(e)})),o},o.off=function(t,e){return u(t).forEach((function(t){var n=o._handlers[t];n&&((n=e?n.filter((function(t){return t!==e})):[]).length>0?o._handlers[t]=n:(i.off(t,h),delete o._handlers[t]))})),o},o.emit=function(t,e){xO=e.target,i.emit(t,e)},o.destroy=function(){var t=i.element.hammer,e=t.indexOf(o);-1!==e&&t.splice(e,1),t.length||delete i.element.hammer,o._handlers={},i.destroy()},o}(window.Hammer||yk,{preventDefault:"mouse"}):wO=function(){return function(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:function(i){return{set:t}}}}()};var _O=wO;function DO(t,i){i.inputHandler=function(t){t.isFirst&&i(t)},t.on("hammer.input",i.inputHandler)}var MO=function(){function t(i,e,n,r,s){Sl(this,t),this.moment=s&&s.moment||cA,this.options=s||{},this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(i,e,n),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,ev(r)?this.hiddenDates=r:this.hiddenDates=null!=r?[r]:[],this.format=t.FORMAT}return Uf(t,[{key:"setMoment",value:function(t){this.moment=t,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())}},{key:"setFormat",value:function(i){var e=SC.deepExtend({},t.FORMAT);this.format=SC.deepExtend(e,i)}},{key:"setRange",value:function(t,i,e){if(!(t instanceof Date&&i instanceof Date))throw"No legal start or end date in method setRange";this._start=null!=t?this.moment(t.valueOf()):Mv(),this._end=null!=i?this.moment(i.valueOf()):Mv(),this.autoScale&&this.setMinimumStep(e)}},{key:"start",value:function(){this.current=this._start.clone(),this.roundToMinor()}},{key:"roundToMinor",value:function(){switch("week"==this.scale&&this.current.weekday(0),this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step){var t=this.current.clone();switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}t.isSame(this.current)||(this.current=this.moment(fO(this.hiddenDates,this.current.valueOf(),-1,!0)))}}},{key:"hasNext",value:function(){return this.current.valueOf()<=this._end.valueOf()}},{key:"next",value:function(){var t=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!=0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":if(0!==this.current.weekday())this.current.weekday(0),this.current.add(this.step,"week");else if(!1===this.options.showMajorLabels)this.current.add(this.step,"week");else{var i=this.current.clone();i.add(1,"week"),i.isSame(this.current,"month")?this.current.add(this.step,"week"):(this.current.add(this.step,"week"),this.current.date(1))}break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"week":this.current.week()<this.step&&this.current.week(1);break;case"month":this.current.month()<this.step&&this.current.month(0)}this.current.valueOf()==t&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,rO(this.moment,this,t)}},{key:"getCurrent",value:function(){return this.current.clone()}},{key:"setScale",value:function(t){t&&"string"==typeof t.scale&&(this.scale=t.scale,this.step=t.step>0?t.step:1,this.autoScale=!1)}},{key:"setAutoScale",value:function(t){this.autoScale=t}},{key:"setMinimumStep",value:function(t){if(null!=t){var i=31104e6,e=2592e6,n=864e5,r=36e5,s=6e4,o=1e3;1e3*i>t&&(this.scale="year",this.step=1e3),500*i>t&&(this.scale="year",this.step=500),100*i>t&&(this.scale="year",this.step=100),50*i>t&&(this.scale="year",this.step=50),10*i>t&&(this.scale="year",this.step=10),5*i>t&&(this.scale="year",this.step=5),i>t&&(this.scale="year",this.step=1),7776e6>t&&(this.scale="month",this.step=3),e>t&&(this.scale="month",this.step=1),6048e5>t&&this.options.showWeekScale&&(this.scale="week",this.step=1),1728e5>t&&(this.scale="day",this.step=2),n>t&&(this.scale="day",this.step=1),432e5>t&&(this.scale="weekday",this.step=1),144e5>t&&(this.scale="hour",this.step=4),r>t&&(this.scale="hour",this.step=1),9e5>t&&(this.scale="minute",this.step=15),6e5>t&&(this.scale="minute",this.step=10),3e5>t&&(this.scale="minute",this.step=5),s>t&&(this.scale="minute",this.step=1),15e3>t&&(this.scale="second",this.step=15),1e4>t&&(this.scale="second",this.step=10),5e3>t&&(this.scale="second",this.step=5),o>t&&(this.scale="second",this.step=1),200>t&&(this.scale="millisecond",this.step=200),100>t&&(this.scale="millisecond",this.step=100),50>t&&(this.scale="millisecond",this.step=50),10>t&&(this.scale="millisecond",this.step=10),5>t&&(this.scale="millisecond",this.step=5),1>t&&(this.scale="millisecond",this.step=1)}}},{key:"isMajor",value:function(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var t=this.moment(this.current);switch(this.scale){case"millisecond":return 0==t.milliseconds();case"second":return 0==t.seconds();case"minute":return 0==t.hours()&&0==t.minutes();case"hour":return 0==t.hours();case"weekday":case"day":return this.options.showWeekScale?1==t.isoWeekday():1==t.date();case"week":return 1==t.date();case"month":return 0==t.month();default:return!1}}},{key:"getLabelMinor",value:function(t){if(null==t&&(t=this.current),t instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.minorLabels)return this.format.minorLabels(t,this.scale,this.step);var i=this.format.minorLabels[this.scale];return"week"===this.scale&&1===t.date()&&0!==t.weekday()?"":i&&i.length>0?this.moment(t).format(i):""}},{key:"getLabelMajor",value:function(t){if(null==t&&(t=this.current),t instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.majorLabels)return this.format.majorLabels(t,this.scale,this.step);var i=this.format.majorLabels[this.scale];return i&&i.length>0?this.moment(t).format(i):""}},{key:"getClassName",value:function(){var t,i=this.moment,e=this.moment(this.current),n=e.locale?e.locale("en"):e.lang("en"),r=this.step,s=[];function o(t){return t/r%2==0?" vis-even":" vis-odd"}function a(t){return t.isSame(Mv(),"day")?" vis-today":t.isSame(i().add(1,"day"),"day")?" vis-tomorrow":t.isSame(i().add(-1,"day"),"day")?" vis-yesterday":""}function u(t){return t.isSame(Mv(),"week")?" vis-current-week":""}function h(t){return t.isSame(Mv(),"month")?" vis-current-month":""}switch(this.scale){case"millisecond":s.push(a(n)),s.push(o(n.milliseconds()));break;case"second":s.push(a(n)),s.push(o(n.seconds()));break;case"minute":s.push(a(n)),s.push(o(n.minutes()));break;case"hour":s.push(Vd(t="vis-h".concat(n.hours())).call(t,4==this.step?"-h"+(n.hours()+4):"")),s.push(a(n)),s.push(o(n.hours()));break;case"weekday":s.push("vis-".concat(n.format("dddd").toLowerCase())),s.push(a(n)),s.push(u(n)),s.push(o(n.date()));break;case"day":s.push("vis-day".concat(n.date())),s.push("vis-".concat(n.format("MMMM").toLowerCase())),s.push(a(n)),s.push(h(n)),s.push(this.step<=2?a(n):""),s.push(this.step<=2?"vis-".concat(n.format("dddd").toLowerCase()):""),s.push(o(n.date()-1));break;case"week":s.push("vis-week".concat(n.format("w"))),s.push(u(n)),s.push(o(n.week()));break;case"month":s.push("vis-".concat(n.format("MMMM").toLowerCase())),s.push(h(n)),s.push(o(n.month()));break;case"year":s.push("vis-year".concat(n.year())),s.push(function(t){return t.isSame(Mv(),"year")?" vis-current-year":""}(n)),s.push(o(n.year()))}return ng(s).call(s,String).join(" ")}}],[{key:"snap",value:function(t,i,e){var n=cA(t);if("year"==i){var r=n.year()+Math.round(n.month()/12);n.year(Math.round(r/e)*e),n.month(0),n.date(0),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0)}else if("month"==i)n.date()>15?(n.date(1),n.add(1,"month")):n.date(1),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0);else if("week"==i)n.weekday()>2?(n.weekday(0),n.add(1,"week")):n.weekday(0),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0);else if("day"==i){switch(e){case 5:case 2:n.hours(24*Math.round(n.hours()/24));break;default:n.hours(12*Math.round(n.hours()/12))}n.minutes(0),n.seconds(0),n.milliseconds(0)}else if("weekday"==i){switch(e){case 5:case 2:n.hours(12*Math.round(n.hours()/12));break;default:n.hours(6*Math.round(n.hours()/6))}n.minutes(0),n.seconds(0),n.milliseconds(0)}else if("hour"==i){if(4===e)n.minutes(60*Math.round(n.minutes()/60));else n.minutes(30*Math.round(n.minutes()/30));n.seconds(0),n.milliseconds(0)}else if("minute"==i){switch(e){case 15:case 10:n.minutes(5*Math.round(n.minutes()/5)),n.seconds(0);break;case 5:n.seconds(60*Math.round(n.seconds()/60));break;default:n.seconds(30*Math.round(n.seconds()/30))}n.milliseconds(0)}else if("second"==i)switch(e){case 15:case 10:n.seconds(5*Math.round(n.seconds()/5)),n.milliseconds(0);break;case 5:n.milliseconds(1e3*Math.round(n.milliseconds()/1e3));break;default:n.milliseconds(500*Math.round(n.milliseconds()/500))}else if("millisecond"==i){var s=e>5?e/2:1;n.milliseconds(Math.round(n.milliseconds()/s)*s)}return n}}]),t}();function SO(t){var i=function(){if("undefined"==typeof Reflect||!BY)return!1;if(BY.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(BY(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,n=e_(t);if(i){var r=e_(this).constructor;e=BY(n,arguments,r)}else e=n.apply(this,arguments);return Zx(this,e)}}MO.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}};var jO=function(t){Xx(e,t);var i=SO(e);function e(t,n){var r;return Sl(this,e),(r=i.call(this)).dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},r.props={range:{start:0,end:0,minimumStep:0},lineTop:0},r.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,maxMinorChars:7,format:SC.extend({},MO.FORMAT),moment:cA,timeAxis:null},r.options=SC.extend({},r.defaultOptions),r.body=t,r._create(),r.setOptions(n),r}return Uf(e,[{key:"setOptions",value:function(t){t&&(SC.selectiveExtend(["showMinorLabels","showMajorLabels","showWeekScale","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,t),SC.selectiveDeepExtend(["format"],this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.axis=t.orientation:"object"===If(t.orientation)&&"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis)),"locale"in t&&("function"==typeof cA.locale?cA.locale(t.locale):cA.lang(t.locale)))}},{key:"_create",value:function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"}},{key:"destroy",value:function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null}},{key:"redraw",value:function(){var t=this.props,i=this.dom.foreground,e=this.dom.background,n="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,r=i.parentNode!==n;this._calculateCharSize();var s=this.options.showMinorLabels&&"none"!==this.options.orientation.axis,o=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;t.minorLabelHeight=s?t.minorCharHeight:0,t.majorLabelHeight=o?t.majorCharHeight:0,t.height=t.minorLabelHeight+t.majorLabelHeight,t.width=i.offsetWidth,t.minorLineHeight=this.body.domProps.root.height-t.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),t.minorLineWidth=1,t.majorLineHeight=t.minorLineHeight+t.majorLabelHeight,t.majorLineWidth=1;var a=i.nextSibling,u=e.nextSibling;return i.parentNode&&i.parentNode.removeChild(i),e.parentNode&&e.parentNode.removeChild(e),i.style.height="".concat(this.props.height,"px"),this._repaintLabels(),a?n.insertBefore(i,a):n.appendChild(i),u?this.body.dom.backgroundVertical.insertBefore(e,u):this.body.dom.backgroundVertical.appendChild(e),this._isResized()||r}},{key:"_repaintLabels",value:function(){var t=this.options.orientation.axis,i=SC.convert(this.body.range.start,"Number"),e=SC.convert(this.body.range.end,"Number"),n=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),r=n-cO(this.options.moment,this.body.hiddenDates,this.body.range,n);r-=this.body.util.toTime(0).valueOf();var s=new MO(new Date(i),new Date(e),r,this.body.hiddenDates,this.options);s.setMoment(this.options.moment),this.options.format&&s.setFormat(this.options.format),this.options.timeAxis&&s.setScale(this.options.timeAxis),this.step=s;var o,a,u,h,c,l,f=this.dom;f.redundant.lines=f.lines,f.redundant.majorTexts=f.majorTexts,f.redundant.minorTexts=f.minorTexts,f.lines=[],f.majorTexts=[],f.minorTexts=[];var d,v,p,m=0,g=void 0,b=0,y=1e3;for(s.start(),a=s.getCurrent(),h=this.body.util.toScreen(a);s.hasNext()&&b<y;){if(b++,c=s.isMajor(),p=s.getClassName(),o=a,u=h,s.next(),a=s.getCurrent(),d=m,m=(h=this.body.util.toScreen(a))-u,"week"===s.scale)l=!0;else l=m>=.4*d;if(this.options.showMinorLabels&&l){var w=this._repaintMinorText(u,s.getLabelMinor(o),t,p);w.style.width="".concat(m,"px")}c&&this.options.showMajorLabels?(u>0&&(null==g&&(g=u),w=this._repaintMajorText(u,s.getLabelMajor(o),t,p)),v=this._repaintMajorLine(u,m,t,p)):l?v=this._repaintMinorLine(u,m,t,p):v&&(v.style.width="".concat(Pg(v.style.width)+m,"px"))}if(b!==y||FO||(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to ".concat(y," lines.")),FO=!0),this.options.showMajorLabels){var k=this.body.util.toTime(0),x=s.getLabelMajor(k),_=x.length*(this.props.majorCharWidth||10)+10;(null==g||_<g)&&this._repaintMajorText(0,x,t,p)}up(SC).call(SC,this.dom.redundant,(function(t){for(;t.length;){var i=t.pop();i&&i.parentNode&&i.parentNode.removeChild(i)}}))}},{key:"_repaintMinorText",value:function(t,i,e,n){var r=this.dom.redundant.minorTexts.shift();if(!r){var s=document.createTextNode("");(r=document.createElement("div")).appendChild(s),this.dom.foreground.appendChild(r)}this.dom.minorTexts.push(r),r.innerHTML=SC.xss(i);var o="top"==e?this.props.majorLabelHeight:0;return this._setXY(r,t,o),r.className="vis-text vis-minor ".concat(n),r}},{key:"_repaintMajorText",value:function(t,i,e,n){var r=this.dom.redundant.majorTexts.shift();if(!r){var s=document.createElement("div");(r=document.createElement("div")).appendChild(s),this.dom.foreground.appendChild(r)}r.childNodes[0].innerHTML=SC.xss(i),r.className="vis-text vis-major ".concat(n);var o="top"==e?0:this.props.minorLabelHeight;return this._setXY(r,t,o),this.dom.majorTexts.push(r),r}},{key:"_setXY",value:function(t,i,e){var n,r=this.options.rtl?-1*i:i;t.style.transform=Vd(n="translate(".concat(r,"px, ")).call(n,e,"px)")}},{key:"_repaintMinorLine",value:function(t,i,e,n){var r,s=this.dom.redundant.lines.shift();s||(s=document.createElement("div"),this.dom.background.appendChild(s)),this.dom.lines.push(s);var o=this.props;s.style.width="".concat(i,"px"),s.style.height="".concat(o.minorLineHeight,"px");var a="top"==e?o.majorLabelHeight:this.body.domProps.top.height,u=t-o.minorLineWidth/2;return this._setXY(s,u,a),s.className=Vd(r="vis-grid ".concat(this.options.rtl?"vis-vertical-rtl":"vis-vertical"," vis-minor ")).call(r,n),s}},{key:"_repaintMajorLine",value:function(t,i,e,n){var r,s=this.dom.redundant.lines.shift();s||(s=document.createElement("div"),this.dom.background.appendChild(s)),this.dom.lines.push(s);var o=this.props;s.style.width="".concat(i,"px"),s.style.height="".concat(o.majorLineHeight,"px");var a="top"==e?0:this.body.domProps.top.height,u=t-o.majorLineWidth/2;return this._setXY(s,u,a),s.className=Vd(r="vis-grid ".concat(this.options.rtl?"vis-vertical-rtl":"vis-vertical"," vis-major ")).call(r,n),s}},{key:"_calculateCharSize",value:function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth}}]),e}(RC),FO=!1;function TO(t){var i,e=t&&t.preventDefault||!1,n=t&&t.container||window,r={},s={keydown:{},keyup:{}},o={};for(i=97;i<=122;i++)o[String.fromCharCode(i)]={code:i-97+65,shift:!1};for(i=65;i<=90;i++)o[String.fromCharCode(i)]={code:i,shift:!0};for(i=0;i<=9;i++)o[""+i]={code:48+i,shift:!1};for(i=1;i<=12;i++)o["F"+i]={code:111+i,shift:!1};for(i=0;i<=9;i++)o["num"+i]={code:96+i,shift:!1};o["num*"]={code:106,shift:!1},o["num+"]={code:107,shift:!1},o["num-"]={code:109,shift:!1},o["num/"]={code:111,shift:!1},o["num."]={code:110,shift:!1},o.left={code:37,shift:!1},o.up={code:38,shift:!1},o.right={code:39,shift:!1},o.down={code:40,shift:!1},o.space={code:32,shift:!1},o.enter={code:13,shift:!1},o.shift={code:16,shift:void 0},o.esc={code:27,shift:!1},o.backspace={code:8,shift:!1},o.tab={code:9,shift:!1},o.ctrl={code:17,shift:!1},o.alt={code:18,shift:!1},o.delete={code:46,shift:!1},o.pageup={code:33,shift:!1},o.pagedown={code:34,shift:!1},o["="]={code:187,shift:!1},o["-"]={code:189,shift:!1},o["]"]={code:221,shift:!1},o["["]={code:219,shift:!1};var a=function(t){h(t,"keydown")},u=function(t){h(t,"keyup")},h=function(t,i){if(void 0!==s[i][t.keyCode]){for(var n=s[i][t.keyCode],r=0;r<n.length;r++)(void 0===n[r].shift||1==n[r].shift&&1==t.shiftKey||0==n[r].shift&&0==t.shiftKey)&&n[r].fn(t);1==e&&t.preventDefault()}};return r.bind=function(t,i,e){if(void 0===e&&(e="keydown"),void 0===o[t])throw new Error("unsupported key: "+t);void 0===s[e][o[t].code]&&(s[e][o[t].code]=[]),s[e][o[t].code].push({fn:i,shift:o[t].shift})},r.bindAll=function(t,i){for(var e in void 0===i&&(i="keydown"),o)o.hasOwnProperty(e)&&r.bind(e,t,i)},r.getKey=function(t){for(var i in o)if(o.hasOwnProperty(i)){if(1==t.shiftKey&&1==o[i].shift&&t.keyCode==o[i].code)return i;if(0==t.shiftKey&&0==o[i].shift&&t.keyCode==o[i].code)return i;if(t.keyCode==o[i].code&&"shift"==i)return i}return"unknown key, currently not supported"},r.unbind=function(t,i,e){if(void 0===e&&(e="keydown"),void 0===o[t])throw new Error("unsupported key: "+t);if(void 0!==i){var n=[],r=s[e][o[t].code];if(void 0!==r)for(var a=0;a<r.length;a++)r[a].fn==i&&r[a].shift==o[t].shift||n.push(s[e][o[t].code][a]);s[e][o[t].code]=n}else s[e][o[t].code]=[]},r.reset=function(){s={keydown:{},keyup:{}}},r.destroy=function(){s={keydown:{},keyup:{}},n.removeEventListener("keydown",a,!0),n.removeEventListener("keyup",u,!0)},n.addEventListener("keydown",a,!0),n.addEventListener("keyup",u,!0),r}function EO(t){var i,e;this.active=!1,this.dom={container:t},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=_O(this.dom.overlay),this.hammer.on("tap",qv(i=this._onTapOverlay).call(i,this));var n=this,r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];up(r).call(r,(function(t){n.hammer.on(t,(function(t){t.stopPropagation()}))})),document&&document.body&&(this.onClick=function(i){(function(t,i){for(;t;){if(t===i)return!0;t=t.parentNode}return!1})(i.target,t)||n.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=TO(),this.escListener=qv(e=this.deactivate).call(e,this)}cy(EO.prototype),EO.current=null,EO.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=null,this.hammer.destroy(),this.hammer=null},EO.prototype.activate=function(){var t;EO.current&&EO.current.deactivate(),EO.current=this,this.active=!0,this.dom.overlay.style.display="none",SC.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),qv(t=this.keycharm).call(t,"esc",this.escListener)},EO.prototype.deactivate=function(){EO.current===this&&(EO.current=null),this.active=!1,this.dom.overlay.style.display="",SC.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},EO.prototype._onTapOverlay=function(t){this.activate(),t.stopPropagation()};var YO={current:"current",time:"time",deleteSelected:"Delete selected"},AO={current:"attuale",time:"tempo",deleteSelected:"Cancella la selezione"},CO={current:"huidige",time:"tijd",deleteSelected:"Selectie verwijderen"},OO={current:"Aktuelle",time:"Zeit",deleteSelected:"Lsche Auswahl"},LO={current:"actuel",time:"heure",deleteSelected:"Effacer la selection"},zO={current:"corriente",time:"hora",deleteSelected:"Eliminar seleccin"},IO={current:"",time:"",deleteSelected:" "},NO={current:"",time:"",deleteSelected:" "},HO={current:"aktualny",time:"czas",deleteSelected:"Usu wybrane"},PO={current:"atual",time:"data",deleteSelected:"Apagar selecionado"},RO={current:"",time:"",deleteSelected:""},BO={current:"nuvarande",time:"tid",deleteSelected:"Radera valda"},$O={current:"nvrende",time:"tid",deleteSelected:"Slett valgte"},GO={current:"einamas",time:"laikas",deleteSelected:"Paalinti pasirinkt"},WO={en:YO,en_EN:YO,en_US:YO,it:AO,it_IT:AO,it_CH:AO,nl:CO,nl_NL:CO,nl_BE:CO,de:OO,de_DE:OO,fr:LO,fr_FR:LO,fr_CA:LO,fr_BE:LO,es:zO,es_ES:zO,uk:IO,uk_UA:IO,ru:NO,ru_RU:NO,pl:HO,pl_PL:HO,pt:PO,pt_BR:PO,pt_PT:PO,ja:RO,ja_JP:RO,lt:GO,lt_LT:GO,sv:BO,sv_SE:BO,nb:$O,nn:$O,nb_NO:$O,nn_NO:$O};function UO(t){var i=function(){if("undefined"==typeof Reflect||!BY)return!1;if(BY.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(BY(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,n=e_(t);if(i){var r=e_(this).constructor;e=BY(n,arguments,r)}else e=n.apply(this,arguments);return Zx(this,e)}}var qO=function(t){Xx(e,t);var i=UO(e);function e(t,n){var r,s;Sl(this,e),(s=i.call(this)).body=t,s.defaultOptions={moment:cA,locales:WO,locale:"en",id:void 0,title:void 0},s.options=SC.extend({},s.defaultOptions),s.setOptions(n),s.options.locales=SC.extend({},WO,s.options.locales);var o=s.defaultOptions.locales[s.defaultOptions.locale];return up(r=bv(s.options.locales)).call(r,(function(t){s.options.locales[t]=SC.extend({},o,s.options.locales[t])})),n&&null!=n.time?s.customTime=n.time:s.customTime=new Date,s.eventParams={},s._create(),s}return Uf(e,[{key:"setOptions",value:function(t){t&&SC.selectiveExtend(["moment","locale","locales","id","title","rtl","snap"],this.options,t)}},{key:"_create",value:function(){var t,i,e,n=document.createElement("div");n["custom-time"]=this,n.className="vis-custom-time ".concat(this.options.id||""),n.style.position="absolute",n.style.top="0px",n.style.height="100%",this.bar=n;var r=document.createElement("div");function s(t){this.body.range._onMouseWheel(t)}r.style.position="relative",r.style.top="0px",this.options.rtl?r.style.right="-10px":r.style.left="-10px",r.style.height="100%",r.style.width="20px",r.addEventListener?(r.addEventListener("mousewheel",qv(s).call(s,this),!1),r.addEventListener("DOMMouseScroll",qv(s).call(s,this),!1)):r.attachEvent("onmousewheel",qv(s).call(s,this)),n.appendChild(r),this.hammer=new _O(r),this.hammer.on("panstart",qv(t=this._onDragStart).call(t,this)),this.hammer.on("panmove",qv(i=this._onDrag).call(i,this)),this.hammer.on("panend",qv(e=this._onDragEnd).call(e,this)),this.hammer.get("pan").set({threshold:5,direction:_O.DIRECTION_ALL}),this.hammer.get("press").set({time:1e4})}},{key:"destroy",value:function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null}},{key:"redraw",value:function(){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar));var i=this.body.util.toScreen(this.customTime),e=this.options.locales[this.options.locale];e||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),e=this.options.locales.en);var n,r=this.options.title;void 0===r?r=(r=Vd(n="".concat(e.time,": ")).call(n,this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss"))).charAt(0).toUpperCase()+r.substring(1):"function"==typeof r&&(r=r.call(this,this.customTime));return this.options.rtl?this.bar.style.right="".concat(i,"px"):this.bar.style.left="".concat(i,"px"),this.bar.title=r,!1}},{key:"hide",value:function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)}},{key:"setCustomTime",value:function(t){this.customTime=SC.convert(t,"Date"),this.redraw()}},{key:"getCustomTime",value:function(){return new Date(this.customTime.valueOf())}},{key:"setCustomMarker",value:function(t,i){var e,n,r=document.createElement("div");(r.className="vis-custom-time-marker",r.innerHTML=SC.xss(t),r.style.position="absolute",i)&&(r.setAttribute("contenteditable","true"),r.addEventListener("pointerdown",(function(){r.focus()})),r.addEventListener("input",qv(e=this._onMarkerChange).call(e,this)),r.title=t,r.addEventListener("blur",qv(n=function(t){this.title!=t.target.innerHTML&&(this._onMarkerChanged(t),this.title=t.target.innerHTML)}).call(n,this)));this.bar.appendChild(r)}},{key:"setCustomTitle",value:function(t){this.options.title=t}},{key:"_onDragStart",value:function(t){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,t.stopPropagation()}},{key:"_onDrag",value:function(t){if(this.eventParams.dragging){var i=this.options.rtl?-1*t.deltaX:t.deltaX,e=this.body.util.toScreen(this.eventParams.customTime)+i,n=this.body.util.toTime(e),r=this.body.util.getScale(),s=this.body.util.getStep(),o=this.options.snap,a=o?o(n,r,s):n;this.setCustomTime(a),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation()}}},{key:"_onDragEnd",value:function(t){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation())}},{key:"_onMarkerChange",value:function(t){this.body.emitter.emit("markerchange",{id:this.options.id,title:t.target.innerHTML,event:t}),t.stopPropagation()}},{key:"_onMarkerChanged",value:function(t){this.body.emitter.emit("markerchanged",{id:this.options.id,title:t.target.innerHTML,event:t}),t.stopPropagation()}}],[{key:"customTimeFromTarget",value:function(t){for(var i=t.target;i;){if(i.hasOwnProperty("custom-time"))return i["custom-time"];i=i.parentNode}return null}}]),e}(RC),VO=function(){function t(){Sl(this,t)}return Uf(t,[{key:"_create",value:function(t){var i,e,n,r=this;this.dom={},this.dom.container=t,this.dom.container.style.position="relative",this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.loadingScreen=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.loadingScreen.className="vis-loading-screen",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",(function(){!0===r.initialDrawDone&&r._redraw()})),this.on("rangechanged",(function(){r.initialRangeChangeDone||(r.initialRangeChangeDone=!0)})),this.on("touch",qv(i=this._onTouch).call(i,this)),this.on("panmove",qv(e=this._onDrag).call(e,this));var s=this;this._origRedraw=qv(n=this._redraw).call(n,this),this._redraw=SC.throttle(this._origRedraw),this.on("_change",(function(t){s.itemSet&&s.itemSet.initialItemSetDrawn&&t&&1==t.queue?s._redraw():s._origRedraw()})),this.hammer=new _O(this.dom.root);var o=this.hammer.get("pinch").set({enable:!0});o&&function(t){t.getTouchAction=function(){return["pan-y"]}}(o),this.hammer.get("pan").set({threshold:5,direction:_O.DIRECTION_ALL}),this.timelineListeners={};var a,u,h=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];function c(t){this.isActive()&&this.emit("mousewheel",t);var i=0,e=0;if("detail"in t&&(e=-1*t.detail),"wheelDelta"in t&&(e=t.wheelDelta),"wheelDeltaY"in t&&(e=t.wheelDeltaY),"wheelDeltaX"in t&&(i=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(i=-1*e,e=0),"deltaY"in t&&(e=-1*t.deltaY),"deltaX"in t&&(i=t.deltaX),t.deltaMode&&(1===t.deltaMode?(i*=40,e*=40):(i*=40,e*=800)),this.options.preferZoom){if(!this.options.zoomKey||t[this.options.zoomKey])return}else if(this.options.zoomKey&&t[this.options.zoomKey])return;if(this.options.verticalScroll||this.options.horizontalScroll)if(this.options.verticalScroll&&Math.abs(e)>=Math.abs(i)){var n=this.props.scrollTop,r=n+e;if(this.isActive())this._setScrollTop(r)!==n&&(this._redraw(),this.emit("scroll",t),t.preventDefault())}else if(this.options.horizontalScroll){var s=(Math.abs(i)>=Math.abs(e)?i:e)/120*(this.range.end-this.range.start)/20,o=this.range.start+s,a=this.range.end+s,u={animation:!1,byUser:!0,event:t};this.range.setRange(o,a,u),t.preventDefault()}}up(h).call(h,(function(t){var i=function(i){s.isActive()&&s.emit(t,i)};s.hammer.on(t,i),s.timelineListeners[t]=i})),DO(this.hammer,(function(t){s.emit("touch",t)})),a=this.hammer,(u=function(t){s.emit("release",t)}).inputHandler=function(t){t.isFinal&&u(t)},a.on("hammer.input",u.inputHandler);var l="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":this.dom.centerContainer.addEventListener?"DOMMouseScroll":"onmousewheel";function f(t){if(s.options.verticalScroll&&(t.preventDefault(),s.isActive())){var i=-t.target.scrollTop;s._setScrollTop(i),s._redraw(),s.emit("scrollSide",t)}}this.dom.centerContainer.addEventListener(l,qv(c).call(c,this),!1),this.dom.top.addEventListener(l,qv(c).call(c,this),!1),this.dom.bottom.addEventListener(l,qv(c).call(c,this),!1),this.dom.left.parentNode.addEventListener("scroll",qv(f).call(f,this)),this.dom.right.parentNode.addEventListener("scroll",qv(f).call(f,this));var d=!1;function v(t){var i;if(t.preventDefault&&(s.emit("dragover",s.getEventProperties(t)),t.preventDefault()),tb(i=t.target.className).call(i,"timeline")>-1&&!d)return t.dataTransfer.dropEffect="move",d=!0,!1}function p(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation();try{var i=JSON.parse(t.dataTransfer.getData("text"));if(!i||!i.content)return}catch(t){return!1}return d=!1,t.center={x:t.clientX,y:t.clientY},"item"!==i.target?s.itemSet._onAddItem(t):s.itemSet._onDropObjectOnItem(t),s.emit("drop",s.getEventProperties(t)),!1}if(this.dom.center.addEventListener("dragover",qv(v).call(v,this),!1),this.dom.center.addEventListener("drop",qv(p).call(p,this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!t)throw new Error("No container provided");t.appendChild(this.dom.root),t.appendChild(this.dom.loadingScreen)}},{key:"setOptions",value:function(t){var i;if(t){if(SC.selectiveExtend(["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","preferZoom","rtl","zoomKey","horizontalScroll","verticalScroll","longSelectPressTime","snap"],this.options,t),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),"object"!==If(this.options.orientation)&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation={item:t.orientation,axis:t.orientation}:"object"===If(t.orientation)&&("item"in t.orientation&&(this.options.orientation.item=t.orientation.item),"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var e=this.timeAxis2=new jO(this.body);e.setOptions=function(t){var i=t?SC.extend({},t):{};i.orientation="top",jO.prototype.setOptions.call(e,i)},this.components.push(e)}}else if(this.timeAxis2){var n,r,s=tb(n=this.components).call(n,this.timeAxis2);if(-1!==s)Jp(r=this.components).call(r,s,1);this.timeAxis2.destroy(),this.timeAxis2=null}"function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),"hiddenDates"in this.options&&iO(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in t&&(t.clickToUse?this.activator||(this.activator=new EO(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),this._initAutoResize()}if(up(i=this.components).call(i,(function(i){return i.setOptions(t)})),"configure"in t){var o;this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(t.configure);var a=SC.deepExtend({},this.options);up(o=this.components).call(o,(function(t){SC.deepExtend(a,t.options)})),this.configurator.setModuleOptions({global:a})}this._redraw()}},{key:"isActive",value:function(){return!this.activator||this.activator.active}},{key:"destroy",value:function(){var t;for(var i in this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator),this.timelineListeners)this.timelineListeners.hasOwnProperty(i)&&delete this.timelineListeners[i];this.timelineListeners=null,this.hammer&&this.hammer.destroy(),this.hammer=null,up(t=this.components).call(t,(function(t){return t.destroy()})),this.body=null}},{key:"setCustomTime",value:function(t,i){var e,n=ng(e=this.customTimes).call(e,(function(t){return i===t.options.id}));if(0===n.length)throw new Error("No custom time bar found with id ".concat(Mb(i)));n.length>0&&n[0].setCustomTime(t)}},{key:"getCustomTime",value:function(t){var i,e=ng(i=this.customTimes).call(i,(function(i){return i.options.id===t}));if(0===e.length)throw new Error("No custom time bar found with id ".concat(Mb(t)));return e[0].getCustomTime()}},{key:"setCustomTimeMarker",value:function(t,i,e){var n,r=ng(n=this.customTimes).call(n,(function(t){return t.options.id===i}));if(0===r.length)throw new Error("No custom time bar found with id ".concat(Mb(i)));r.length>0&&r[0].setCustomMarker(t,e)}},{key:"setCustomTimeTitle",value:function(t,i){var e,n=ng(e=this.customTimes).call(e,(function(t){return t.options.id===i}));if(0===n.length)throw new Error("No custom time bar found with id ".concat(Mb(i)));if(n.length>0)return n[0].setCustomTitle(t)}},{key:"getEventProperties",value:function(t){return{event:t}}},{key:"addCustomTime",value:function(t,i){var e,n=void 0!==t?SC.convert(t,"Date"):new Date,r=WE(e=this.customTimes).call(e,(function(t){return t.options.id===i}));if(r)throw new Error("A custom time with id ".concat(Mb(i)," already exists"));var s=new qO(this.body,SC.extend({},this.options,{time:n,id:i,snap:this.itemSet?this.itemSet.options.snap:this.options.snap}));return this.customTimes.push(s),this.components.push(s),this._redraw(),i}},{key:"removeCustomTime",value:function(t){var i,e=this,n=ng(i=this.customTimes).call(i,(function(i){return i.options.id===t}));if(0===n.length)throw new Error("No custom time bar found with id ".concat(Mb(t)));up(n).call(n,(function(t){var i,n,r,s;Jp(i=e.customTimes).call(i,tb(n=e.customTimes).call(n,t),1),Jp(r=e.components).call(r,tb(s=e.components).call(s,t),1),t.destroy()}))}},{key:"getVisibleItems",value:function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]}},{key:"getItemsAtCurrentTime",value:function(t){return this.time=t,this.itemSet&&this.itemSet.getItemsAtCurrentTime(this.time)||[]}},{key:"getVisibleGroups",value:function(){return this.itemSet&&this.itemSet.getVisibleGroups()||[]}},{key:"fit",value:function(t,i){var e=this.getDataRange();if(null!==e.min||null!==e.max){var n=e.max-e.min,r=new Date(e.min.valueOf()-.01*n),s=new Date(e.max.valueOf()+.01*n),o=!t||void 0===t.animation||t.animation;this.range.setRange(r,s,{animation:o},i)}}},{key:"getDataRange",value:function(){throw new Error("Cannot invoke abstract method getDataRange")}},{key:"setWindow",value:function(t,i,e,n){var r,s;"function"==typeof arguments[2]&&(n=arguments[2],e={}),1==arguments.length?(r=void 0===(s=arguments[0]).animation||s.animation,this.range.setRange(s.start,s.end,{animation:r})):2==arguments.length&&"function"==typeof arguments[1]?(n=arguments[1],r=void 0===(s=arguments[0]).animation||s.animation,this.range.setRange(s.start,s.end,{animation:r},n)):(r=!e||void 0===e.animation||e.animation,this.range.setRange(t,i,{animation:r},n))}},{key:"moveTo",value:function(t,i,e){"function"==typeof arguments[1]&&(e=arguments[1],i={});var n=this.range.end-this.range.start,r=SC.convert(t,"Date").valueOf(),s=r-n/2,o=r+n/2,a=!i||void 0===i.animation||i.animation;this.range.setRange(s,o,{animation:a},e)}},{key:"getWindow",value:function(){var t=this.range.getRange();return{start:new Date(t.start),end:new Date(t.end)}}},{key:"zoomIn",value:function(t,i,e){if(!(!t||t<0||t>1)){"function"==typeof arguments[1]&&(e=arguments[1],i={});var n=this.getWindow(),r=n.start.valueOf(),s=n.end.valueOf(),o=s-r,a=(o-o/(1+t))/2,u=r+a,h=s-a;this.setWindow(u,h,i,e)}}},{key:"zoomOut",value:function(t,i,e){if(!(!t||t<0||t>1)){"function"==typeof arguments[1]&&(e=arguments[1],i={});var n=this.getWindow(),r=n.start.valueOf(),s=n.end.valueOf(),o=s-r,a=r-o*t/2,u=s+o*t/2;this.setWindow(a,u,i,e)}}},{key:"redraw",value:function(){this._redraw()}},{key:"_redraw",value:function(){var t;this.redrawCount++;var i=this.dom;if(i&&i.container&&0!=i.root.offsetWidth){var e=!1,n=this.options,r=this.props;eO(this.options.moment,this.body,this.options.hiddenDates),"top"==n.orientation?(SC.addClassName(i.root,"vis-top"),SC.removeClassName(i.root,"vis-bottom")):(SC.removeClassName(i.root,"vis-top"),SC.addClassName(i.root,"vis-bottom")),n.rtl?(SC.addClassName(i.root,"vis-rtl"),SC.removeClassName(i.root,"vis-ltr")):(SC.addClassName(i.root,"vis-ltr"),SC.removeClassName(i.root,"vis-rtl")),i.root.style.maxHeight=SC.option.asSize(n.maxHeight,""),i.root.style.minHeight=SC.option.asSize(n.minHeight,""),i.root.style.width=SC.option.asSize(n.width,"");var s=i.root.offsetWidth;r.border.left=1,r.border.right=1,r.border.top=1,r.border.bottom=1,r.center.height=i.center.offsetHeight,r.left.height=i.left.offsetHeight,r.right.height=i.right.offsetHeight,r.top.height=i.top.clientHeight||-r.border.top,r.bottom.height=Math.round(i.bottom.getBoundingClientRect().height)||i.bottom.clientHeight||-r.border.bottom;var o=Math.max(r.left.height,r.center.height,r.right.height),a=r.top.height+o+r.bottom.height+r.border.top+r.border.bottom;i.root.style.height=SC.option.asSize(n.height,"".concat(a,"px")),r.root.height=i.root.offsetHeight,r.background.height=r.root.height;var u=r.root.height-r.top.height-r.bottom.height;r.centerContainer.height=u,r.leftContainer.height=u,r.rightContainer.height=r.leftContainer.height,r.root.width=s,r.background.width=r.root.width,this.initialDrawDone||(r.scrollbarWidth=SC.getScrollBarWidth());var h=i.leftContainer.clientWidth,c=i.rightContainer.clientWidth;n.verticalScroll?n.rtl?(r.left.width=h||-r.border.left,r.right.width=c+r.scrollbarWidth||-r.border.right):(r.left.width=h+r.scrollbarWidth||-r.border.left,r.right.width=c||-r.border.right):(r.left.width=h||-r.border.left,r.right.width=c||-r.border.right),this._setDOM();var l=this._updateScrollTop();"top"!=n.orientation.item&&(l+=Math.max(r.centerContainer.height-r.center.height-r.border.top-r.border.bottom,0)),i.center.style.transform="translateY(".concat(l,"px)");var f=0==r.scrollTop?"hidden":"",d=r.scrollTop==r.scrollTopMin?"hidden":"";i.shadowTop.style.visibility=f,i.shadowBottom.style.visibility=d,i.shadowTopLeft.style.visibility=f,i.shadowBottomLeft.style.visibility=d,i.shadowTopRight.style.visibility=f,i.shadowBottomRight.style.visibility=d,n.verticalScroll&&(i.rightContainer.className="vis-panel vis-right vis-vertical-scroll",i.leftContainer.className="vis-panel vis-left vis-vertical-scroll",i.shadowTopRight.style.visibility="hidden",i.shadowBottomRight.style.visibility="hidden",i.shadowTopLeft.style.visibility="hidden",i.shadowBottomLeft.style.visibility="hidden",i.left.style.top="0px",i.right.style.top="0px"),(!n.verticalScroll||r.center.height<r.centerContainer.height)&&(i.left.style.top="".concat(l,"px"),i.right.style.top="".concat(l,"px"),i.rightContainer.className=i.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),i.leftContainer.className=i.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),r.left.width=h||-r.border.left,r.right.width=c||-r.border.right,this._setDOM());var v=r.center.height>r.centerContainer.height;this.hammer.get("pan").set({direction:v?_O.DIRECTION_ALL:_O.DIRECTION_HORIZONTAL}),this.hammer.get("press").set({time:this.options.longSelectPressTime}),up(t=this.components).call(t,(function(t){e=t.redraw()||e}));if(e){if(this.redrawCount<5)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.body.emitter.emit("changed")}}},{key:"_setDOM",value:function(){var t=this.props,i=this.dom;t.leftContainer.width=t.left.width,t.rightContainer.width=t.right.width;var e=t.root.width-t.left.width-t.right.width;t.center.width=e,t.centerContainer.width=e,t.top.width=e,t.bottom.width=e,i.background.style.height="".concat(t.background.height,"px"),i.backgroundVertical.style.height="".concat(t.background.height,"px"),i.backgroundHorizontal.style.height="".concat(t.centerContainer.height,"px"),i.centerContainer.style.height="".concat(t.centerContainer.height,"px"),i.leftContainer.style.height="".concat(t.leftContainer.height,"px"),i.rightContainer.style.height="".concat(t.rightContainer.height,"px"),i.background.style.width="".concat(t.background.width,"px"),i.backgroundVertical.style.width="".concat(t.centerContainer.width,"px"),i.backgroundHorizontal.style.width="".concat(t.background.width,"px"),i.centerContainer.style.width="".concat(t.center.width,"px"),i.top.style.width="".concat(t.top.width,"px"),i.bottom.style.width="".concat(t.bottom.width,"px"),i.background.style.left="0",i.background.style.top="0",i.backgroundVertical.style.left="".concat(t.left.width+t.border.left,"px"),i.backgroundVertical.style.top="0",i.backgroundHorizontal.style.left="0",i.backgroundHorizontal.style.top="".concat(t.top.height,"px"),i.centerContainer.style.left="".concat(t.left.width,"px"),i.centerContainer.style.top="".concat(t.top.height,"px"),i.leftContainer.style.left="0",i.leftContainer.style.top="".concat(t.top.height,"px"),i.rightContainer.style.left="".concat(t.left.width+t.center.width,"px"),i.rightContainer.style.top="".concat(t.top.height,"px"),i.top.style.left="".concat(t.left.width,"px"),i.top.style.top="0",i.bottom.style.left="".concat(t.left.width,"px"),i.bottom.style.top="".concat(t.top.height+t.centerContainer.height,"px"),i.center.style.left="0",i.left.style.left="0",i.right.style.left="0"}},{key:"setCurrentTime",value:function(t){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(t)}},{key:"getCurrentTime",value:function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()}},{key:"_toTime",value:function(t){return oO(this,t,this.props.center.width)}},{key:"_toGlobalTime",value:function(t){return oO(this,t,this.props.root.width)}},{key:"_toScreen",value:function(t){return sO(this,t,this.props.center.width)}},{key:"_toGlobalScreen",value:function(t){return sO(this,t,this.props.root.width)}},{key:"_initAutoResize",value:function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()}},{key:"_startAutoResize",value:function(){var t=this;this._stopAutoResize(),this._onResize=function(){if(1==t.options.autoResize){if(t.dom.root){var i=t.dom.root.offsetHeight,e=t.dom.root.offsetWidth;e==t.props.lastWidth&&i==t.props.lastHeight||(t.props.lastWidth=e,t.props.lastHeight=i,t.props.scrollbarWidth=SC.getScrollBarWidth(),t.body.emitter.emit("_change"))}}else t._stopAutoResize()},SC.addEventListener(window,"resize",this._onResize),t.dom.root&&(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight),this.watchTimer=kO(this._onResize,1e3)}},{key:"_stopAutoResize",value:function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(SC.removeEventListener(window,"resize",this._onResize),this._onResize=null)}},{key:"_onTouch",value:function(t){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop}},{key:"_onPinch",value:function(t){this.touch.allowDragging=!1}},{key:"_onDrag",value:function(t){if(t&&this.touch.allowDragging){var i=t.deltaY,e=this._getScrollTop(),n=this._setScrollTop(this.touch.initialScrollTop+i);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),n!=e&&this.emit("verticalDrag")}}},{key:"_setScrollTop",value:function(t){return this.props.scrollTop=t,this._updateScrollTop(),this.props.scrollTop}},{key:"_updateScrollTop",value:function(){var t=Math.min(this.props.centerContainer.height-this.props.border.top-this.props.border.bottom-this.props.center.height,0);return t!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=t-this.props.scrollTopMin),this.props.scrollTopMin=t),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<t&&(this.props.scrollTop=t),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop}},{key:"_getScrollTop",value:function(){return this.props.scrollTop}},{key:"_createConfigurator",value:function(){throw new Error("Cannot invoke abstract method _createConfigurator")}}]),t}();function XO(t){var i=function(){if("undefined"==typeof Reflect||!BY)return!1;if(BY.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(BY(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,n=e_(t);if(i){var r=e_(this).constructor;e=BY(n,arguments,r)}else e=n.apply(this,arguments);return Zx(this,e)}}cy(VO.prototype);var ZO=function(t){Xx(e,t);var i=XO(e);function e(t,n){var r,s;Sl(this,e),(s=i.call(this)).body=t,s.defaultOptions={rtl:!1,showCurrentTime:!0,alignCurrentTime:void 0,moment:cA,locales:WO,locale:"en"},s.options=SC.extend({},s.defaultOptions),s.setOptions(n),s.options.locales=SC.extend({},WO,s.options.locales);var o=s.defaultOptions.locales[s.defaultOptions.locale];return up(r=bv(s.options.locales)).call(r,(function(t){s.options.locales[t]=SC.extend({},o,s.options.locales[t])})),s.offset=0,s._create(),s}return Uf(e,[{key:"_create",value:function(){var t=document.createElement("div");t.className="vis-current-time",t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t}},{key:"destroy",value:function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null}},{key:"setOptions",value:function(t){t&&SC.selectiveExtend(["rtl","showCurrentTime","alignCurrentTime","moment","locale","locales"],this.options,t)}},{key:"redraw",value:function(){if(this.options.showCurrentTime){var t,i,e=this.body.dom.backgroundVertical;this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar),this.start());var n=this.options.moment(Mv()+this.offset);this.options.alignCurrentTime&&(n=n.startOf(this.options.alignCurrentTime));var r=this.body.util.toScreen(n),s=this.options.locales[this.options.locale];s||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),s=this.options.locales.en);var o=Vd(t=Vd(i="".concat(s.current," ")).call(i,s.time,": ")).call(t,n.format("dddd, MMMM Do YYYY, H:mm:ss"));o=o.charAt(0).toUpperCase()+o.substring(1),this.options.rtl?this.bar.style.transform="translateX(".concat(-1*r,"px)"):this.bar.style.transform="translateX(".concat(r,"px)"),this.bar.title=o}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1}},{key:"start",value:function(){var t=this;!function i(){t.stop();var e=1/t.body.range.conversion(t.body.domProps.center.width).scale/10;e<30&&(e=30),e>1e3&&(e=1e3),t.redraw(),t.body.emitter.emit("currentTimeTick"),t.currentTimeTimer=Vb(i,e)}()}},{key:"stop",value:function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)}},{key:"setCurrentTime",value:function(t){var i=SC.convert(t,"Date").valueOf(),e=Mv();this.offset=i-e,this.redraw()}},{key:"getCurrentTime",value:function(){return new Date(Mv()+this.offset)}}]),e}(RC),JO={},KO={get exports(){return JO},set exports(t){JO=t}},QO=Cn,tL=Su.find,iL="find",eL=!0;iL in[]&&Array(1)[iL]((function(){eL=!1})),QO({target:"Array",proto:!0,forced:eL},{find:function(t){return tL(this,t,arguments.length>1?arguments[1]:void 0)}});var nL=wd("Array").find,rL=ki,sL=nL,oL=Array.prototype,aL=function(t){var i=t.find;return t===oL||rL(oL,t)&&i===oL.find?sL:i},uL=aL;!function(t){t.exports=uL}(KO);var hL=n(JO),cL={},lL={get exports(){return cL},set exports(t){cL=t}},fL=Cn,dL=Su.findIndex,vL="findIndex",pL=!0;vL in[]&&Array(1)[vL]((function(){pL=!1})),fL({target:"Array",proto:!0,forced:pL},{findIndex:function(t){return dL(this,t,arguments.length>1?arguments[1]:void 0)}});var mL=wd("Array").findIndex,gL=ki,bL=mL,yL=Array.prototype,wL=function(t){var i=t.findIndex;return t===yL||gL(yL,t)&&i===yL.findIndex?bL:i},kL=wL;!function(t){t.exports=kL}(lL);var xL=n(cL);function _L(t,i){var e=void 0!==Hd&&Ya(t)||t["@@iterator"];if(!e){if(ev(t)||(e=function(t,i){var e;if(!t)return;if("string"==typeof t)return DL(t,i);var n=Zd(e=Object.prototype.toString.call(t)).call(e,8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return aa(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DL(t,i)}(t))||i&&t&&"number"==typeof t.length){e&&(t=e);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==e.return||e.return()}finally{if(a)throw s}}}}function DL(t,i){(null==i||i>t.length)&&(i=t.length);for(var e=0,n=new Array(i);e<i;e++)n[e]=t[e];return n}var ML=.001;function SL(t){LE(t).call(t,(function(t,i){return t.data.start-i.data.start}))}function jL(t){LE(t).call(t,(function(t,i){return("end"in t.data?t.data.end:t.data.start)-("end"in i.data?i.data.end:i.data.start)}))}function FL(t,i,e,n){return null===CL(t,i.item,!1,(function(t){return t.stack&&(e||null===t.top)}),(function(t){return t.stack}),(function(t){return i.axis}),n)}function TL(t,i,e){var n=CL(t,i.item,!1,(function(t){return t.stack}),(function(t){return!0}),(function(t){return t.baseTop}));e.height=n-e.top+.5*i.item.vertical}function EL(t,i,e,n){for(var r=0;r<t.length;r++)if(null==t[r].data.subgroup)t[r].top=i.item.vertical;else if(void 0!==t[r].data.subgroup&&n){var s=0;for(var o in e)e.hasOwnProperty(o)&&1==e[o].visible&&e[o].index<e[t[r].data.subgroup].index&&(s+=e[o].height,e[t[r].data.subgroup].top=s);t[r].top=s+.5*i.item.vertical}n||YL(t,i,e)}function YL(t,i,e){var n;CL(LE(n=pg(e)).call(n,(function(t,i){return t.index>i.index?1:t.index<i.index?-1:0})),{vertical:0},!0,(function(t){return!0}),(function(t){return!0}),(function(t){return 0}));for(var r=0;r<t.length;r++)void 0!==t[r].data.subgroup&&(t[r].top=e[t[r].data.subgroup].top+.5*i.item.vertical)}function AL(t,i,e){var n=!1,r=[];for(var s in e)e[s].hasOwnProperty("index")?r[e[s].index]=s:r.push(s);for(var o=0;o<r.length;o++)if(s=r[o],e.hasOwnProperty(s)){for(var a in n=n||e[s].stack,e[s].top=0,e)e[a].visible&&e[s].index>e[a].index&&(e[s].top+=e[a].height);for(var u=t[s],h=0;h<u.length;h++)void 0!==u[h].data.subgroup&&(u[h].top=e[u[h].data.subgroup].top+.5*i.item.vertical,e[s].stack&&(u[h].baseTop=u[h].top));n&&e[s].stack&&TL(t[s],i,e[s])}}function CL(t,e,n,r,s,o,a){var u=function(t){return t.start},h=function(t){return t.end};if(!n){var c=!(!t[0]||!t[0].options.rtl);u=c?function(t){return t.right}:function(t){return t.left},h=function(t){return u(t)+t.width+e.horizontal}}var l,f=[],d=[],v=null,p=0,m=_L(t);try{var g=function(){var t=l.value;if(r(t))f.push(t);else if(s(t)){var i=u(t);null!==v&&i<v-ML&&(p=0),v=i,p=OL(d,(function(t){return u(t)-ML>i}),p),Jp(d).call(d,p,0,t),p++}};for(m.s();!(l=m.n()).done;)g()}catch(t){m.e(t)}finally{m.f()}v=null;var b=null;p=0;for(var y=0,w=0,k=0,x=function(){var t,n,r=f.shift();r.top=o(r);var c=u(r),l=h(r);null!==v&&c<v-ML&&(y=0,w=0,p=0,b=null),v=c,y=OL(d,(function(t){return c<h(t)-ML}),y),(null===b||b<l-ML)&&(w=OL(d,(function(t){return l<u(t)-ML}),Math.max(y,w))),null!==b&&b-ML>l&&(w=function(t,e,n,r){n||(n=0);r||(r=t.length);for(i=r-1;i>=n;i--)if(e(t[i]))return i;return n-1}(d,(function(t){return l+ML>=u(t)}),y,horizontalOVerlapEndIndex)+1);for(var m,g,x,_=LE(t=ng(n=Zd(d).call(d,y,w)).call(n,(function(t){return c<h(t)-ML&&l-ML>u(t)}))).call(t,(function(t,i){return t.top-i.top})),D=0;D<_.length;D++){var M=_[D];g=M,x=e,(m=r).top-x.vertical+ML<g.top+g.height&&m.top+m.height+x.vertical-ML>g.top&&(r.top=M.top+M.height+e.vertical)}s(r)&&(p=OL(d,(function(t){return u(t)-ML>c}),p),Jp(d).call(d,p,0,r),p++);var S=r.top+r.height;if(S>k&&(k=S),a&&a())return{v:null}};f.length>0;){var _=x();if("object"===If(_))return _.v}return k}function OL(t,i,e){var n;e||(e=0);var r=xL(n=Zd(t).call(t,e)).call(n,i);return-1===r?t.length:r+e}var LL=Object.freeze({__proto__:null,nostack:EL,orderByEnd:jL,orderByStart:SL,stack:FL,stackSubgroups:YL,stackSubgroupsWithInnerStack:AL,substack:TL}),zL="__background__",IL=function(){function t(i,e,n){var r=this;if(Sl(this,t),this.groupId=i,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.subgroupVisibility={},this.doInnerStack=!1,this.shouldBailStackItems=!1,this.subgroupIndex=0,this.subgroupOrderer=e&&e.subgroupOrder,this.itemSet=n,this.isVisible=null,this.stackDirty=!0,this._disposeCallbacks=[],e&&e.nestedGroups&&(this.nestedGroups=e.nestedGroups,0==e.showNested?this.showNested=!1:this.showNested=!0),e&&e.subgroupStack)if("boolean"==typeof e.subgroupStack)this.doInnerStack=e.subgroupStack,this.subgroupStackAll=e.subgroupStack;else for(var s in e.subgroupStack)this.subgroupStack[s]=e.subgroupStack[s],this.doInnerStack=this.doInnerStack||e.subgroupStack[s];e&&e.heightMode?this.heightMode=e.heightMode:this.heightMode=n.options.groupHeightMode,this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var o=function(){r.checkRangedItems=!0};this.itemSet.body.emitter.on("checkRangedItems",o),this._disposeCallbacks.push((function(){r.itemSet.body.emitter.off("checkRangedItems",o)})),this._create(),this.setData(e)}return Uf(t,[{key:"_create",value:function(){var t=document.createElement("div");this.itemSet.options.groupEditable.order?t.className="vis-label draggable":t.className="vis-label",this.dom.label=t;var i=document.createElement("div");i.className="vis-inner",t.appendChild(i),this.dom.inner=i;var e=document.createElement("div");e.className="vis-group",e["vis-group"]=this,this.dom.foreground=e,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)}},{key:"setData",value:function(t){if(!this.itemSet.groupTouchParams.isDragging){var i,e,n;if(t&&t.subgroupVisibility)for(var r in t.subgroupVisibility)this.subgroupVisibility[r]=t.subgroupVisibility[r];if(this.itemSet.options&&this.itemSet.options.groupTemplate)i=(e=qv(n=this.itemSet.options.groupTemplate).call(n,this))(t,this.dom.inner);else i=t&&t.content;if(i instanceof Element){for(;this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(i)}else i instanceof Object&&i.isReactComponent||(i instanceof Object?e(t,this.dom.inner):this.dom.inner.innerHTML=null!=i?SC.xss(i):SC.xss(this.groupId||""));this.dom.label.title=t&&t.title||"",this.dom.inner.firstChild?SC.removeClassName(this.dom.inner,"vis-hidden"):SC.addClassName(this.dom.inner,"vis-hidden"),t&&t.nestedGroups?(this.nestedGroups&&this.nestedGroups==t.nestedGroups||(this.nestedGroups=t.nestedGroups),void 0===t.showNested&&void 0!==this.showNested||(0==t.showNested?this.showNested=!1:this.showNested=!0),SC.addClassName(this.dom.label,"vis-nesting-group"),this.showNested?(SC.removeClassName(this.dom.label,"collapsed"),SC.addClassName(this.dom.label,"expanded")):(SC.removeClassName(this.dom.label,"expanded"),SC.addClassName(this.dom.label,"collapsed"))):this.nestedGroups&&(this.nestedGroups=null,SC.removeClassName(this.dom.label,"collapsed"),SC.removeClassName(this.dom.label,"expanded"),SC.removeClassName(this.dom.label,"vis-nesting-group")),t&&(t.treeLevel||t.nestedInGroup)?(SC.addClassName(this.dom.label,"vis-nested-group"),t.treeLevel?SC.addClassName(this.dom.label,"vis-group-level-"+t.treeLevel):SC.addClassName(this.dom.label,"vis-group-level-unknown-but-gte1")):SC.addClassName(this.dom.label,"vis-group-level-0");var s=t&&t.className||null;s!=this.className&&(this.className&&(SC.removeClassName(this.dom.label,this.className),SC.removeClassName(this.dom.foreground,this.className),SC.removeClassName(this.dom.background,this.className),SC.removeClassName(this.dom.axis,this.className)),SC.addClassName(this.dom.label,s),SC.addClassName(this.dom.foreground,s),SC.addClassName(this.dom.background,s),SC.addClassName(this.dom.axis,s),this.className=s),this.style&&(SC.removeCssText(this.dom.label,this.style),this.style=null),t&&t.style&&(SC.addCssText(this.dom.label,t.style),this.style=t.style)}}},{key:"getLabelWidth",value:function(){return this.props.label.width}},{key:"_didMarkerHeightChange",value:function(){var t=this.dom.marker.clientHeight;if(t!=this.lastMarkerHeight){this.lastMarkerHeight=t;var i={},e=0;if(up(SC).call(SC,this.items,(function(t,n){if(t.dirty=!0,t.displayed){i[n]=t.redraw(!0),e=i[n].length}})),e>0)for(var n=function(t){up(SC).call(SC,i,(function(i){i[t]()}))},r=0;r<e;r++)n(r);return!0}return!1}},{key:"_calculateGroupSizeAndPosition",value:function(){var t=this.dom.foreground,i=t.offsetTop,e=t.offsetLeft,n=t.offsetWidth;this.top=i,this.right=e,this.width=n}},{key:"_shouldBailItemsRedraw",value:function(){var t=this,i=this.itemSet.options.onTimeout,e={relativeBailingTime:this.itemSet.itemsSettingTime,bailTimeMs:i&&i.timeoutMs,userBailFunction:i&&i.callback,shouldBailStackItems:this.shouldBailStackItems},n=null;if(!this.itemSet.initialDrawDone){if(e.shouldBailStackItems)return!0;Math.abs(Mv()-new Date(e.relativeBailingTime))>e.bailTimeMs&&(e.userBailFunction&&null==this.itemSet.userContinueNotBail?e.userBailFunction((function(i){t.itemSet.userContinueNotBail=i,n=!i})):n=0==t.itemSet.userContinueNotBail)}return n}},{key:"_redrawItems",value:function(t,i,e,n){var r=this;if(t||this.stackDirty||this.isVisible&&!i){var s,o,a,u,h,c,l={byEnd:ng(s=this.orderedItems.byEnd).call(s,(function(t){return!t.isCluster})),byStart:ng(o=this.orderedItems.byStart).call(o,(function(t){return!t.isCluster}))},f={byEnd:Id(new RT(ng(a=fv(u=this.orderedItems.byEnd).call(u,(function(t){return t.cluster}))).call(a,(function(t){return!!t})))),byStart:Id(new RT(ng(h=fv(c=this.orderedItems.byStart).call(c,(function(t){return t.cluster}))).call(h,(function(t){return!!t}))))},d=function(){var t,i,e,s=r._updateItemsInRange(l,ng(t=r.visibleItems).call(t,(function(t){return!t.isCluster})),n),o=r._updateClustersInRange(f,ng(i=r.visibleItems).call(i,(function(t){return t.isCluster})),n);return Vd(e=[]).call(e,Id(s),Id(o))},v=function(t){var i={},e=function(e){var n,s=ng(n=r.visibleItems).call(n,(function(t){return t.data.subgroup===e}));i[e]=t?LE(s).call(s,(function(i,e){return t(i.data,e.data)})):s};for(var n in r.subgroups)e(n);return i};if("function"==typeof this.itemSet.options.order){var p=this;if(this.doInnerStack&&this.itemSet.options.stackSubgroups){AL(v(this.itemSet.options.order),e,this.subgroups),this.visibleItems=d(),this._updateSubGroupHeights(e)}else{var m,g,b,y;this.visibleItems=d(),this._updateSubGroupHeights(e);var w=LE(m=ng(g=Zd(b=this.visibleItems).call(b)).call(g,(function(t){return t.isCluster||!t.isCluster&&!t.cluster}))).call(m,(function(t,i){return p.itemSet.options.order(t.data,i.data)}));this.shouldBailStackItems=FL(w,e,!0,qv(y=this._shouldBailItemsRedraw).call(y,this))}}else{var k;if(this.visibleItems=d(),this._updateSubGroupHeights(e),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups)AL(v(),e,this.subgroups);else this.shouldBailStackItems=FL(this.visibleItems,e,!0,qv(k=this._shouldBailItemsRedraw).call(k,this));else EL(this.visibleItems,e,this.subgroups,this.itemSet.options.stackSubgroups)}for(var x=0;x<this.visibleItems.length;x++)this.visibleItems[x].repositionX(),void 0!==this.subgroupVisibility[this.visibleItems[x].data.subgroup]&&(this.subgroupVisibility[this.visibleItems[x].data.subgroup]||this.visibleItems[x].hide());this.itemSet.options.cluster&&up(SC).call(SC,this.items,(function(t){t.cluster&&t.displayed&&t.hide()})),this.shouldBailStackItems&&this.itemSet.body.emitter.emit("destroyTimeline"),this.stackDirty=!1}}},{key:"_didResize",value:function(t,i){t=SC.updateProperty(this,"height",i)||t;var e=this.dom.inner.clientWidth,n=this.dom.inner.clientHeight;return t=SC.updateProperty(this.props.label,"width",e)||t,t=SC.updateProperty(this.props.label,"height",n)||t}},{key:"_applyGroupHeight",value:function(t){this.dom.background.style.height="".concat(t,"px"),this.dom.foreground.style.height="".concat(t,"px"),this.dom.label.style.height="".concat(t,"px")}},{key:"_updateItemsVerticalPosition",value:function(t){for(var i=0,e=this.visibleItems.length;i<e;i++){var n=this.visibleItems[i];n.repositionY(t),this.isVisible||this.groupId==zL||n.displayed&&n.hide()}}},{key:"redraw",value:function(t,i,e,n){var r,s,o,a,u,h,c,l=this,f=!1,d=this.isVisible,v=[function(){e=l._didMarkerHeightChange.call(l)||e},qv(r=this._updateSubGroupHeights).call(r,this,i),qv(s=this._calculateGroupSizeAndPosition).call(s,this),function(){var e;l.isVisible=qv(e=l._isGroupVisible).call(e,l)(t,i)},function(){var n;qv(n=l._redrawItems).call(n,l)(e,d,i,t)},qv(o=this._updateSubgroupsSizes).call(o,this),function(){var t;h=qv(t=l._calculateHeight).call(t,l)(i)},qv(a=this._calculateGroupSizeAndPosition).call(a,this),function(){var t;f=qv(t=l._didResize).call(t,l)(f,h)},function(){var t;qv(t=l._applyGroupHeight).call(t,l)(h)},function(){var t;qv(t=l._updateItemsVerticalPosition).call(t,l)(i)},qv(u=function(){return!l.isVisible&&l.height&&(f=!1),f}).call(u,this)];return n?v:(up(v).call(v,(function(t){c=t()})),c)}},{key:"_updateSubGroupHeights",value:function(t){var i=this;if(bv(this.subgroups).length>0){var e=this;this._resetSubgroups(),up(SC).call(SC,this.visibleItems,(function(n){void 0!==n.data.subgroup&&(e.subgroups[n.data.subgroup].height=Math.max(e.subgroups[n.data.subgroup].height,n.height+t.item.vertical),e.subgroups[n.data.subgroup].visible=void 0===i.subgroupVisibility[n.data.subgroup]||Boolean(i.subgroupVisibility[n.data.subgroup]))}))}}},{key:"_isGroupVisible",value:function(t,i){return this.top<=t.body.domProps.centerContainer.height-t.body.domProps.scrollTop+i.axis&&this.top+this.height+i.axis>=-t.body.domProps.scrollTop}},{key:"_calculateHeight",value:function(t){var i,e;if((e="fixed"===this.heightMode?SC.toArray(this.items):this.visibleItems).length>0){var n=e[0].top,r=e[0].top+e[0].height;if(up(SC).call(SC,e,(function(t){n=Math.min(n,t.top),r=Math.max(r,t.top+t.height)})),n>t.axis){var s=n-t.axis;r-=s,up(SC).call(SC,e,(function(t){t.top-=s}))}i=Math.ceil(r+t.item.vertical/2),"fitItems"!==this.heightMode&&(i=Math.max(i,this.props.label.height))}else i=this.props.label.height;return i}},{key:"show",value:function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)}},{key:"hide",value:function(){var t=this.dom.label;t.parentNode&&t.parentNode.removeChild(t);var i=this.dom.foreground;i.parentNode&&i.parentNode.removeChild(i);var e=this.dom.background;e.parentNode&&e.parentNode.removeChild(e);var n=this.dom.axis;n.parentNode&&n.parentNode.removeChild(n)}},{key:"add",value:function(t){var i;if(this.items[t.id]=t,t.setParent(this),this.stackDirty=!0,void 0!==t.data.subgroup&&(this._addToSubgroup(t),this.orderSubgroups()),!Pm(i=this.visibleItems).call(i,t)){var e=this.itemSet.body.range;this._checkIfVisible(t,this.visibleItems,e)}}},{key:"_addToSubgroup",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.data.subgroup;null!=i&&void 0===this.subgroups[i]&&(this.subgroups[i]={height:0,top:0,start:t.data.start,end:t.data.end||t.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[i]||!1},this.subgroupIndex++),new Date(t.data.start)<new Date(this.subgroups[i].start)&&(this.subgroups[i].start=t.data.start);var e=t.data.end||t.data.start;new Date(e)>new Date(this.subgroups[i].end)&&(this.subgroups[i].end=e),this.subgroups[i].items.push(t)}},{key:"_updateSubgroupsSizes",value:function(){var t=this;if(t.subgroups){var i=function(){var i,n=t.subgroups[e].items[0].data.end||t.subgroups[e].items[0].data.start,r=t.subgroups[e].items[0].data.start,s=n-1;up(i=t.subgroups[e].items).call(i,(function(t){new Date(t.data.start)<new Date(r)&&(r=t.data.start);var i=t.data.end||t.data.start;new Date(i)>new Date(s)&&(s=i)})),t.subgroups[e].start=r,t.subgroups[e].end=new Date(s-1)};for(var e in t.subgroups)i()}}},{key:"orderSubgroups",value:function(){if(void 0!==this.subgroupOrderer){var t=[];if("string"==typeof this.subgroupOrderer){for(var i in this.subgroups)t.push({subgroup:i,sortField:this.subgroups[i].items[0].data[this.subgroupOrderer]});LE(t).call(t,(function(t,i){return t.sortField-i.sortField}))}else if("function"==typeof this.subgroupOrderer){for(var e in this.subgroups)t.push(this.subgroups[e].items[0].data);LE(t).call(t,this.subgroupOrderer)}if(t.length>0)for(var n=0;n<t.length;n++)this.subgroups[t[n].subgroup].index=n}}},{key:"_resetSubgroups",value:function(){for(var t in this.subgroups)this.subgroups.hasOwnProperty(t)&&(this.subgroups[t].visible=!1,this.subgroups[t].height=0)}},{key:"remove",value:function(t){var i,e;delete this.items[t.id],t.setParent(null),this.stackDirty=!0;var n=tb(i=this.visibleItems).call(i,t);-1!=n&&Jp(e=this.visibleItems).call(e,n,1),void 0!==t.data.subgroup&&(this._removeFromSubgroup(t),this.orderSubgroups())}},{key:"_removeFromSubgroup",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.data.subgroup;if(null!=i){var e=this.subgroups[i];if(e){var n,r,s=tb(n=e.items).call(n,t);if(s>=0)Jp(r=e.items).call(r,s,1),e.items.length?this._updateSubgroupsSizes():delete this.subgroups[i]}}}},{key:"removeFromDataSet",value:function(t){this.itemSet.removeItem(t.id)}},{key:"order",value:function(){for(var t=SC.toArray(this.items),i=[],e=[],n=0;n<t.length;n++)void 0!==t[n].data.end&&e.push(t[n]),i.push(t[n]);this.orderedItems={byStart:i,byEnd:e},SL(this.orderedItems.byStart),jL(this.orderedItems.byEnd)}},{key:"_updateItemsInRange",value:function(t,i,e){var n=[],r={};if(!this.isVisible&&this.groupId!=zL){for(var s=0;s<i.length;s++){var o=i[s];o.displayed&&o.hide()}return n}var a=(e.end-e.start)/4,u=e.start-a,h=e.end+a;if(i.length>0)for(var c=0;c<i.length;c++)this._checkIfVisibleWithReference(i[c],n,r,e);var l=SC.binarySearchCustom(t.byStart,(function(t){return t<u?-1:t<=h?0:1}),"data","start");if(this._traceVisible(l,t.byStart,n,r,(function(t){return t.data.start<u||t.data.start>h})),1==this.checkRangedItems){this.checkRangedItems=!1;for(var f=0;f<t.byEnd.length;f++)this._checkIfVisibleWithReference(t.byEnd[f],n,r,e)}else{var d=SC.binarySearchCustom(t.byEnd,(function(t){var i=t.start;return t.end<u?-1:i<=h?0:1}),"data");this._traceVisible(d,t.byEnd,n,r,(function(t){return t.data.end<u||t.data.start>h}))}for(var v={},p=0,m=0;m<n.length;m++){var g=n[m];if(!g.displayed){v[m]=g.redraw(!0),p=v[m].length}}if(p>0)for(var b=function(t){up(SC).call(SC,v,(function(i){i[t]()}))},y=0;y<p;y++)b(y);for(var w=0;w<n.length;w++)n[w].repositionX();return n}},{key:"_traceVisible",value:function(t,i,e,n,r){if(-1!=t){for(var s=t;s>=0;s--){var o=i[s];if(r(o))break;o.isCluster&&!o.hasItems()||o.cluster||void 0===n[o.id]&&(n[o.id]=!0,e.push(o))}for(var a=t+1;a<i.length;a++){var u=i[a];if(r(u))break;u.isCluster&&!u.hasItems()||u.cluster||void 0===n[u.id]&&(n[u.id]=!0,e.push(u))}}}},{key:"_checkIfVisible",value:function(t,i,e){t.isVisible(e)?(t.displayed||t.show(),t.repositionX(),i.push(t)):t.displayed&&t.hide()}},{key:"_checkIfVisibleWithReference",value:function(t,i,e,n){t.isVisible(n)?void 0===e[t.id]&&(e[t.id]=!0,i.push(t)):t.displayed&&t.hide()}},{key:"_updateClustersInRange",value:function(t,i,e){var n=[],r={};if(i.length>0)for(var s=0;s<i.length;s++)this._checkIfVisibleWithReference(i[s],n,r,e);for(var o=0;o<t.byStart.length;o++)this._checkIfVisibleWithReference(t.byStart[o],n,r,e);for(var a=0;a<t.byEnd.length;a++)this._checkIfVisibleWithReference(t.byEnd[a],n,r,e);for(var u={},h=0,c=0;c<n.length;c++){var l=n[c];if(!l.displayed){u[c]=l.redraw(!0),h=u[c].length}}if(h>0)for(var f=0;f<h;f++)up(SC).call(SC,u,(function(t){t[f]()}));for(var d=0;d<n.length;d++)n[d].repositionX();return n}},{key:"changeSubgroup",value:function(t,i,e){this._removeFromSubgroup(t,i),this._addToSubgroup(t,e),this.orderSubgroups()}},{key:"dispose",value:function(){var t;for(this.hide();t=this._disposeCallbacks.pop();)t()}}]),t}();function NL(t){var i=function(){if("undefined"==typeof Reflect||!BY)return!1;if(BY.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(BY(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,n=e_(t);if(i){var r=e_(this).constructor;e=BY(n,arguments,r)}else e=n.apply(this,arguments);return Zx(this,e)}}var HL=function(t){Xx(e,t);var i=NL(e);function e(t,n,r){var s;return Sl(this,e),(s=i.call(this,t,n,r)).width=0,s.height=0,s.top=0,s.left=0,s}return Uf(e,[{key:"redraw",value:function(t,i,e){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,t),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var n=0,r=this.visibleItems.length;n<r;n++){this.visibleItems[n].repositionY(i)}return!1}},{key:"show",value:function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)}}]),e}(IL);function PL(t,i){var e=void 0!==Hd&&Ya(t)||t["@@iterator"];if(!e){if(ev(t)||(e=function(t,i){var e;if(!t)return;if("string"==typeof t)return RL(t,i);var n=Zd(e=Object.prototype.toString.call(t)).call(e,8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return aa(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RL(t,i)}(t))||i&&t&&"number"==typeof t.length){e&&(t=e);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==e.return||e.return()}finally{if(a)throw s}}}}function RL(t,i){(null==i||i>t.length)&&(i=t.length);for(var e=0,n=new Array(i);e<i;e++)n[e]=t[e];return n}var BL=function(){function t(i,e,n){var r,s=this;Sl(this,t),this.id=null,this.parent=null,this.data=i,this.dom=null,this.conversion=e||{},this.defaultOptions={locales:WO,locale:"en"},this.options=SC.extend({},this.defaultOptions,n),this.options.locales=SC.extend({},WO,this.options.locales);var o=this.defaultOptions.locales[this.defaultOptions.locale];up(r=bv(this.options.locales)).call(r,(function(t){s.options.locales[t]=SC.extend({},o,s.options.locales[t])})),this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.selectable=n&&n.selectable||!1,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.setSelectability(i),this.editable=null,this._updateEditStatus()}return Uf(t,[{key:"select",value:function(){this.selectable&&(this.selected=!0,this.dirty=!0,this.displayed&&this.redraw())}},{key:"unselect",value:function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()}},{key:"setData",value:function(t){null!=t.group&&this.data.group!=t.group&&null!=this.parent&&this.parent.itemSet._moveToGroup(this,t.group),this.setSelectability(t),this.parent&&(this.parent.stackDirty=!0),null!=t.subgroup&&this.data.subgroup!=t.subgroup&&null!=this.parent&&this.parent.changeSubgroup(this,this.data.subgroup,t.subgroup),this.data=t,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()}},{key:"setSelectability",value:function(t){t&&(this.selectable=void 0===t.selectable||Boolean(t.selectable))}},{key:"setParent",value:function(t){this.displayed?(this.hide(),this.parent=t,this.parent&&this.show()):this.parent=t}},{key:"isVisible",value:function(t){return!1}},{key:"show",value:function(){return!1}},{key:"hide",value:function(){return!1}},{key:"redraw",value:function(){}},{key:"repositionX",value:function(){}},{key:"repositionY",value:function(){}},{key:"_repaintDragCenter",value:function(){if(this.selected&&this.editable.updateTime&&!this.dom.dragCenter){var t,i,e=this,n=document.createElement("div");n.className="vis-drag-center",n.dragCenterItem=this,this.hammerDragCenter=new _O(n),this.hammerDragCenter.on("tap",(function(t){e.parent.itemSet.body.emitter.emit("click",{event:t,item:e.id})})),this.hammerDragCenter.on("doubletap",(function(t){t.stopPropagation(),e.parent.itemSet._onUpdateItem(e),e.parent.itemSet.body.emitter.emit("doubleClick",{event:t,item:e.id})})),this.hammerDragCenter.on("panstart",(function(t){t.stopPropagation(),e.parent.itemSet._onDragStart(t)})),this.hammerDragCenter.on("panmove",qv(t=e.parent.itemSet._onDrag).call(t,e.parent.itemSet)),this.hammerDragCenter.on("panend",qv(i=e.parent.itemSet._onDragEnd).call(i,e.parent.itemSet)),this.hammerDragCenter.get("press").set({time:1e4}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(n,this.dom.dragLeft):this.dom.box.appendChild(n):this.dom.point&&this.dom.point.appendChild(n),this.dom.dragCenter=n}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null,this.hammerDragCenter&&(this.hammerDragCenter.destroy(),this.hammerDragCenter=null))}},{key:"_repaintDeleteButton",value:function(t){var i=(this.options.editable.overrideItems||null==this.editable)&&this.options.editable.remove||!this.options.editable.overrideItems&&null!=this.editable&&this.editable.remove;if(this.selected&&i&&!this.dom.deleteButton){var e=this,n=document.createElement("div");this.options.rtl?n.className="vis-delete-rtl":n.className="vis-delete";var r=this.options.locales[this.options.locale];r||(this.warned||(console.warn("WARNING: options.locales['".concat(this.options.locale,"'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")),this.warned=!0),r=this.options.locales.en),n.title=r.deleteSelected,this.hammerDeleteButton=new _O(n).on("tap",(function(t){t.stopPropagation(),e.parent.removeFromDataSet(e)})),t.appendChild(n),this.dom.deleteButton=n}else this.selected&&i||!this.dom.deleteButton||(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null,this.hammerDeleteButton&&(this.hammerDeleteButton.destroy(),this.hammerDeleteButton=null))}},{key:"_repaintOnItemUpdateTimeTooltip",value:function(t){if(this.options.tooltipOnItemUpdateTime){var i=(this.options.editable.updateTime||!0===this.data.editable)&&!1!==this.data.editable;if(this.selected&&i&&!this.dom.onItemUpdateTimeTooltip){var e=document.createElement("div");e.className="vis-onUpdateTime-tooltip",t.appendChild(e),this.dom.onItemUpdateTimeTooltip=e}else!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.dom.onItemUpdateTimeTooltip.style.transform="translateX(-50%)",this.dom.onItemUpdateTimeTooltip.style.left="50%";var n,r,s=this.parent.itemSet.body.domProps.scrollTop;if(("top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height)+this.parent.top-50<-s?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top="".concat(this.height+2,"px")):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom="".concat(this.height+2,"px")),this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template)n=qv(r=this.options.tooltipOnItemUpdateTime.template).call(r,this)(this.data);else n="start: ".concat(cA(this.data.start).format("MM/DD/YYYY hh:mm")),this.data.end&&(n+="<br> end: ".concat(cA(this.data.end).format("MM/DD/YYYY hh:mm")));this.dom.onItemUpdateTimeTooltip.innerHTML=SC.xss(n)}}}},{key:"_getItemData",value:function(){return this.parent.itemSet.itemsData.get(this.id)}},{key:"_updateContents",value:function(t){var i,e,n,r,s,o,a=this._getItemData(),u=(this.dom.box||this.dom.point).getElementsByClassName("vis-item-visible-frame")[0];this.options.visibleFrameTemplate?(r=qv(s=this.options.visibleFrameTemplate).call(s,this),n=SC.xss(r(a,u))):n="";if(u)if(n instanceof Object&&!(n instanceof Element))r(a,u);else if(this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(n)){if(n instanceof Element)u.innerHTML="",u.appendChild(n);else if(null!=n)u.innerHTML=SC.xss(n);else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '.concat(this.id));this.itemVisibleFrameContent=n}this.options.template?i=(e=qv(o=this.options.template).call(o,this))(a,t,this.data):i=this.data.content;if(i instanceof Object&&!(i instanceof Element))e(a,t);else if(this._contentToString(this.content)!==this._contentToString(i)){if(i instanceof Element)t.innerHTML="",t.appendChild(i);else if(null!=i)t.innerHTML=SC.xss(i);else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '.concat(this.id));this.content=i}}},{key:"_updateDataAttributes",value:function(t){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var i=[];if(ev(this.options.dataAttributes))i=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;i=bv(this.data)}var e,n=PL(i);try{for(n.s();!(e=n.n()).done;){var r=e.value,s=this.data[r];null!=s?t.setAttribute("data-".concat(r),s):t.removeAttribute("data-".concat(r))}}catch(t){n.e(t)}finally{n.f()}}}},{key:"_updateStyle",value:function(t){this.style&&(SC.removeCssText(t,this.style),this.style=null),this.data.style&&(SC.addCssText(t,this.data.style),this.style=this.data.style)}},{key:"_contentToString",value:function(t){return"string"==typeof t?t:t&&"outerHTML"in t?t.outerHTML:t}},{key:"_updateEditStatus",value:function(){this.options&&("boolean"==typeof this.options.editable?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:"object"===If(this.options.editable)&&(this.editable={},SC.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),this.options&&this.options.editable&&!0===this.options.editable.overrideItems||this.data&&("boolean"==typeof this.data.editable?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:"object"===If(this.data.editable)&&(this.editable={},SC.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))}},{key:"getWidthLeft",value:function(){return 0}},{key:"getWidthRight",value:function(){return 0}},{key:"getTitle",value:function(){var t;return this.options.tooltip&&this.options.tooltip.template?qv(t=this.options.tooltip.template).call(t,this)(this._getItemData(),this.data):this.data.title}}]),t}();function $L(t){var i=function(){if("undefined"==typeof Reflect||!BY)return!1;if(BY.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(BY(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,n=e_(t);if(i){var r=e_(this).constructor;e=BY(n,arguments,r)}else e=n.apply(this,arguments);return Zx(this,e)}}BL.prototype.stack=!0;var GL=function(t){Xx(e,t);var i=$L(e);function e(t,n,r){var s;if(Sl(this,e),(s=i.call(this,t,n,r)).props={dot:{width:0,height:0},line:{width:0,height:0}},t&&null==t.start)throw new Error('Property "start" missing in item '.concat(t));return s}return Uf(e,[{key:"isVisible",value:function(t){if(this.cluster)return!1;var i,e=this.data.align||this.options.align,n=this.width*t.getMillisecondsPerPixel();return i="right"==e?this.data.start.getTime()>t.start&&this.data.start.getTime()-n<t.end:"left"==e?this.data.start.getTime()+n>t.start&&this.data.start.getTime()<t.end:this.data.start.getTime()+n/2>t.start&&this.data.start.getTime()-n/2<t.end,i}},{key:"_createDomElement",value:function(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["vis-item"]=this,this.dirty=!0)}},{key:"_appendDomElement",value:function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var i=this.parent.dom.background;if(!i)throw new Error("Cannot redraw item: parent has no background container element");i.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var e=this.parent.dom.axis;if(!i)throw new Error("Cannot redraw item: parent has no axis container element");e.appendChild(this.dom.dot)}this.displayed=!0}},{key:"_updateDirtyDomComponents",value:function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var t=this.editable.updateTime||this.editable.updateGroup,i=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box".concat(i),this.dom.line.className="vis-item vis-line".concat(i),this.dom.dot.className="vis-item vis-dot".concat(i)}}},{key:"_getDomComponentsSizes",value:function(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}}},{key:"_updateDomComponentsSizes",value:function(t){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=t.dot.height,this.props.dot.width=t.dot.width,this.props.line.width=t.line.width,this.width=t.box.width,this.height=t.box.height,this.options.rtl?this.dom.box.style.right=t.previous.right:this.dom.box.style.left=t.previous.left,this.dirty=!1}},{key:"_repaintDomAdditionals",value:function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)}},{key:"redraw",value:function(t){var i,e,n,r,s,o,a=this,u=[qv(i=this._createDomElement).call(i,this),qv(e=this._appendDomElement).call(e,this),qv(n=this._updateDirtyDomComponents).call(n,this),function(){a.dirty&&(s=a._getDomComponentsSizes())},function(){var t;a.dirty&&qv(t=a._updateDomComponentsSizes).call(t,a)(s)},qv(r=this._repaintDomAdditionals).call(r,this)];return t?u:(up(u).call(u,(function(t){o=t()})),o)}},{key:"show",value:function(t){if(!this.displayed)return this.redraw(t)}},{key:"hide",value:function(){if(this.displayed){var t=this.dom;t.box.remove?t.box.remove():t.box.parentNode&&t.box.parentNode.removeChild(t.box),t.line.remove?t.line.remove():t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.remove?t.dot.remove():t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot),this.displayed=!1}}},{key:"repositionXY",value:function(){var t=this.options.rtl,i=function(t,i,e){var n;if(void 0!==i||void 0!==e){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3]?-1*i:i;t.style.transform=void 0!==e?void 0!==i?Vd(n="translate(".concat(r,"px, ")).call(n,e,"px)"):"translateY(".concat(e,"px)"):"translateX(".concat(r,"px)")}};i(this.dom.box,this.boxX,this.boxY,t),i(this.dom.dot,this.dotX,this.dotY,t),i(this.dom.line,this.lineX,this.lineY,t)}},{key:"repositionX",value:function(){var t=this.conversion.toScreen(this.data.start),i=void 0===this.data.align?this.options.align:this.data.align,e=this.props.line.width,n=this.props.dot.width;"right"==i?(this.boxX=t-this.width,this.lineX=t-e,this.dotX=t-e/2-n/2):"left"==i?(this.boxX=t,this.lineX=t,this.dotX=t+e/2-n/2):(this.boxX=t-this.width/2,this.lineX=this.options.rtl?t-e:t-e/2,this.dotX=t-n/2),this.options.rtl?this.right=this.boxX:this.left=this.boxX,this.repositionXY()}},{key:"repositionY",value:function(){var t=this.options.orientation.item,i=this.dom.line.style;if("top"==t){var e=this.parent.top+this.top+1;this.boxY=this.top||0,i.height="".concat(e,"px"),i.bottom="",i.top="0"}else{var n=this.parent.itemSet.props.height-this.parent.top-this.parent.height+this.top;this.boxY=this.parent.height-this.top-(this.height||0),i.height="".concat(n,"px"),i.top="",i.bottom="0"}this.dotY=-this.props.dot.height/2,this.repositionXY()}},{key:"getWidthLeft",value:function(){return this.width/2}},{key:"getWidthRight",value:function(){return this.width/2}}]),e}(BL);function WL(t){var i=function(){if("undefined"==typeof Reflect||!BY)return!1;if(BY.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(BY(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,n=e_(t);if(i){var r=e_(this).constructor;e=BY(n,arguments,r)}else e=n.apply(this,arguments);return Zx(this,e)}}var UL=function(t){Xx(e,t);var i=WL(e);function e(t,n,r){var s;if(Sl(this,e),(s=i.call(this,t,n,r)).props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},t&&null==t.start)throw new Error('Property "start" missing in item '.concat(t));return s}return Uf(e,[{key:"isVisible",value:function(t){if(this.cluster)return!1;var i=this.width*t.getMillisecondsPerPixel();return this.data.start.getTime()+i>t.start&&this.data.start<t.end}},{key:"_createDomElement",value:function(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["vis-item"]=this,this.dirty=!0)}},{key:"_appendDomElement",value:function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.point)}this.displayed=!0}},{key:"_updateDirtyDomComponents",value:function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var t=this.editable.updateTime||this.editable.updateGroup,i=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point".concat(i),this.dom.dot.className="vis-item vis-dot".concat(i)}}},{key:"_getDomComponentsSizes",value:function(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}}},{key:"_updateDomComponentsSizes",value:function(t){this.props.dot.width=t.dot.width,this.props.dot.height=t.dot.height,this.props.content.height=t.content.height,this.options.rtl?this.dom.content.style.marginRight="".concat(this.props.dot.width/2,"px"):this.dom.content.style.marginLeft="".concat(this.props.dot.width/2,"px"),this.width=t.point.width,this.height=t.point.height,this.dom.dot.style.top="".concat((this.height-this.props.dot.height)/2,"px");var i=this.props.dot.width,e=this.options.rtl?i/2:i/2*-1;this.dom.dot.style.transform="translateX(".concat(e,"px"),this.dirty=!1}},{key:"_repaintDomAdditionals",value:function(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)}},{key:"redraw",value:function(t){var i,e,n,r,s,o,a=this,u=[qv(i=this._createDomElement).call(i,this),qv(e=this._appendDomElement).call(e,this),qv(n=this._updateDirtyDomComponents).call(n,this),function(){a.dirty&&(s=a._getDomComponentsSizes())},function(){var t;a.dirty&&qv(t=a._updateDomComponentsSizes).call(t,a)(s)},qv(r=this._repaintDomAdditionals).call(r,this)];return t?u:(up(u).call(u,(function(t){o=t()})),o)}},{key:"repositionXY",value:function(){var t=this.options.rtl,i=function(t,i,e){var n;if(void 0!==i||void 0!==e){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3]?-1*i:i;t.style.transform=void 0!==e?void 0!==i?Vd(n="translate(".concat(r,"px, ")).call(n,e,"px)"):"translateY(".concat(e,"px)"):"translateX(".concat(r,"px)")}};i(this.dom.point,this.pointX,this.pointY,t)}},{key:"show",value:function(t){if(!this.displayed)return this.redraw(t)}},{key:"hide",value:function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)}},{key:"repositionX",value:function(){var t=this.conversion.toScreen(this.data.start);this.pointX=t,this.options.rtl?this.right=t-this.props.dot.width:this.left=t-this.props.dot.width,this.repositionXY()}},{key:"repositionY",value:function(){var t=this.options.orientation.item;this.pointY="top"==t?this.top:this.parent.height-this.top-this.height,this.repositionXY()}},{key:"getWidthLeft",value:function(){return this.props.dot.width}},{key:"getWidthRight",value:function(){return this.props.dot.width}}]),e}(BL);function qL(t){var i=function(){if("undefined"==typeof Reflect||!BY)return!1;if(BY.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(BY(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,n=e_(t);if(i){var r=e_(this).constructor;e=BY(n,arguments,r)}else e=n.apply(this,arguments);return Zx(this,e)}}var VL=function(t){Xx(e,t);var i=qL(e);function e(t,n,r){var s;if(Sl(this,e),(s=i.call(this,t,n,r)).props={content:{width:0}},s.overflow=!1,t){if(null==t.start)throw new Error('Property "start" missing in item '.concat(t.id));if(null==t.end)throw new Error('Property "end" missing in item '.concat(t.id))}return s}return Uf(e,[{key:"isVisible",value:function(t){return!this.cluster&&(this.data.start<t.end&&this.data.end>t.start)}},{key:"_createDomElement",value:function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["vis-item"]=this,this.dirty=!0)}},{key:"_appendDomElement",value:function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}this.displayed=!0}},{key:"_updateDirtyDomComponents",value:function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var t=this.editable.updateTime||this.editable.updateGroup,i=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.box.className=this.baseClassName+i,this.dom.content.style.maxWidth="none"}}},{key:"_getDomComponentsSizes",value:function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.frame).overflow,this.whiteSpace="nowrap"!==window.getComputedStyle(this.dom.content).whiteSpace,{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}}},{key:"_updateDomComponentsSizes",value:function(t){this.props.content.width=t.content.width,this.height=t.box.height,this.dom.content.style.maxWidth="",this.dirty=!1}},{key:"_repaintDomAdditionals",value:function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()}},{key:"redraw",value:function(t){var i,e,n,r,s,o,a=this,u=[qv(i=this._createDomElement).call(i,this),qv(e=this._appendDomElement).call(e,this),qv(n=this._updateDirtyDomComponents).call(n,this),function(){var t;a.dirty&&(s=qv(t=a._getDomComponentsSizes).call(t,a)())},function(){var t;a.dirty&&qv(t=a._updateDomComponentsSizes).call(t,a)(s)},qv(r=this._repaintDomAdditionals).call(r,this)];return t?u:(up(u).call(u,(function(t){o=t()})),o)}},{key:"show",value:function(t){if(!this.displayed)return this.redraw(t)}},{key:"hide",value:function(){if(this.displayed){var t=this.dom.box;t.parentNode&&t.parentNode.removeChild(t),this.displayed=!1}}},{key:"repositionX",value:function(t){var i,e,n=this.parent.width,r=this.conversion.toScreen(this.data.start),s=this.conversion.toScreen(this.data.end),o=void 0===this.data.align?this.options.align:this.data.align;!1===this.data.limitSize||void 0!==t&&!0!==t||(r<-n&&(r=-n),s>2*n&&(s=2*n));var a=Math.max(Math.round(1e3*(s-r))/1e3,1);switch(this.overflow?(this.options.rtl?this.right=r:this.left=r,this.width=a+this.props.content.width,e=this.props.content.width):(this.options.rtl?this.right=r:this.left=r,this.width=a,e=Math.min(s-r,this.props.content.width)),this.options.rtl?this.dom.box.style.transform="translateX(".concat(-1*this.right,"px)"):this.dom.box.style.transform="translateX(".concat(this.left,"px)"),this.dom.box.style.width="".concat(a,"px"),this.whiteSpace&&(this.height=this.dom.box.offsetHeight),o){case"left":this.dom.content.style.transform="translateX(0)";break;case"right":if(this.options.rtl){var u=-1*Math.max(a-e,0);this.dom.content.style.transform="translateX(".concat(u,"px)")}else this.dom.content.style.transform="translateX(".concat(Math.max(a-e,0),"px)");break;case"center":if(this.options.rtl){var h=-1*Math.max((a-e)/2,0);this.dom.content.style.transform="translateX(".concat(h,"px)")}else this.dom.content.style.transform="translateX(".concat(Math.max((a-e)/2,0),"px)");break;default:if(i=this.overflow?s>0?Math.max(-r,0):-e:r<0?-r:0,this.options.rtl){var c=-1*i;this.dom.content.style.transform="translateX(".concat(c,"px)")}else this.dom.content.style.transform="translateX(".concat(i,"px)")}}},{key:"repositionY",value:function(){var t=this.options.orientation.item,i=this.dom.box;i.style.top="".concat("top"==t?this.top:this.parent.height-this.top-this.height,"px")}},{key:"_repaintDragLeft",value:function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragLeft){var t=document.createElement("div");t.className="vis-drag-left",t.dragLeftItem=this,this.dom.box.appendChild(t),this.dom.dragLeft=t}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragLeft||(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)}},{key:"_repaintDragRight",value:function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragRight){var t=document.createElement("div");t.className="vis-drag-right",t.dragRightItem=this,this.dom.box.appendChild(t),this.dom.dragRight=t}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragRight||(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)}}]),e}(BL);function XL(t){var i=function(){if("undefined"==typeof Reflect||!BY)return!1;if(BY.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(BY(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,n=e_(t);if(i){var r=e_(this).constructor;e=BY(n,arguments,r)}else e=n.apply(this,arguments);return Zx(this,e)}}VL.prototype.baseClassName="vis-item vis-range";var ZL=function(t){Xx(e,t);var i=XL(e);function e(t,n,r){var s;if(Sl(this,e),(s=i.call(this,t,n,r)).props={content:{width:0}},s.overflow=!1,t){if(null==t.start)throw new Error('Property "start" missing in item '.concat(t.id));if(null==t.end)throw new Error('Property "end" missing in item '.concat(t.id))}return s}return Uf(e,[{key:"isVisible",value:function(t){return this.data.start<t.end&&this.data.end>t.start}},{key:"_createDomElement",value:function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)}},{key:"_appendDomElement",value:function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.background;if(!t)throw new Error("Cannot redraw item: parent has no background container element");t.appendChild(this.dom.box)}this.displayed=!0}},{key:"_updateDirtyDomComponents",value:function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);var t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");this.dom.box.className=this.baseClassName+t}}},{key:"_getDomComponentsSizes",value:function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.content).overflow,{content:{width:this.dom.content.offsetWidth}}}},{key:"_updateDomComponentsSizes",value:function(t){this.props.content.width=t.content.width,this.height=0,this.dirty=!1}},{key:"_repaintDomAdditionals",value:function(){}},{key:"redraw",value:function(t){var i,e,n,r,s,o,a=this,u=[qv(i=this._createDomElement).call(i,this),qv(e=this._appendDomElement).call(e,this),qv(n=this._updateDirtyDomComponents).call(n,this),function(){var t;a.dirty&&(s=qv(t=a._getDomComponentsSizes).call(t,a)())},function(){var t;a.dirty&&qv(t=a._updateDomComponentsSizes).call(t,a)(s)},qv(r=this._repaintDomAdditionals).call(r,this)];return t?u:(up(u).call(u,(function(t){o=t()})),o)}},{key:"repositionY",value:function(t){var i,e=this.options.orientation.item;if(void 0!==this.data.subgroup){var n=this.data.subgroup;this.dom.box.style.height="".concat(this.parent.subgroups[n].height,"px"),this.dom.box.style.top="".concat("top"==e?this.parent.top+this.parent.subgroups[n].top:this.parent.top+this.parent.height-this.parent.subgroups[n].top-this.parent.subgroups[n].height,"px"),this.dom.box.style.bottom=""}else this.parent instanceof HL?(i=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom="bottom"==e?"0":"",this.dom.box.style.top="top"==e?"0":""):(i=this.parent.height,this.dom.box.style.top="".concat(this.parent.top,"px"),this.dom.box.style.bottom="");this.dom.box.style.height="".concat(i,"px")}}]),e}(BL);ZL.prototype.baseClassName="vis-item vis-background",ZL.prototype.stack=!1,ZL.prototype.show=VL.prototype.show,ZL.prototype.hide=VL.prototype.hide,ZL.prototype.repositionX=VL.prototype.repositionX;var JL=function(){function t(i,e){Sl(this,t),this.container=i,this.overflowMethod=e||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return Uf(t,[{key:"setPosition",value:function(t,i){this.x=Pg(t),this.y=Pg(i)}},{key:"setText",value:function(t){t instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(t)):this.frame.innerHTML=SC.xss(t)}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var i=this.frame.clientHeight,e=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,r=this.frame.parentNode.clientWidth,s=0,o=0;if("flip"==this.overflowMethod||"none"==this.overflowMethod){var a=!1,u=!0;"flip"==this.overflowMethod&&(this.y-i<this.padding&&(u=!1),this.x+e>r-this.padding&&(a=!0)),s=a?this.x-e:this.x,o=u?this.y-i:this.y}else(o=this.y-i)+i+this.padding>n&&(o=n-i-this.padding),o<this.padding&&(o=this.padding),(s=this.x)+e+this.padding>r&&(s=r-e-this.padding),s<this.padding&&(s=this.padding);this.frame.style.left=s+"px",this.frame.style.top=o+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),t}(),KL={},QL={get exports(){return KL},set exports(t){KL=t}},tz=Su.every;Cn({target:"Array",proto:!0,forced:!Jv("every")},{every:function(t){return tz(this,t,arguments.length>1?arguments[1]:void 0)}});var iz=wd("Array").every,ez=ki,nz=iz,rz=Array.prototype,sz=function(t){var i=t.every;return t===rz||ez(rz,t)&&i===rz.every?nz:i},oz=sz;!function(t){t.exports=oz}(QL);var az=n(KL);function uz(t,i){var e=void 0!==Hd&&Ya(t)||t["@@iterator"];if(!e){if(ev(t)||(e=function(t,i){var e;if(!t)return;if("string"==typeof t)return hz(t,i);var n=Zd(e=Object.prototype.toString.call(t)).call(e,8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return aa(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hz(t,i)}(t))||i&&t&&"number"==typeof t.length){e&&(t=e);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==e.return||e.return()}finally{if(a)throw s}}}}function hz(t,i){(null==i||i>t.length)&&(i=t.length);for(var e=0,n=new Array(i);e<i;e++)n[e]=t[e];return n}function cz(t){var i=function(){if("undefined"==typeof Reflect||!BY)return!1;if(BY.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(BY(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,n=e_(t);if(i){var r=e_(this).constructor;e=BY(n,arguments,r)}else e=n.apply(this,arguments);return Zx(this,e)}}var lz=function(t){Xx(e,t);var i=cz(e);function e(t,n,r){var s;Sl(this,e);var o=pm({},{fitOnDoubleClick:!0},r,{editable:!1});if((s=i.call(this,t,n,o)).props={content:{width:0,height:0}},!t||null==t.uiItems)throw new Error('Property "uiItems" missing in item '+t.id);return s.id=XY(),s.group=t.group,s._setupRange(),s.emitter=s.data.eventEmitter,s.range=s.data.range,s.attached=!1,s.isCluster=!0,s.data.isCluster=!0,s}return Uf(e,[{key:"hasItems",value:function(){return this.data.uiItems&&this.data.uiItems.length&&this.attached}},{key:"setUiItems",value:function(t){this.detach(),this.data.uiItems=t,this._setupRange(),this.attach()}},{key:"isVisible",value:function(t){var i=this.data.end?this.data.end-this.data.start:0,e=this.width*t.getMillisecondsPerPixel(),n=Math.max(this.data.start.getTime()+i,this.data.start.getTime()+e);return this.data.start<t.end&&n>t.start&&this.hasItems()}},{key:"getData",value:function(){return{isCluster:!0,id:this.id,items:this.data.items||[],data:this.data}}},{key:"redraw",value:function(t){var i,e,n,r,s,o,a,u,h=[qv(i=this._createDomElement).call(i,this),qv(e=this._appendDomElement).call(e,this),qv(n=this._updateDirtyDomComponents).call(n,this),qv(r=function(){this.dirty&&(a=this._getDomComponentsSizes())}).call(r,this),qv(s=function(){var t;this.dirty&&qv(t=this._updateDomComponentsSizes).call(t,this)(a)}).call(s,this),qv(o=this._repaintDomAdditionals).call(o,this)];return t?h:(up(h).call(h,(function(t){u=t()})),u)}},{key:"show",value:function(){this.displayed||this.redraw()}},{key:"hide",value:function(){if(this.displayed){var t=this.dom;t.box.parentNode&&t.box.parentNode.removeChild(t.box),this.options.showStipes&&(t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot)),this.displayed=!1}}},{key:"repositionX",value:function(){var t=this.conversion.toScreen(this.data.start),i=this.data.end?this.conversion.toScreen(this.data.end):0;if(i)this.repositionXWithRanges(t,i);else{var e=void 0===this.data.align?this.options.align:this.data.align;this.repositionXWithoutRanges(t,e)}this.options.showStipes&&(this.dom.line.style.display=this._isStipeVisible()?"block":"none",this.dom.dot.style.display=this._isStipeVisible()?"block":"none",this._isStipeVisible()&&this.repositionStype(t,i))}},{key:"repositionStype",value:function(t,i){this.dom.line.style.display="block",this.dom.dot.style.display="block";var e=this.dom.line.offsetWidth,n=this.dom.dot.offsetWidth;if(i){var r=e+t+(i-t)/2,s=r-n/2,o=this.options.rtl?-1*r:r,a=this.options.rtl?-1*s:s;this.dom.line.style.transform="translateX(".concat(o,"px)"),this.dom.dot.style.transform="translateX(".concat(a,"px)")}else{var u=this.options.rtl?-1*t:t,h=this.options.rtl?-1*(t-n/2):t-n/2;this.dom.line.style.transform="translateX(".concat(u,"px)"),this.dom.dot.style.transform="translateX(".concat(h,"px)")}}},{key:"repositionXWithoutRanges",value:function(t,i){"right"==i?this.options.rtl?(this.right=t-this.width,this.dom.box.style.right=this.right+"px"):(this.left=t-this.width,this.dom.box.style.left=this.left+"px"):"left"==i?this.options.rtl?(this.right=t,this.dom.box.style.right=this.right+"px"):(this.left=t,this.dom.box.style.left=this.left+"px"):this.options.rtl?(this.right=t-this.width/2,this.dom.box.style.right=this.right+"px"):(this.left=t-this.width/2,this.dom.box.style.left=this.left+"px")}},{key:"repositionXWithRanges",value:function(t,i){var e=Math.round(Math.max(i-t+.5,1));this.options.rtl?this.right=t:this.left=t,this.width=Math.max(e,this.minWidth||0),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=e+"px"}},{key:"repositionY",value:function(){var t=this.options.orientation.item,i=this.dom.box;if(i.style.top="top"==t?(this.top||0)+"px":(this.parent.height-this.top-this.height||0)+"px",this.options.showStipes){if("top"==t)this.dom.line.style.top="0",this.dom.line.style.height=this.parent.top+this.top+1+"px",this.dom.line.style.bottom="";else{var e=this.parent.itemSet.props.height,n=e-this.parent.top-this.parent.height+this.top;this.dom.line.style.top=e-n+"px",this.dom.line.style.bottom="0"}this.dom.dot.style.top=-this.dom.dot.offsetHeight/2+"px"}}},{key:"getWidthLeft",value:function(){return this.width/2}},{key:"getWidthRight",value:function(){return this.width/2}},{key:"move",value:function(){this.repositionX(),this.repositionY()}},{key:"attach",value:function(){var t,i,e=uz(this.data.uiItems);try{for(e.s();!(i=e.n()).done;){i.value.cluster=this}}catch(t){e.e(t)}finally{e.f()}this.data.items=fv(t=this.data.uiItems).call(t,(function(t){return t.data})),this.attached=!0,this.dirty=!0}},{key:"detach",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.hasItems()){var i,e=uz(this.data.uiItems);try{for(e.s();!(i=e.n()).done;){delete i.value.cluster}}catch(t){e.e(t)}finally{e.f()}this.attached=!1,t&&this.group&&(this.group.remove(this),this.group=null),this.data.items=[],this.dirty=!0}}},{key:"_onDoubleClick",value:function(){this._fit()}},{key:"_setupRange",value:function(){var t,i,e,n=fv(t=this.data.uiItems).call(t,(function(t){return{start:t.data.start.valueOf(),end:t.data.end?t.data.end.valueOf():t.data.start.valueOf()}}));this.data.min=Math.min.apply(Math,Id(fv(n).call(n,(function(t){return Math.min(t.start,t.end||t.start)})))),this.data.max=Math.max.apply(Math,Id(fv(n).call(n,(function(t){return Math.max(t.start,t.end||t.start)}))));var r=fv(i=this.data.uiItems).call(i,(function(t){return t.center})),s=lF(r).call(r,(function(t,i){return t+i}),0)/this.data.uiItems.length;WE(e=this.data.uiItems).call(e,(function(t){return t.data.end}))?(this.data.start=new Date(this.data.min),this.data.end=new Date(this.data.max)):(this.data.start=new Date(s),this.data.end=null)}},{key:"_getUiItems",value:function(){var t,i=this;return this.data.uiItems&&this.data.uiItems.length?ng(t=this.data.uiItems).call(t,(function(t){return t.cluster===i})):[]}},{key:"_createDomElement",value:function(){if(!this.dom){var t;if(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.options.showStipes&&(this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-cluster-line",this.dom.line.style.display="none",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-cluster-dot",this.dom.dot.style.display="none"),this.options.fitOnDoubleClick)this.dom.box.ondblclick=qv(t=e.prototype._onDoubleClick).call(t,this);this.dom.box["vis-item"]=this,this.dirty=!0}}},{key:"_appendDomElement",value:function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}var i=this.parent.dom.background;if(this.options.showStipes){if(!this.dom.line.parentNode){if(!i)throw new Error("Cannot redraw item: parent has no background container element");i.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var e=this.parent.dom.axis;if(!i)throw new Error("Cannot redraw item: parent has no axis container element");e.appendChild(this.dom.dot)}}this.displayed=!0}},{key:"_updateDirtyDomComponents",value:function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var t=this.baseClassName+" "+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+" vis-readonly";this.dom.box.className="vis-item "+t,this.options.showStipes&&(this.dom.line.className="vis-item vis-cluster-line "+(this.selected?" vis-selected":""),this.dom.dot.className="vis-item vis-cluster-dot "+(this.selected?" vis-selected":"")),this.data.end&&(this.dom.content.style.maxWidth="none")}}},{key:"_getDomComponentsSizes",value:function(){var t={previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}};return this.options.showStipes&&(t.dot={height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},t.line={width:this.dom.line.offsetWidth}),t}},{key:"_updateDomComponentsSizes",value:function(t){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.data.end?this.minWidth=t.box.width:this.width=t.box.width,this.height=t.box.height,this.options.rtl?this.dom.box.style.right=t.previous.right:this.dom.box.style.left=t.previous.left,this.dirty=!1}},{key:"_repaintDomAdditionals",value:function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box)}},{key:"_isStipeVisible",value:function(){return this.minWidth>=this.width||!this.data.end}},{key:"_getFitRange",value:function(){var t=.05*(this.data.max-this.data.min)/2;return{fitStart:this.data.min-t,fitEnd:this.data.max+t}}},{key:"_fit",value:function(){if(this.emitter){var t=this._getFitRange(),i=t.fitStart,e=t.fitEnd,n={start:new Date(i),end:new Date(e),animation:!0};this.emitter.emit("fit",n)}}},{key:"_getItemData",value:function(){return this.data}}]),e}(BL);function fz(t,i){var e=void 0!==Hd&&Ya(t)||t["@@iterator"];if(!e){if(ev(t)||(e=function(t,i){var e;if(!t)return;if("string"==typeof t)return dz(t,i);var n=Zd(e=Object.prototype.toString.call(t)).call(e,8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return aa(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dz(t,i)}(t))||i&&t&&"number"==typeof t.length){e&&(t=e);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==e.return||e.return()}finally{if(a)throw s}}}}function dz(t,i){(null==i||i>t.length)&&(i=t.length);for(var e=0,n=new Array(i);e<i;e++)n[e]=t[e];return n}lz.prototype.baseClassName="vis-item vis-range vis-cluster";var vz="__ungrouped__",pz=function(){function t(i){Sl(this,t),this.itemSet=i,this.groups={},this.cache={},this.cache[-1]=[]}return Uf(t,[{key:"createClusterItem",value:function(t,i,e){return new lz(t,i,e)}},{key:"setItems",value:function(t,i){this.items=t||[],this.dataChanged=!0,this.applyOnChangedLevel=!1,i&&i.applyOnChangedLevel&&(this.applyOnChangedLevel=i.applyOnChangedLevel)}},{key:"updateData",value:function(){this.dataChanged=!0,this.applyOnChangedLevel=!1}},{key:"getClusters",value:function(t,i,e){var n="boolean"==typeof e?{}:e,r=n.maxItems,s=n.clusterCriteria;s||(s=function(){return!0}),r=r||1;var o=-1,a=0;if(i>0){if(i>=1)return[];o=Math.abs(Math.round(Math.log(100/i)/Math.log(2))),a=Math.abs(Math.pow(2,o))}if(this.dataChanged){var u=o!=this.cacheLevel;(!this.applyOnChangedLevel||u)&&(this._dropLevelsCache(),this._filterData())}this.cacheLevel=o;var h=this.cache[o];if(!h){for(var c in h=[],this.groups)if(this.groups.hasOwnProperty(c))for(var l=this.groups[c],f=l.length,d=0;d<f;){for(var v=l[d],p=1,m=d-1;m>=0&&v.center-l[m].center<a/2;)!l[m].cluster&&s(v.data,l[m].data)&&p++,m--;for(var g=d+1;g<l.length&&l[g].center-v.center<a/2;)s(v.data,l[g].data)&&p++,g++;for(var b=h.length-1;b>=0&&v.center-h[b].center<a;)v.group==h[b].group&&s(v.data,h[b].data)&&p++,b--;if(p>r){for(var y=p-r+1,w=[],k=d;w.length<y&&k<l.length;)s(l[d].data,l[k].data)&&w.push(l[k]),k++;var x=this.itemSet.getGroupId(v.data),_=this.itemSet.groups[x]||this.itemSet.groups[vz],D=this._getClusterForItems(w,_,t,e);h.push(D),d+=y}else delete v.cluster,d+=1}this.cache[o]=h}return h}},{key:"_filterData",value:function(){var t={};this.groups=t;for(var i=0,e=pg(this.items);i<e.length;i++){var n=e[i],r=n.parent?n.parent.groupId:"",s=t[r];s||(s=[],t[r]=s),s.push(n),n.data.start&&(n.data.end?n.center=(n.data.start.valueOf()+n.data.end.valueOf())/2:n.center=n.data.start.valueOf())}for(var o in t){var a;if(t.hasOwnProperty(o))LE(a=t[o]).call(a,(function(t,i){return t.center-i.center}))}this.dataChanged=!1}},{key:"_getClusterForItems",value:function(t,i,e,n){var r,s,o=fv(r=e||[]).call(r,(function(t){var i;return{cluster:t,itemsIds:new RT(fv(i=t.data.uiItems).call(i,(function(t){return t.id})))}}));if(o.length){var a,u=fz(o);try{var h=function(){var i=a.value;if(i.itemsIds.size===t.length&&az(t).call(t,(function(t){return i.itemsIds.has(t.id)})))return s=i.cluster,"break"};for(u.s();!(a=u.n()).done;){if("break"===h())break}}catch(t){u.e(t)}finally{u.f()}}if(s)return s.setUiItems(t),s.group!==i&&(s.group&&s.group.remove(s),i&&(i.add(s),s.group=i)),s;var c=n.titleTemplate||"",l={toScreen:this.itemSet.body.util.toScreen,toTime:this.itemSet.body.util.toTime},f=c.replace(/{count}/,t.length),d='<div title="'+f+'">'+t.length+"</div>",v=pm({},n,this.itemSet.options),p={content:d,title:f,group:i,uiItems:t,eventEmitter:this.itemSet.body.emitter,range:this.itemSet.body.range};return s=this.createClusterItem(p,l,v),i&&(i.add(s),s.group=i),s.attach(),s}},{key:"_dropLevelsCache",value:function(){this.cache={},this.cacheLevel=-1,this.cache[this.cacheLevel]=[]}}]),t}();function mz(t,i){var e=void 0!==Hd&&Ya(t)||t["@@iterator"];if(!e){if(ev(t)||(e=function(t,i){var e;if(!t)return;if("string"==typeof t)return gz(t,i);var n=Zd(e=Object.prototype.toString.call(t)).call(e,8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return aa(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gz(t,i)}(t))||i&&t&&"number"==typeof t.length){e&&(t=e);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==e.return||e.return()}finally{if(a)throw s}}}}function gz(t,i){(null==i||i>t.length)&&(i=t.length);for(var e=0,n=new Array(i);e<i;e++)n[e]=t[e];return n}function bz(t){var i=function(){if("undefined"==typeof Reflect||!BY)return!1;if(BY.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(BY(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,n=e_(t);if(i){var r=e_(this).constructor;e=BY(n,arguments,r)}else e=n.apply(this,arguments);return Zx(this,e)}}var yz="__ungrouped__",wz="__background__",kz=function(t){Xx(e,t);var i=bz(e);function e(t,n){var r;Sl(this,e),(r=i.call(this)).body=t,r.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function(t,i,e){var n=i.order;i.order=t.order,t.order=n},groupOrder:"order",selectable:!0,multiselect:!1,longSelectPressTime:251,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:MO.snap,onDropObjectOnItem:function(t,i,e){e(i)},onAdd:function(t,i){i(t)},onUpdate:function(t,i){i(t)},onMove:function(t,i){i(t)},onRemove:function(t,i){i(t)},onMoving:function(t,i){i(t)},onAddGroup:function(t,i){i(t)},onMoveGroup:function(t,i){i(t)},onRemoveGroup:function(t,i){i(t)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:500},tooltipOnItemUpdateTime:!1},r.options=SC.extend({},r.defaultOptions),r.options.rtl=n.rtl,r.options.onTimeout=n.onTimeout,r.conversion={toScreen:t.util.toScreen,toTime:t.util.toTime},r.dom={},r.props={},r.hammer=null;var s=Yx(r);return r.itemsData=null,r.groupsData=null,r.itemsSettingTime=null,r.initialItemSetDrawn=!1,r.userContinueNotBail=null,r.sequentialSelection=!1,r.itemListeners={add:function(t,i,e){s._onAdd(i.items),s.options.cluster&&s.clusterGenerator.setItems(s.items,{applyOnChangedLevel:!1}),s.redraw()},update:function(t,i,e){s._onUpdate(i.items),s.options.cluster&&s.clusterGenerator.setItems(s.items,{applyOnChangedLevel:!1}),s.redraw()},remove:function(t,i,e){s._onRemove(i.items),s.options.cluster&&s.clusterGenerator.setItems(s.items,{applyOnChangedLevel:!1}),s.redraw()}},r.groupListeners={add:function(t,i,e){if(s._onAddGroups(i.items),s.groupsData&&s.groupsData.length>0){var n,r=s.groupsData.getDataSet();up(n=r.get()).call(n,(function(t){if(t.nestedGroups){var i;0!=t.showNested&&(t.showNested=!0);var n=[];up(i=t.nestedGroups).call(i,(function(i){var e=r.get(i);e&&(e.nestedInGroup=t.id,0==t.showNested&&(e.visible=!1),n=Vd(n).call(n,e))})),r.update(n,e)}}))}},update:function(t,i,e){s._onUpdateGroups(i.items)},remove:function(t,i,e){s._onRemoveGroups(i.items)}},r.items={},r.groups={},r.groupIds=[],r.selection=[],r.popup=null,r.popupTimer=null,r.touchParams={},r.groupTouchParams={group:null,isDragging:!1},r._create(),r.setOptions(n),r.clusters=[],r}return Uf(e,[{key:"_create",value:function(){var t,i,e,n,r,s,o,a,u,h,c,l,f,d,v,p=this,m=document.createElement("div");m.className="vis-itemset",m["vis-itemset"]=this,this.dom.frame=m;var g=document.createElement("div");g.className="vis-background",m.appendChild(g),this.dom.background=g;var b=document.createElement("div");b.className="vis-foreground",m.appendChild(b),this.dom.foreground=b;var y=document.createElement("div");y.className="vis-axis",this.dom.axis=y;var w=document.createElement("div");w.className="vis-labelset",this.dom.labelSet=w,this._updateUngrouped();var k=new HL(wz,null,this);k.show(),this.groups[wz]=k,this.hammer=new _O(this.body.dom.centerContainer),this.hammer.on("hammer.input",(function(t){t.isFirst&&p._onTouch(t)})),this.hammer.on("panstart",qv(t=this._onDragStart).call(t,this)),this.hammer.on("panmove",qv(i=this._onDrag).call(i,this)),this.hammer.on("panend",qv(e=this._onDragEnd).call(e,this)),this.hammer.get("pan").set({threshold:5,direction:_O.ALL}),this.hammer.get("press").set({time:1e4}),this.hammer.on("tap",qv(n=this._onSelectItem).call(n,this)),this.hammer.on("press",qv(r=this._onMultiSelectItem).call(r,this)),this.hammer.get("press").set({time:1e4}),this.hammer.on("doubletap",qv(s=this._onAddItem).call(s,this)),this.options.rtl?this.groupHammer=new _O(this.body.dom.rightContainer):this.groupHammer=new _O(this.body.dom.leftContainer),this.groupHammer.on("tap",qv(o=this._onGroupClick).call(o,this)),this.groupHammer.on("panstart",qv(a=this._onGroupDragStart).call(a,this)),this.groupHammer.on("panmove",qv(u=this._onGroupDrag).call(u,this)),this.groupHammer.on("panend",qv(h=this._onGroupDragEnd).call(h,this)),this.groupHammer.get("pan").set({threshold:5,direction:_O.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",qv(c=this._onMouseOver).call(c,this)),this.body.dom.centerContainer.addEventListener("mouseout",qv(l=this._onMouseOut).call(l,this)),this.body.dom.centerContainer.addEventListener("mousemove",qv(f=this._onMouseMove).call(f,this)),this.body.dom.centerContainer.addEventListener("contextmenu",qv(d=this._onDragEnd).call(d,this)),this.body.dom.centerContainer.addEventListener("mousewheel",qv(v=this._onMouseWheel).call(v,this)),this.show()}},{key:"setOptions",value:function(t){var i=this;if(t){var e,n;SC.selectiveExtend(["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","sequentialSelection","multiselectPerGroup","longSelectPressTime","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime","groupHeightMode","onTimeout"],this.options,t),"itemsAlwaysDraggable"in t&&("boolean"==typeof t.itemsAlwaysDraggable?(this.options.itemsAlwaysDraggable.item=t.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):"object"===If(t.itemsAlwaysDraggable)&&(SC.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,t.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"sequentialSelection"in t&&"boolean"==typeof t.sequentialSelection&&(this.options.sequentialSelection=t.sequentialSelection),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.item="top"===t.orientation?"top":"bottom":"object"===If(t.orientation)&&"item"in t.orientation&&(this.options.orientation.item=t.orientation.item)),"margin"in t&&("number"==typeof t.margin?(this.options.margin.axis=t.margin,this.options.margin.item.horizontal=t.margin,this.options.margin.item.vertical=t.margin):"object"===If(t.margin)&&(SC.selectiveExtend(["axis"],this.options.margin,t.margin),"item"in t.margin&&("number"==typeof t.margin.item?(this.options.margin.item.horizontal=t.margin.item,this.options.margin.item.vertical=t.margin.item):"object"===If(t.margin.item)&&SC.selectiveExtend(["horizontal","vertical"],this.options.margin.item,t.margin.item)))),up(e=["locale","locales"]).call(e,(function(e){e in t&&(i.options[e]=t[e])})),"editable"in t&&("boolean"==typeof t.editable?(this.options.editable.updateTime=t.editable,this.options.editable.updateGroup=t.editable,this.options.editable.add=t.editable,this.options.editable.remove=t.editable,this.options.editable.overrideItems=!1):"object"===If(t.editable)&&SC.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,t.editable)),"groupEditable"in t&&("boolean"==typeof t.groupEditable?(this.options.groupEditable.order=t.groupEditable,this.options.groupEditable.add=t.groupEditable,this.options.groupEditable.remove=t.groupEditable):"object"===If(t.groupEditable)&&SC.selectiveExtend(["order","add","remove"],this.options.groupEditable,t.groupEditable));up(n=["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"]).call(n,(function(e){var n=t[e];if(n){var r;if("function"!=typeof n)throw new Error(Vd(r="option ".concat(e," must be a function ")).call(r,e,"(item, callback)"));i.options[e]=n}})),t.cluster?(pm(this.options,{cluster:t.cluster}),this.clusterGenerator||(this.clusterGenerator=new pz(this)),this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.clusterGenerator?(this._detachAllClusters(),this.clusters=[],this.clusterGenerator=null,this.options.cluster=void 0,this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.markDirty()}}},{key:"markDirty",value:function(t){this.groupIds=[],t&&(t.refreshItems&&up(SC).call(SC,this.items,(function(t){t.dirty=!0,t.displayed&&t.redraw()})),t.restackGroups&&up(SC).call(SC,this.groups,(function(t,i){i!==wz&&(t.stackDirty=!0)})))}},{key:"destroy",value:function(){this.clearPopupTimer(),this.hide(),this.setItems(null),this.setGroups(null),this.hammer&&this.hammer.destroy(),this.groupHammer&&this.groupHammer.destroy(),this.hammer=null,this.body=null,this.conversion=null}},{key:"hide",value:function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)}},{key:"show",value:function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))}},{key:"setPopupTimer",value:function(t){if(this.clearPopupTimer(),t){var i=this.options.tooltip.delay||"number"==typeof this.options.tooltip.delay?this.options.tooltip.delay:500;this.popupTimer=Vb((function(){t.show()}),i)}}},{key:"clearPopupTimer",value:function(){null!=this.popupTimer&&(clearTimeout(this.popupTimer),this.popupTimer=null)}},{key:"setSelection",value:function(t){var i;null==t&&(t=[]),ev(t)||(t=[t]);var e,n=ng(i=this.selection).call(i,(function(i){return-1===tb(t).call(t,i)})),r=mz(n);try{for(r.s();!(e=r.n()).done;){var s=e.value,o=this.getItemById(s);o&&o.unselect()}}catch(t){r.e(t)}finally{r.f()}this.selection=Id(t);var a,u=mz(t);try{for(u.s();!(a=u.n()).done;){var h=a.value,c=this.getItemById(h);c&&c.select()}}catch(t){u.e(t)}finally{u.f()}}},{key:"getSelection",value:function(){var t;return Vd(t=this.selection).call(t,[])}},{key:"getVisibleItems",value:function(){var t,i,e=this.body.range.getRange();this.options.rtl?(t=this.body.util.toScreen(e.start),i=this.body.util.toScreen(e.end)):(i=this.body.util.toScreen(e.start),t=this.body.util.toScreen(e.end));var n=[];for(var r in this.groups)if(this.groups.hasOwnProperty(r)){var s,o=this.groups[r],a=mz(o.isVisible?o.visibleItems:[]);try{for(a.s();!(s=a.n()).done;){var u=s.value;this.options.rtl?u.right<i&&u.right+u.width>t&&n.push(u.id):u.left<t&&u.left+u.width>i&&n.push(u.id)}}catch(t){a.e(t)}finally{a.f()}}return n}},{key:"getItemsAtCurrentTime",value:function(t){var i,e;this.options.rtl?(i=this.body.util.toScreen(t),e=this.body.util.toScreen(t)):(e=this.body.util.toScreen(t),i=this.body.util.toScreen(t));var n=[];for(var r in this.groups)if(this.groups.hasOwnProperty(r)){var s,o=this.groups[r],a=mz(o.isVisible?o.visibleItems:[]);try{for(a.s();!(s=a.n()).done;){var u=s.value;this.options.rtl?u.right<e&&u.right+u.width>i&&n.push(u.id):u.left<i&&u.left+u.width>e&&n.push(u.id)}}catch(t){a.e(t)}finally{a.f()}}return n}},{key:"getVisibleGroups",value:function(){var t=[];for(var i in this.groups){if(this.groups.hasOwnProperty(i))this.groups[i].isVisible&&t.push(i)}return t}},{key:"getItemById",value:function(t){var i;return this.items[t]||hL(i=this.clusters).call(i,(function(i){return i.id===t}))}},{key:"_deselect",value:function(t){for(var i=this.selection,e=0,n=i.length;e<n;e++)if(i[e]==t){Jp(i).call(i,e,1);break}}},{key:"redraw",value:function(){var t=this.options.margin,i=this.body.range,e=SC.option.asSize,n=this.options,r=n.orientation.item,s=!1,o=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,o.className="vis-itemset",this.options.cluster&&this._clusterItems(),s=this._orderGroups()||s;var a=i.end-i.start,u=a!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,h=i.start!=this.lastRangeStart,c=n.stack!=this.lastStack,l=n.stackSubgroups!=this.lastStackSubgroups,f=u||h||c||l;this.lastVisibleInterval=a,this.lastRangeStart=i.start,this.lastStack=n.stack,this.lastStackSubgroups=n.stackSubgroups,this.props.lastWidth=this.props.width;var d=this._firstGroup(),v={item:t.item,axis:t.axis},p={item:t.item,axis:t.item.vertical/2},m=0,g=t.axis+t.item.vertical;this.groups[wz].redraw(i,p,f);var b={},y=0;if(up(SC).call(SC,this.groups,(function(t,e){if(e!==wz){var n=t==d?v:p;b[e]=t.redraw(i,n,f,!0),y=b[e].length}})),y>0){for(var w={},k=function(t){up(SC).call(SC,b,(function(i,e){w[e]=i[t]()}))},x=0;x<y;x++)k(x);up(SC).call(SC,this.groups,(function(t,i){if(i!==wz){var e=w[i];s=e||s,m+=t.height}})),m=Math.max(m,g)}return m=Math.max(m,g),o.style.height=e(m),this.props.width=o.offsetWidth,this.props.height=m,this.dom.axis.style.top=e("top"==r?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.hammer.get("press").set({time:this.options.longSelectPressTime}),this.initialItemSetDrawn=!0,s=this._isResized()||s}},{key:"_firstGroup",value:function(){var t="top"==this.options.orientation.item?0:this.groupIds.length-1,i=this.groupIds[t];return this.groups[i]||this.groups[yz]||null}},{key:"_updateUngrouped",value:function(){var t,i,e=this.groups[yz];if(this.groupsData){if(e)for(i in e.dispose(),delete this.groups[yz],this.items)if(this.items.hasOwnProperty(i)){(t=this.items[i]).parent&&t.parent.remove(t);var n=this.getGroupId(t.data),r=this.groups[n];r&&r.add(t)||t.hide()}}else if(!e){for(i in e=new IL(null,null,this),this.groups[yz]=e,this.items)this.items.hasOwnProperty(i)&&(t=this.items[i],e.add(t));e.show()}}},{key:"getLabelSet",value:function(){return this.dom.labelSet}},{key:"setItems",value:function(t){this.itemsSettingTime=new Date;var i,e=this,n=this.itemsData;if(t){if(!bC(t))throw new TypeError("Data must implement the interface of DataSet or DataView");this.itemsData=xC(t)}else this.itemsData=null;if(n&&(up(SC).call(SC,this.itemListeners,(function(t,i){n.off(i,t)})),n.dispose(),i=n.getIds(),this._onRemove(i)),this.itemsData){var r=this.id;up(SC).call(SC,this.itemListeners,(function(t,i){e.itemsData.on(i,t,r)})),i=this.itemsData.getIds(),this._onAdd(i),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})}},{key:"getItems",value:function(){return null!=this.itemsData?this.itemsData.rawDS:null}},{key:"setGroups",value:function(t){var i,e=this;if(this.groupsData&&(up(SC).call(SC,this.groupListeners,(function(t,i){e.groupsData.off(i,t)})),i=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(i)),t){if(!bC(t))throw new TypeError("Data must implement the interface of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var n,r=this.groupsData.getDataSet();up(n=r.get()).call(n,(function(t){var i;t.nestedGroups&&up(i=t.nestedGroups).call(i,(function(i){var e=r.get(i);e.nestedInGroup=t.id,0==t.showNested&&(e.visible=!1),r.update(e)}))}));var s=this.id;up(SC).call(SC,this.groupListeners,(function(t,i){e.groupsData.on(i,t,s)})),i=this.groupsData.getIds(),this._onAddGroups(i)}this._updateUngrouped(),this._order(),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems(),this.markDirty({refreshItems:!0,restackGroups:!0})),this.body.emitter.emit("_change",{queue:!0})}},{key:"getGroups",value:function(){return this.groupsData}},{key:"removeItem",value:function(t){var i=this,e=this.itemsData.get(t);e&&this.options.onRemove(e,(function(e){e&&i.itemsData.remove(t)}))}},{key:"_getType",value:function(t){return t.type||this.options.type||(t.end?"range":"box")}},{key:"getGroupId",value:function(t){return"background"==this._getType(t)&&null==t.group?wz:this.groupsData?t.group:yz}},{key:"_onUpdate",value:function(t){var i=this,n=this;up(t).call(t,(function(t){var r,s=n.itemsData.get(t),o=n.items[t],a=s?n._getType(s):null,u=e.types[a];if(o&&(u&&o instanceof u?n._updateItem(o,s):(r=o.selected,n._removeItem(o),o=null)),!o&&s){if(!u)throw new TypeError('Unknown item type "'.concat(a,'"'));(o=new u(s,n.conversion,n.options)).id=t,n._addItem(o),r&&(i.selection.push(t),o.select())}})),this._order(),this.options.cluster&&(this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this._clusterItems()),this.body.emitter.emit("_change",{queue:!0})}},{key:"_onRemove",value:function(t){var i=0,e=this;up(t).call(t,(function(t){var n=e.items[t];n&&(i++,e._removeItem(n))})),i&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))}},{key:"_order",value:function(){up(SC).call(SC,this.groups,(function(t){t.order()}))}},{key:"_onUpdateGroups",value:function(t){this._onAddGroups(t)}},{key:"_onAddGroups",value:function(t){var i=this;up(t).call(t,(function(t){var e=i.groupsData.get(t),n=i.groups[t];if(n)n.setData(e);else{if(t==yz||t==wz)throw new Error("Illegal group id. ".concat(t," is a reserved id."));var r=bb(i.options);for(var s in SC.extend(r,{height:null}),n=new IL(t,e,i),i.groups[t]=n,i.items)if(i.items.hasOwnProperty(s)){var o=i.items[s];o.data.group==t&&n.add(o)}n.order(),n.show()}})),this.body.emitter.emit("_change",{queue:!0})}},{key:"_onRemoveGroups",value:function(t){var i=this;up(t).call(t,(function(t){var e=i.groups[t];e&&(e.dispose(),delete i.groups[t])})),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems()),this.markDirty({restackGroups:!!this.options.cluster}),this.body.emitter.emit("_change",{queue:!0})}},{key:"_orderGroups",value:function(){if(this.groupsData){var t=this.groupsData.getIds({order:this.options.groupOrder});t=this._orderNestedGroups(t);var i=!SC.equalArray(t,this.groupIds);if(i){var e=this.groups;up(t).call(t,(function(t){e[t].hide()})),up(t).call(t,(function(t){e[t].show()})),this.groupIds=t}return i}return!1}},{key:"_orderNestedGroups",value:function(t){var i=this;return function t(i,e){var n=[];return up(e).call(e,(function(e){if(n.push(e),i.groupsData.get(e).nestedGroups){var r,s=fv(r=i.groupsData.get({filter:function(t){return t.nestedInGroup==e},order:i.options.groupOrder})).call(r,(function(t){return t.id}));n=Vd(n).call(n,t(i,s))}})),n}(this,ng(t).call(t,(function(t){return!i.groupsData.get(t).nestedInGroup})))}},{key:"_addItem",value:function(t){this.items[t.id]=t;var i=this.getGroupId(t.data),e=this.groups[i];e?e&&e.data&&e.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1,e&&e.add(t)}},{key:"_updateItem",value:function(t,i){t.setData(i);var e=this.getGroupId(t.data),n=this.groups[e];n?n&&n.data&&n.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1}},{key:"_removeItem",value:function(t){var i,e;t.hide(),delete this.items[t.id];var n=tb(i=this.selection).call(i,t.id);-1!=n&&Jp(e=this.selection).call(e,n,1),t.parent&&t.parent.remove(t),null!=this.popup&&this.popup.hide()}},{key:"_constructByEndArray",value:function(t){for(var i=[],e=0;e<t.length;e++)t[e]instanceof VL&&i.push(t[e]);return i}},{key:"_onTouch",value:function(t){this.touchParams.item=this.itemFromTarget(t),this.touchParams.dragLeftItem=t.target.dragLeftItem||!1,this.touchParams.dragRightItem=t.target.dragRightItem||!1,this.touchParams.itemProps=null}},{key:"_getGroupIndex",value:function(t){for(var i=0;i<this.groupIds.length;i++)if(t==this.groupIds[i])return i}},{key:"_onDragStart",value:function(t){var i=this;if(!this.touchParams.itemIsDragging){var e,n=this.touchParams.item||null,r=this;if(n&&(n.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;if(null!=n.editable&&!n.editable.updateTime&&!n.editable.updateGroup&&!this.options.editable.overrideItems)return;var s=this.touchParams.dragLeftItem,o=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=n,s)e={item:s,initialX:t.center.x,dragLeft:!0,data:this._cloneItemData(n.data)},this.touchParams.itemProps=[e];else if(o)e={item:o,initialX:t.center.x,dragRight:!0,data:this._cloneItemData(n.data)},this.touchParams.itemProps=[e];else if(this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey))this._onDragStartAddItem(t);else{this.groupIds.length<1&&this.redraw();var a=this._getGroupIndex(n.data.group),u=this.options.itemsAlwaysDraggable.item&&!n.selected?[n.id]:this.getSelection();this.touchParams.itemProps=fv(u).call(u,(function(e){var n=r.items[e],s=r._getGroupIndex(n.data.group);return{item:n,initialX:t.center.x,groupOffset:a-s,data:i._cloneItemData(n.data)}}))}t.stopPropagation()}else this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey)&&this._onDragStartAddItem(t)}}},{key:"_onDragStartAddItem",value:function(t){var i=this.options.snap||null,e=this.dom.frame.getBoundingClientRect(),n=this.options.rtl?e.right-t.center.x+10:t.center.x-e.left-10,r=this.body.util.toTime(n),s=this.body.util.getScale(),o=this.body.util.getStep(),a=i?i(r,s,o):r,u={type:"range",start:a,end:a,content:"new item"},h=XY();u[this.itemsData.idProp]=h;var c=this.groupFromTarget(t);c&&(u.group=c.groupId);var l=new VL(u,this.conversion,this.options);l.id=h,l.data=this._cloneItemData(u),this._addItem(l),this.touchParams.selectedItem=l;var f={item:l,initialX:t.center.x,data:l.data};this.options.rtl?f.dragLeft=!0:f.dragRight=!0,this.touchParams.itemProps=[f],t.stopPropagation()}},{key:"_onDrag",value:function(t){var i=this;if(null!=this.popup&&this.options.showTooltips&&!this.popup.hidden){var e=this.body.dom.centerContainer,n=e.getBoundingClientRect();this.popup.setPosition(t.center.x-n.left+e.offsetLeft,t.center.y-n.top+e.offsetTop),this.popup.show()}if(this.touchParams.itemProps){var r;t.stopPropagation();var s=this,o=this.options.snap||null,a=this.body.dom.root.offsetLeft,u=this.options.rtl?a+this.body.domProps.right.width:a+this.body.domProps.left.width,h=this.body.util.getScale(),c=this.body.util.getStep(),l=this.touchParams.selectedItem,f=(this.options.editable.overrideItems||null==l.editable)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&null!=l.editable&&l.editable.updateGroup,d=null;if(f&&l&&null!=l.data.group){var v=s.groupFromTarget(t);v&&(d=this._getGroupIndex(v.groupId))}up(r=this.touchParams.itemProps).call(r,(function(e){var n,r,a,v,p,m=s.body.util.toTime(t.center.x-u),g=s.body.util.toTime(e.initialX-u);n=i.options.rtl?-(m-g):m-g;var b=i._cloneItemData(e.item.data);if(null==e.item.editable||e.item.editable.updateTime||e.item.editable.updateGroup||s.options.editable.overrideItems){if((i.options.editable.overrideItems||null==l.editable)&&i.options.editable.updateTime||!i.options.editable.overrideItems&&null!=l.editable&&l.editable.updateTime)if(e.dragLeft)i.options.rtl?null!=b.end&&(a=SC.convert(e.data.end,"Date"),p=new Date(a.valueOf()+n),b.end=o?o(p,h,c):p):null!=b.start&&(r=SC.convert(e.data.start,"Date"),v=new Date(r.valueOf()+n),b.start=o?o(v,h,c):v);else if(e.dragRight)i.options.rtl?null!=b.start&&(r=SC.convert(e.data.start,"Date"),v=new Date(r.valueOf()+n),b.start=o?o(v,h,c):v):null!=b.end&&(a=SC.convert(e.data.end,"Date"),p=new Date(a.valueOf()+n),b.end=o?o(p,h,c):p);else if(null!=b.start)if(r=SC.convert(e.data.start,"Date").valueOf(),v=new Date(r+n),null!=b.end){var y=(a=SC.convert(e.data.end,"Date")).valueOf()-r.valueOf();b.start=o?o(v,h,c):v,b.end=new Date(b.start.valueOf()+y)}else b.start=o?o(v,h,c):v;if(f&&!e.dragLeft&&!e.dragRight&&null!=d&&null!=b.group){var w=d-e.groupOffset;w=Math.max(0,w),w=Math.min(s.groupIds.length-1,w),b.group=s.groupIds[w]}b=i._cloneItemData(b),s.options.onMoving(b,(function(t){t&&e.item.setData(i._cloneItemData(t,"Date"))}))}})),this.body.emitter.emit("_change")}}},{key:"_moveToGroup",value:function(t,i){var e=this.groups[i];if(e&&e.groupId!=t.data.group){var n=t.parent;n.remove(t),n.order(),t.data.group=e.groupId,e.add(t),e.order()}}},{key:"_onDragEnd",value:function(t){var i=this;if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){t.stopPropagation();var e=this,n=this.touchParams.itemProps;this.touchParams.itemProps=null,up(n).call(n,(function(t){var n=t.item.id;if(null!=e.itemsData.get(n)){var r=i._cloneItemData(t.item.data);e.options.onMove(r,(function(r){r?(r[i.itemsData.idProp]=n,i.itemsData.update(r)):(t.item.setData(t.data),e.body.emitter.emit("_change"))}))}else e.options.onAdd(t.item.data,(function(i){e._removeItem(t.item),i&&e.itemsData.add(i),e.body.emitter.emit("_change")}))}))}}},{key:"_onGroupClick",value:function(t){var i=this,e=this.groupFromTarget(t);Vb((function(){i.toggleGroupShowNested(e)}),1)}},{key:"toggleGroupShowNested",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(t&&t.nestedGroups){var e=this.groupsData.getDataSet();t.showNested=null!=i?!!i:!t.showNested;var n=e.get(t.groupId);n.showNested=t.showNested;for(var r,s=t.nestedGroups,o=s;o.length>0;){var a=o;o=[];for(var u=0;u<a.length;u++){var h=e.get(a[u]);h.nestedGroups&&(o=Vd(o).call(o,h.nestedGroups))}o.length>0&&(s=Vd(s).call(s,o))}if(n.showNested){for(var c=e.get(n.nestedGroups),l=0;l<c.length;l++){var f=c[l];f.nestedGroups&&f.nestedGroups.length>0&&(null==f.showNested||1==f.showNested)&&c.push.apply(c,Id(e.get(f.nestedGroups)))}r=fv(c).call(c,(function(t){return null==t.visible&&(t.visible=!0),t.visible=!!n.showNested,t}))}else{var d;r=fv(d=e.get(s)).call(d,(function(t){return null==t.visible&&(t.visible=!0),t.visible=!!n.showNested,t}))}e.update(Vd(r).call(r,n)),n.showNested?(SC.removeClassName(t.dom.label,"collapsed"),SC.addClassName(t.dom.label,"expanded")):(SC.removeClassName(t.dom.label,"expanded"),SC.addClassName(t.dom.label,"collapsed"))}}},{key:"toggleGroupDragClassName",value:function(t){t.dom.label.classList.toggle("vis-group-is-dragging"),t.dom.foreground.classList.toggle("vis-group-is-dragging")}},{key:"_onGroupDragStart",value:function(t){this.groupTouchParams.isDragging||this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(t),this.groupTouchParams.group&&(t.stopPropagation(),this.groupTouchParams.isDragging=!0,this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))}},{key:"_onGroupDrag",value:function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var i=this.groupsData.getDataSet(),e=this.groupFromTarget(t);if(e&&e.height!=this.groupTouchParams.group.height){var n=e.top<this.groupTouchParams.group.top,r=t.center?t.center.y:t.clientY,s=e.dom.foreground.getBoundingClientRect(),o=this.groupTouchParams.group.height;if(n){if(s.top+o<r)return}else{var a=e.height;if(s.top+a-o>r)return}}if(e&&e!=this.groupTouchParams.group){var u=i.get(e.groupId),h=i.get(this.groupTouchParams.group.groupId);h&&u&&(this.options.groupOrderSwap(h,u,i),i.update(h),i.update(u));var c=i.getIds({order:this.options.groupOrder});if(!SC.equalArray(c,this.groupTouchParams.originalOrder))for(var l=this.groupTouchParams.originalOrder,f=this.groupTouchParams.group.groupId,d=Math.min(l.length,c.length),v=0,p=0,m=0;v<d;){for(;v+p<d&&v+m<d&&c[v+p]==l[v+m];)v++;if(v+p>=d)break;if(c[v+p]==f)p=1;else if(l[v+m]==f)m=1;else{var g=tb(c).call(c,l[v+m]),b=i.get(c[v+p]),y=i.get(l[v+m]);this.options.groupOrderSwap(b,y,i),i.update(b),i.update(y);var w=c[v+p];c[v+p]=l[v+m],c[g]=w,v++}}}}}},{key:"_onGroupDragEnd",value:function(t){if(this.groupTouchParams.isDragging=!1,this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var i=this,e=i.groupTouchParams.group.groupId,n=i.groupsData.getDataSet(),r=SC.extend({},n.get(e));i.options.onMoveGroup(r,(function(t){if(t)t[n._idProp]=e,n.update(t);else{var r=n.getIds({order:i.options.groupOrder});if(!SC.equalArray(r,i.groupTouchParams.originalOrder))for(var s=i.groupTouchParams.originalOrder,o=Math.min(s.length,r.length),a=0;a<o;){for(;a<o&&r[a]==s[a];)a++;if(a>=o)break;var u=tb(r).call(r,s[a]),h=n.get(r[a]),c=n.get(s[a]);i.options.groupOrderSwap(h,c,n),n.update(h),n.update(c);var l=r[a];r[a]=s[a],r[u]=l,a++}}})),i.body.emitter.emit("groupDragged",{groupId:e}),this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.group=null}}},{key:"_onSelectItem",value:function(t){if(this.options.selectable){var i=t.srcEvent&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey),e=t.srcEvent&&t.srcEvent.shiftKey;if(i||e)this._onMultiSelectItem(t);else{var n=this.getSelection(),r=this.itemFromTarget(t),s=r&&r.selectable?[r.id]:[];this.setSelection(s);var o=this.getSelection();(o.length>0||n.length>0)&&this.body.emitter.emit("select",{items:o,event:t})}}}},{key:"_onMouseOver",value:function(t){var i=this.itemFromTarget(t);if(i&&i!==this.itemFromRelatedTarget(t)){var e=i.getTitle();if(this.options.showTooltips&&e){null==this.popup&&(this.popup=new JL(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(e);var n=this.body.dom.centerContainer,r=n.getBoundingClientRect();this.popup.setPosition(t.clientX-r.left+n.offsetLeft,t.clientY-r.top+n.offsetTop),this.setPopupTimer(this.popup)}else this.clearPopupTimer(),null!=this.popup&&this.popup.hide();this.body.emitter.emit("itemover",{item:i.id,event:t})}}},{key:"_onMouseOut",value:function(t){var i=this.itemFromTarget(t);i&&(i!==this.itemFromRelatedTarget(t)&&(this.clearPopupTimer(),null!=this.popup&&this.popup.hide(),this.body.emitter.emit("itemout",{item:i.id,event:t})))}},{key:"_onMouseMove",value:function(t){if(this.itemFromTarget(t)&&(null!=this.popupTimer&&this.setPopupTimer(this.popup),this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden)){var i=this.body.dom.centerContainer,e=i.getBoundingClientRect();this.popup.setPosition(t.clientX-e.left+i.offsetLeft,t.clientY-e.top+i.offsetTop),this.popup.show()}}},{key:"_onMouseWheel",value:function(t){this.touchParams.itemIsDragging&&this._onDragEnd(t)}},{key:"_onUpdateItem",value:function(t){if(this.options.selectable&&(this.options.editable.updateTime||this.options.editable.updateGroup)){var i=this;if(t){var e=i.itemsData.get(t.id);this.options.onUpdate(e,(function(t){t&&i.itemsData.update(t)}))}}}},{key:"_onDropObjectOnItem",value:function(t){var i=this.itemFromTarget(t),e=JSON.parse(t.dataTransfer.getData("text"));this.options.onDropObjectOnItem(e,i)}},{key:"_onAddItem",value:function(t){if(this.options.selectable&&this.options.editable.add){var i,e,n=this,r=this.options.snap||null,s=this.dom.frame.getBoundingClientRect(),o=this.options.rtl?s.right-t.center.x:t.center.x-s.left,a=this.body.util.toTime(o),u=this.body.util.getScale(),h=this.body.util.getStep();"drop"==t.type?((e=JSON.parse(t.dataTransfer.getData("text"))).content=e.content?e.content:"new item",e.start=e.start?e.start:r?r(a,u,h):a,e.type=e.type||"box",e[this.itemsData.idProp]=e.id||XY(),"range"!=e.type||e.end||(i=this.body.util.toTime(o+this.props.width/5),e.end=r?r(i,u,h):i)):((e={start:r?r(a,u,h):a,content:"new item"})[this.itemsData.idProp]=XY(),"range"===this.options.type&&(i=this.body.util.toTime(o+this.props.width/5),e.end=r?r(i,u,h):i));var c=this.groupFromTarget(t);c&&(e.group=c.groupId),e=this._cloneItemData(e),this.options.onAdd(e,(function(i){i&&(n.itemsData.add(i),"drop"==t.type&&n.setSelection([i.id]))}))}}},{key:"_onMultiSelectItem",value:function(t){var i=this;if(this.options.selectable){var n=this.itemFromTarget(t);if(n){var r=this.options.multiselect?this.getSelection():[];if((t.srcEvent&&t.srcEvent.shiftKey||!1||this.options.sequentialSelection)&&this.options.multiselect){var s=this.itemsData.get(n.id).group,o=void 0;this.options.multiselectPerGroup&&r.length>0&&(o=this.itemsData.get(r[0]).group),this.options.multiselectPerGroup&&null!=o&&o!=s||r.push(n.id);var a=e._getItemRange(this.itemsData.get(r));if(!this.options.multiselectPerGroup||o==s)for(var u in r=[],this.items)if(this.items.hasOwnProperty(u)){var h=this.items[u],c=h.data.start,l=void 0!==h.data.end?h.data.end:c;!(c>=a.min&&l<=a.max)||this.options.multiselectPerGroup&&o!=this.itemsData.get(h.id).group||h instanceof ZL||r.push(h.id)}}else{var f=tb(r).call(r,n.id);-1==f?r.push(n.id):Jp(r).call(r,f,1)}var d=ng(r).call(r,(function(t){return i.getItemById(t).selectable}));this.setSelection(d),this.body.emitter.emit("select",{items:this.getSelection(),event:t})}}}},{key:"itemFromElement",value:function(t){for(var i=t;i;){if(i.hasOwnProperty("vis-item"))return i["vis-item"];i=i.parentNode}return null}},{key:"itemFromTarget",value:function(t){return this.itemFromElement(t.target)}},{key:"itemFromRelatedTarget",value:function(t){return this.itemFromElement(t.relatedTarget)}},{key:"groupFromTarget",value:function(t){var i=t.center?t.center.y:t.clientY,e=this.groupIds;e.length<=0&&this.groupsData&&(e=this.groupsData.getIds({order:this.options.groupOrder}));for(var n=0;n<e.length;n++){var r=e[n],s=this.groups[r],o=s.dom.foreground,a=o.getBoundingClientRect();if(i>=a.top&&i<a.top+o.offsetHeight)return s;if("top"===this.options.orientation.item){if(n===this.groupIds.length-1&&i>a.top)return s}else if(0===n&&i<a.top+o.offset)return s}return null}},{key:"_cloneItemData",value:function(t,i){var e=SC.extend({},t);return i||(i=this.itemsData.type),null!=e.start&&(e.start=SC.convert(e.start,i&&i.start||"Date")),null!=e.end&&(e.end=SC.convert(e.end,i&&i.end||"Date")),e}},{key:"_clusterItems",value:function(){if(this.options.cluster){var t=this.body.range.conversion(this.body.domProps.center.width).scale,i=this.clusterGenerator.getClusters(this.clusters,t,this.options.cluster);if(this.clusters!=i){if(this._detachAllClusters(),i){var e,n=mz(i);try{for(n.s();!(e=n.n()).done;){e.value.attach()}}catch(t){n.e(t)}finally{n.f()}this.clusters=i}this._updateClusters(i)}}}},{key:"_detachAllClusters",value:function(){if(this.options.cluster&&this.clusters&&this.clusters.length){var t,i=mz(this.clusters);try{for(i.s();!(t=i.n()).done;){t.value.detach()}}catch(t){i.e(t)}finally{i.f()}}}},{key:"_updateClusters",value:function(t){if(this.clusters&&this.clusters.length){var i,e,n=new RT(fv(t).call(t,(function(t){return t.id}))),r=ng(i=this.clusters).call(i,(function(t){return!n.has(t.id)})),s=!1,o=mz(r);try{for(o.s();!(e=o.n()).done;){var a,u,h=e.value,c=tb(a=this.selection).call(a,h.id);if(-1!==c)h.unselect(),Jp(u=this.selection).call(u,c,1),s=!0}}catch(t){o.e(t)}finally{o.f()}if(s){var l=this.getSelection();this.body.emitter.emit("select",{items:l,event})}}this.clusters=t||[]}}],[{key:"_getItemRange",value:function(t){var i=null,e=null;return up(t).call(t,(function(t){(null==e||t.start<e)&&(e=t.start),null!=t.end?(null==i||t.end>i)&&(i=t.end):(null==i||t.start>i)&&(i=t.start)})),{min:e,max:i}}},{key:"itemSetFromTarget",value:function(t){for(var i=t.target;i;){if(i.hasOwnProperty("vis-itemset"))return i["vis-itemset"];i=i.parentNode}return null}}]),e}(RC);kz.types={background:ZL,box:GL,range:VL,point:UL},kz.prototype._onAdd=kz.prototype._onUpdate;var xz,_z=!1,Dz="background: #FFeeee; color: #dd0000",Mz=function(){function t(){Sl(this,t)}return Uf(t,null,[{key:"validate",value:function(i,e,n){_z=!1,xz=e;var r=e;return void 0!==n&&(r=e[n]),t.parse(i,r,[]),_z}},{key:"parse",value:function(i,e,n){for(var r in i)i.hasOwnProperty(r)&&t.check(r,i,e,n)}},{key:"check",value:function(i,e,n,r){if(void 0!==n[i]||void 0!==n.__any__){var s=i,o=!0;void 0===n[i]&&void 0!==n.__any__&&(s="__any__",o="object"===t.getType(e[i]));var a=n[s];o&&void 0!==a.__type__&&(a=a.__type__),t.checkFields(i,e,n,s,a,r)}else t.getSuggestion(i,n,r)}},{key:"checkFields",value:function(i,e,n,r,s,o){var a=function(e){console.log("%c"+e+t.printLocation(o,i),Dz)},u=t.getType(e[i]),h=s[u];void 0!==h?"array"===t.getType(h)&&-1===tb(h).call(h,e[i])?(a('Invalid option detected in "'+i+'". Allowed values are:'+t.print(h)+' not "'+e[i]+'". '),_z=!0):"object"===u&&"__any__"!==r&&(o=SC.copyAndExtendArray(o,i),t.parse(e[i],n[r],o)):void 0===s.any&&(a('Invalid type received for "'+i+'". Expected: '+t.print(bv(s))+". Received ["+u+'] "'+e[i]+'"'),_z=!0)}},{key:"getType",value:function(t){var i=If(t);return"object"===i?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":ev(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===i?"number":"boolean"===i?"boolean":"string"===i?"string":void 0===i?"undefined":i}},{key:"getSuggestion",value:function(i,e,n){var r,s=t.findInOptions(i,e,n,!1),o=t.findInOptions(i,xz,[],!0);r=void 0!==s.indexMatch?" in "+t.printLocation(s.path,i,"")+'Perhaps it was incomplete? Did you mean: "'+s.indexMatch+'"?\n\n':o.distance<=4&&s.distance>o.distance?" in "+t.printLocation(s.path,i,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(o.path,o.closestMatch,""):s.distance<=8?'. Did you mean "'+s.closestMatch+'"?'+t.printLocation(s.path,i):". Did you mean one of these: "+t.print(bv(e))+t.printLocation(n,i),console.log('%cUnknown option detected: "'+i+'"'+r,Dz),_z=!0}},{key:"findInOptions",value:function(i,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=1e9,o="",a=[],u=i.toLowerCase(),h=void 0;for(var c in e){var l=void 0;if(void 0!==e[c].__type__&&!0===r){var f=t.findInOptions(i,e[c],SC.copyAndExtendArray(n,c));s>f.distance&&(o=f.closestMatch,a=f.path,s=f.distance,h=f.indexMatch)}else{var d;-1!==tb(d=c.toLowerCase()).call(d,u)&&(h=c),s>(l=t.levenshteinDistance(i,c))&&(o=c,a=SC.copyArray(n),s=l)}}return{closestMatch:o,path:a,distance:s,indexMatch:h}}},{key:"printLocation",value:function(t,i){for(var e="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",n=0;n<t.length;n++){for(var r=0;r<n+1;r++)e+="  ";e+=t[n]+": {\n"}for(var s=0;s<t.length+1;s++)e+="  ";e+=i+"\n";for(var o=0;o<t.length+1;o++){for(var a=0;a<t.length-o;a++)e+="  ";e+="}\n"}return e+"\n\n"}},{key:"print",value:function(t){return Mb(t).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(t,i){if(0===t.length)return i.length;if(0===i.length)return t.length;var e,n,r=[];for(e=0;e<=i.length;e++)r[e]=[e];for(n=0;n<=t.length;n++)r[0][n]=n;for(e=1;e<=i.length;e++)for(n=1;n<=t.length;n++)i.charAt(e-1)==t.charAt(n-1)?r[e][n]=r[e-1][n-1]:r[e][n]=Math.min(r[e-1][n-1]+1,Math.min(r[e][n-1]+1,r[e-1][n]+1));return r[i.length][t.length]}}]),t}(),Sz="string",jz="boolean",Fz="number",Tz="array",Ez="date",Yz="object",Az="moment",Cz={configure:{enabled:{boolean:jz},filter:{boolean:jz,function:"function"},container:{dom:"dom"},__type__:{object:Yz,boolean:jz,function:"function"}},align:{string:Sz},alignCurrentTime:{string:Sz,undefined:"undefined"},rtl:{boolean:jz,undefined:"undefined"},rollingMode:{follow:{boolean:jz},offset:{number:Fz,undefined:"undefined"},__type__:{object:Yz}},onTimeout:{timeoutMs:{number:Fz},callback:{function:"function"},__type__:{object:Yz}},verticalScroll:{boolean:jz,undefined:"undefined"},horizontalScroll:{boolean:jz,undefined:"undefined"},autoResize:{boolean:jz},throttleRedraw:{number:Fz},clickToUse:{boolean:jz},dataAttributes:{string:Sz,array:Tz},editable:{add:{boolean:jz,undefined:"undefined"},remove:{boolean:jz,undefined:"undefined"},updateGroup:{boolean:jz,undefined:"undefined"},updateTime:{boolean:jz,undefined:"undefined"},overrideItems:{boolean:jz,undefined:"undefined"},__type__:{boolean:jz,object:Yz}},end:{number:Fz,date:Ez,string:Sz,moment:Az},format:{minorLabels:{millisecond:{string:Sz,undefined:"undefined"},second:{string:Sz,undefined:"undefined"},minute:{string:Sz,undefined:"undefined"},hour:{string:Sz,undefined:"undefined"},weekday:{string:Sz,undefined:"undefined"},day:{string:Sz,undefined:"undefined"},week:{string:Sz,undefined:"undefined"},month:{string:Sz,undefined:"undefined"},year:{string:Sz,undefined:"undefined"},__type__:{object:Yz,function:"function"}},majorLabels:{millisecond:{string:Sz,undefined:"undefined"},second:{string:Sz,undefined:"undefined"},minute:{string:Sz,undefined:"undefined"},hour:{string:Sz,undefined:"undefined"},weekday:{string:Sz,undefined:"undefined"},day:{string:Sz,undefined:"undefined"},week:{string:Sz,undefined:"undefined"},month:{string:Sz,undefined:"undefined"},year:{string:Sz,undefined:"undefined"},__type__:{object:Yz,function:"function"}},__type__:{object:Yz}},moment:{function:"function"},groupHeightMode:{string:Sz},groupOrder:{string:Sz,function:"function"},groupEditable:{add:{boolean:jz,undefined:"undefined"},remove:{boolean:jz,undefined:"undefined"},order:{boolean:jz,undefined:"undefined"},__type__:{boolean:jz,object:Yz}},groupOrderSwap:{function:"function"},height:{string:Sz,number:Fz},hiddenDates:{start:{date:Ez,number:Fz,string:Sz,moment:Az},end:{date:Ez,number:Fz,string:Sz,moment:Az},repeat:{string:Sz},__type__:{object:Yz,array:Tz}},itemsAlwaysDraggable:{item:{boolean:jz,undefined:"undefined"},range:{boolean:jz,undefined:"undefined"},__type__:{boolean:jz,object:Yz}},limitSize:{boolean:jz},locale:{string:Sz},locales:{__any__:{any:"any"},__type__:{object:Yz}},longSelectPressTime:{number:Fz},margin:{axis:{number:Fz},item:{horizontal:{number:Fz,undefined:"undefined"},vertical:{number:Fz,undefined:"undefined"},__type__:{object:Yz,number:Fz}},__type__:{object:Yz,number:Fz}},max:{date:Ez,number:Fz,string:Sz,moment:Az},maxHeight:{number:Fz,string:Sz},maxMinorChars:{number:Fz},min:{date:Ez,number:Fz,string:Sz,moment:Az},minHeight:{number:Fz,string:Sz},moveable:{boolean:jz},multiselect:{boolean:jz},multiselectPerGroup:{boolean:jz},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:Sz,undefined:"undefined"},item:{string:Sz,undefined:"undefined"},__type__:{string:Sz,object:Yz}},selectable:{boolean:jz},sequentialSelection:{boolean:jz},showCurrentTime:{boolean:jz},showMajorLabels:{boolean:jz},showMinorLabels:{boolean:jz},showWeekScale:{boolean:jz},stack:{boolean:jz},stackSubgroups:{boolean:jz},cluster:{maxItems:{number:Fz,undefined:"undefined"},titleTemplate:{string:Sz,undefined:"undefined"},clusterCriteria:{function:"function",undefined:"undefined"},showStipes:{boolean:jz,undefined:"undefined"},fitOnDoubleClick:{boolean:jz,undefined:"undefined"},__type__:{boolean:jz,object:Yz}},snap:{function:"function",null:"null"},start:{date:Ez,number:Fz,string:Sz,moment:Az},template:{function:"function"},loadingScreenTemplate:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:Sz,function:"function"},showTooltips:{boolean:jz},tooltip:{followMouse:{boolean:jz},overflowMethod:{string:["cap","flip","none"]},delay:{number:Fz},template:{function:"function"},__type__:{object:Yz}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:jz,object:Yz}},timeAxis:{scale:{string:Sz,undefined:"undefined"},step:{number:Fz,undefined:"undefined"},__type__:{object:Yz}},type:{string:Sz},width:{string:Sz,number:Fz},preferZoom:{boolean:jz},zoomable:{boolean:jz},zoomKey:{string:["ctrlKey","altKey","shiftKey","metaKey",""]},zoomFriction:{number:Fz},zoomMax:{number:Fz},zoomMin:{number:Fz},xss:{disabled:{boolean:jz},filterOptions:{__any__:{any:"any"},__type__:{object:Yz}},__type__:{object:Yz}},__type__:{object:Yz}},Oz={global:{align:["center","left","right"],alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupHeightMode:["auto","fixed","fitItems"],groupsDraggable:!1,height:"",locale:"",longSelectPressTime:251,margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},preferZoom:!1,selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,cluster:!1,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:[500,0,99999,100]},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","shiftKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],xss:{disabled:!1}}},Lz={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},zz=function(){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Sl(this,t),this.pixelRatio=i,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return Uf(t,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return Lz[t]}},{key:"setColor",value:function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==t){var e,n=this._isColorString(t);if(void 0!==n&&(t=n),!0===SC.isString(t)){if(!0===SC.isValidRGB(t)){var r=t.substr(4).substr(0,t.length-5).split(",");e={r:r[0],g:r[1],b:r[2],a:1}}else if(!0===SC.isValidRGBA(t)){var s=t.substr(5).substr(0,t.length-6).split(",");e={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(!0===SC.isValidHex(t)){var o=SC.hexToRGB(t);e={r:o.r,g:o.g,b:o.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var a=void 0!==t.a?t.a:"1.0";e={r:t.r,g:t.g,b:t.b,a}}if(void 0===e)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Mb(t));this._setColor(e,i)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this;!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=SC.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",Vb((function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)}),0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=SC.extend({},t)),this.color=t;var i=SC.RGBToHSV(t.r,t.g,t.b),e=2*Math.PI,n=this.r*i.s,r=this.centerCoordinates.x+n*Math.sin(e*i.h),s=this.centerCoordinates.y+n*Math.cos(e*i.h);this.colorPickerSelector.style.left=r-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=s-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var i=SC.RGBToHSV(this.color.r,this.color.g,this.color.b);i.v=t/100;var e=SC.HSVToRGB(i.h,i.s,i.v);e.a=this.color.a,this.color=e,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,i=SC.RGBToHSV(t.r,t.g,t.b),e=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var n=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,n,r),e.putImageData(this.hueCircle,0,0),e.fillStyle="rgba(0,0,0,"+(1-i.v)+")",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),ay(e).call(e),this.brightnessRange.value=100*i.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var t,i,e,n;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var r=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var s=document.createElement("DIV");s.style.color="red",s.style.fontWeight="bold",s.style.padding="10px",s.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(s)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var o=this;this.opacityRange.onchange=function(){o._setOpacity(this.value)},this.opacityRange.oninput=function(){o._setOpacity(this.value)},this.brightnessRange.onchange=function(){o._setBrightness(this.value)},this.brightnessRange.oninput=function(){o._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=qv(t=this._hide).call(t,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=qv(i=this._apply).call(i,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=qv(e=this._save).call(e,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=qv(n=this._loadLast).call(n,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new _O(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),DO(this.hammer,(function(i){t._moveSelector(i)})),this.hammer.on("tap",(function(i){t._moveSelector(i)})),this.hammer.on("panstart",(function(i){t._moveSelector(i)})),this.hammer.on("panmove",(function(i){t._moveSelector(i)})),this.hammer.on("panend",(function(i){t._moveSelector(i)}))}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i,e,n,r,s=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,s,o),this.centerCoordinates={x:.5*s,y:.5*o},this.r=.49*s;var a,u=2*Math.PI/360,h=1/this.r;for(n=0;n<360;n++)for(r=0;r<this.r;r++)i=this.centerCoordinates.x+r*Math.sin(u*n),e=this.centerCoordinates.y+r*Math.cos(u*n),a=SC.HSVToRGB(.002777777777777778*n,r*h,1),t.fillStyle="rgb("+a.r+","+a.g+","+a.b+")",t.fillRect(i-.5,e-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,s,o)}this.generated=!0}},{key:"_moveSelector",value:function(t){var i=this.colorPickerDiv.getBoundingClientRect(),e=t.center.x-i.left,n=t.center.y-i.top,r=.5*this.colorPickerDiv.clientHeight,s=.5*this.colorPickerDiv.clientWidth,o=e-s,a=n-r,u=Math.atan2(o,a),h=.98*Math.min(Math.sqrt(o*o+a*a),s),c=Math.cos(u)*h+r,l=Math.sin(u)*h+s;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=l-.5*this.colorPickerSelector.clientWidth+"px";var f=u/(2*Math.PI);f=f<0?f+1:f;var d=h/this.r,v=SC.RGBToHSV(this.color.r,this.color.g,this.color.b);v.h=f,v.s=d;var p=SC.HSVToRGB(v.h,v.s,v.v);p.a=this.color.a,this.color=p,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}(),Iz=function(){function t(i,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Sl(this,t),this.parent=i,this.changedOptions=[],this.container=e,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},SC.extend(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new zz(r),this.wrapper=void 0}return Uf(t,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var i=!0;if("string"==typeof t)this.options.filter=t;else if(ev(t))this.options.filter=t.join();else if("object"===If(t)){if(null==t)throw new TypeError("options cannot be null");void 0!==t.container&&(this.options.container=t.container),void 0!==ng(t)&&(this.options.filter=ng(t)),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(i=t.enabled)}else"boolean"==typeof t?(this.options.filter=!0,i=t):"function"==typeof t&&(this.options.filter=t,i=!0);!1===ng(this.options)&&(i=!1),this.options.enabled=i}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var t=ng(this.options),i=0,e=!1;for(var n in this.configureOptions)this.configureOptions.hasOwnProperty(n)&&(this.allowCreation=!1,e=!1,"function"==typeof t?e=(e=t(n,[]))||this._handleObject(this.configureOptions[n],[n],!0):!0!==t&&-1===tb(t).call(t,n)||(e=!0),!1!==e&&(this.allowCreation=!0,i>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),i++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var i=this.moduleOptions,e=0;e<t.length;e++){if(void 0===i[t[e]]){i=void 0;break}i=i[t[e]]}return i}},{key:"_makeItem",value:function(t){if(!0===this.allowCreation){var i=document.createElement("div");i.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return up(n).call(n,(function(t){i.appendChild(t)})),this.domElements.push(i),this.domElements.length}return 0}},{key:"_makeHeader",value:function(t){var i=document.createElement("div");i.className="vis-configuration vis-config-header",i.innerHTML=SC.xss(t),this._makeItem([],i)}},{key:"_makeLabel",value:function(t,i){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=document.createElement("div");return n.className="vis-configuration vis-config-label vis-config-s"+i.length,n.innerHTML=!0===e?SC.xss("<i><b>"+t+":</b></i>"):SC.xss(t+":"),n}},{key:"_makeDropdown",value:function(t,i,e){var n=document.createElement("select");n.className="vis-configuration vis-config-select";var r=0;void 0!==i&&-1!==tb(t).call(t,i)&&(r=tb(t).call(t,i));for(var s=0;s<t.length;s++){var o=document.createElement("option");o.value=t[s],s===r&&(o.selected="selected"),o.innerHTML=t[s],n.appendChild(o)}var a=this;n.onchange=function(){a._update(this.value,e)};var u=this._makeLabel(e[e.length-1],e);this._makeItem(e,u,n)}},{key:"_makeRange",value:function(t,i,e){var n=t[0],r=t[1],s=t[2],o=t[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=r,a.max=s}catch(t){}a.step=o;var u="",h=0;if(void 0!==i){var c=1.2;i<0&&i*c<r?(a.min=Math.ceil(i*c),h=a.min,u="range increased"):i/c<r&&(a.min=Math.ceil(i/c),h=a.min,u="range increased"),i*c>s&&1!==s&&(a.max=Math.ceil(i*c),h=a.max,u="range increased"),a.value=i}else a.value=n;var l=document.createElement("input");l.className="vis-configuration vis-config-rangeinput",l.value=Number(a.value);var f=this;a.onchange=function(){l.value=this.value,f._update(Number(this.value),e)},a.oninput=function(){l.value=this.value};var d=this._makeLabel(e[e.length-1],e),v=this._makeItem(e,d,a,l);""!==u&&this.popupHistory[v]!==h&&(this.popupHistory[v]=h,this._setupPopup(u,v))}},{key:"_makeButton",value:function(){var t=this;if(!0===this.options.showButton){var i=document.createElement("div");i.className="vis-configuration vis-config-button",i.innerHTML="generate options",i.onclick=function(){t._printOptions()},i.onmouseover=function(){i.className="vis-configuration vis-config-button hover"},i.onmouseout=function(){i.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(i)}}},{key:"_setupPopup",value:function(t,i){var e=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerHTML=SC.xss(t),n.onclick=function(){e._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:i}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var i=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=i.left+"px",this.popupDiv.html.style.top=i.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Vb((function(){t.popupDiv.html.style.opacity=0}),1500),this.popupDiv.deleteTimeout=Vb((function(){t._removePopup()}),1800)}}},{key:"_makeCheckbox",value:function(t,i,e){var n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=t,void 0!==i&&(n.checked=i,i!==t&&("object"===If(t)?i!==t.enabled&&this.changedOptions.push({path:e,value:i}):this.changedOptions.push({path:e,value:i})));var r=this;n.onchange=function(){r._update(this.checked,e)};var s=this._makeLabel(e[e.length-1],e);this._makeItem(e,s,n)}},{key:"_makeTextInput",value:function(t,i,e){var n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=i,i!==t&&this.changedOptions.push({path:e,value:i});var r=this;n.onchange=function(){r._update(this.value,e)};var s=this._makeLabel(e[e.length-1],e);this._makeItem(e,s,n)}},{key:"_makeColorField",value:function(t,i,e){var n=this,r=t[1],s=document.createElement("div");"none"!==(i=void 0===i?r:i)?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=i):s.className="vis-configuration vis-config-colorBlock none",i=void 0===i?r:i,s.onclick=function(){n._showColorPicker(i,s,e)};var o=this._makeLabel(e[e.length-1],e);this._makeItem(e,o,s)}},{key:"_showColorPicker",value:function(t,i,e){var n=this;i.onclick=function(){},this.colorPicker.insertTo(i),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback((function(t){var r="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";i.style.backgroundColor=r,n._update(r,e)})),this.colorPicker.setCloseCallback((function(){i.onclick=function(){n._showColorPicker(t,i,e)}}))}},{key:"_handleObject",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!1,r=ng(this.options),s=!1;for(var o in t)if(t.hasOwnProperty(o)){n=!0;var a=t[o],u=SC.copyAndExtendArray(i,o);if("function"==typeof r&&!1===(n=r(o,i))&&!ev(a)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,n=this._handleObject(a,u,!0),this.allowCreation=!1===e),!1!==n){s=!0;var h=this._getValue(u);if(ev(a))this._handleArray(a,h,u);else if("string"==typeof a)this._makeTextInput(a,h,u);else if("boolean"==typeof a)this._makeCheckbox(a,h,u);else if(a instanceof Object){var c=!0;if(-1!==tb(i).call(i,"physics")&&this.moduleOptions.physics.solver!==o&&(c=!1),!0===c)if(void 0!==a.enabled){var l=SC.copyAndExtendArray(u,"enabled"),f=this._getValue(l);if(!0===f){var d=this._makeLabel(o,u,!0);this._makeItem(u,d),s=this._handleObject(a,u)||s}else this._makeCheckbox(a,f,u)}else{var v=this._makeLabel(o,u,!0);this._makeItem(u,v),s=this._handleObject(a,u)||s}}else console.error("dont know how to handle",a,o,u)}}return s}},{key:"_handleArray",value:function(t,i,e){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,i,e),t[1]!==i&&this.changedOptions.push({path:e,value:i})):"string"==typeof t[0]?(this._makeDropdown(t,i,e),t[0]!==i&&this.changedOptions.push({path:e,value:i})):"number"==typeof t[0]&&(this._makeRange(t,i,e),t[0]!==i&&this.changedOptions.push({path:e,value:Number(i)}))}},{key:"_update",value:function(t,i){var e=this._constructOptions(t,i);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",e),this.initialized=!0,this.parent.setOptions(e)}},{key:"_constructOptions",value:function(t,i){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e;t="false"!==(t="true"===t||t)&&t;for(var r=0;r<i.length;r++)"global"!==i[r]&&(void 0===n[i[r]]&&(n[i[r]]={}),r!==i.length-1?n=n[i[r]]:n[i[r]]=t);return e}},{key:"_printOptions",value:function(){var t=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+Mb(t,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var t={},i=0;i<this.changedOptions.length;i++)this._constructOptions(this.changedOptions[i].value,this.changedOptions[i].path,t);return t}}]),t}();function Nz(t){var i=function(){if("undefined"==typeof Reflect||!BY)return!1;if(BY.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(BY(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,n=e_(t);if(i){var r=e_(this).constructor;e=BY(n,arguments,r)}else e=n.apply(this,arguments);return Zx(this,e)}}var Hz=function(t){Xx(e,t);var i=Nz(e);function e(t,n,r,s){var o,a,u,h,c,l,f,d;if(Sl(this,e),(d=i.call(this)).initTime=new Date,d.itemsDone=!1,!(Yx(d)instanceof e))throw new SyntaxError("Constructor must be called with the new operator");if(!ev(r)&&!bC(r)&&r instanceof Object){var v=s;s=r,r=v}s&&s.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var p=Yx(d);if(d.defaultOptions={autoResize:!0,longSelectPressTime:251,orientation:{axis:"bottom",item:"bottom"},moment:cA},d.options=SC.deepExtend({},d.defaultOptions),s&&SC.setupXSSProtection(s.xss),d._create(t),!s||s&&void 0===s.rtl){var m;d.dom.root.style.visibility="hidden";for(var g=d.dom.root;!m&&g;)m=window.getComputedStyle(g,null).direction,g=g.parentElement;d.options.rtl=m&&"rtl"==m.toLowerCase()}else d.options.rtl=s.rtl;s&&(s.rollingMode&&(d.options.rollingMode=s.rollingMode),s.onInitialDrawComplete&&(d.options.onInitialDrawComplete=s.onInitialDrawComplete),s.onTimeout&&(d.options.onTimeout=s.onTimeout),s.loadingScreenTemplate&&(d.options.loadingScreenTemplate=s.loadingScreenTemplate));var b=document.createElement("div");if(d.options.loadingScreenTemplate){var y,w=qv(y=d.options.loadingScreenTemplate).call(y,Yx(d)),k=w(d.dom.loadingScreen);k instanceof Object&&!(k instanceof Element)?w(b):k instanceof Element?(b.innerHTML="",b.appendChild(k)):null!=k&&(b.innerHTML=SC.xss(k))}function x(t,i){p.hasListeners(t)&&p.emit(t,p.getEventProperties(i))}return d.dom.loadingScreen.appendChild(b),d.components=[],d.body={dom:d.dom,domProps:d.props,emitter:{on:qv(o=d.on).call(o,Yx(d)),off:qv(a=d.off).call(a,Yx(d)),emit:qv(u=d.emit).call(u,Yx(d))},hiddenDates:[],util:{getScale:function(){return p.timeAxis.step.scale},getStep:function(){return p.timeAxis.step.step},toScreen:qv(h=p._toScreen).call(h,p),toGlobalScreen:qv(c=p._toGlobalScreen).call(c,p),toTime:qv(l=p._toTime).call(l,p),toGlobalTime:qv(f=p._toGlobalTime).call(f,p)}},d.range=new mO(d.body,d.options),d.components.push(d.range),d.body.range=d.range,d.timeAxis=new jO(d.body,d.options),d.timeAxis2=null,d.components.push(d.timeAxis),d.currentTime=new ZO(d.body,d.options),d.components.push(d.currentTime),d.itemSet=new kz(d.body,d.options),d.components.push(d.itemSet),d.itemsData=null,d.groupsData=null,d.dom.root.onclick=function(t){x("click",t)},d.dom.root.ondblclick=function(t){x("doubleClick",t)},d.dom.root.oncontextmenu=function(t){x("contextmenu",t)},d.dom.root.onmouseover=function(t){x("mouseOver",t)},window.PointerEvent?(d.dom.root.onpointerdown=function(t){x("mouseDown",t)},d.dom.root.onpointermove=function(t){x("mouseMove",t)},d.dom.root.onpointerup=function(t){x("mouseUp",t)}):(d.dom.root.onmousemove=function(t){x("mouseMove",t)},d.dom.root.onmousedown=function(t){x("mouseDown",t)},d.dom.root.onmouseup=function(t){x("mouseUp",t)}),d.initialFitDone=!1,d.on("changed",(function(){if(null!=p.itemsData){if(!p.initialFitDone&&!p.options.rollingMode)if(p.initialFitDone=!0,null!=p.options.start||null!=p.options.end){if(null==p.options.start||null==p.options.end)var t=p.getItemRange();var i=null!=p.options.start?p.options.start:t.min,e=null!=p.options.end?p.options.end:t.max;p.setWindow(i,e,{animation:!1})}else p.fit({animation:!1});p.initialDrawDone||!p.initialRangeChangeDone&&(p.options.start||p.options.end)&&!p.options.rollingMode||(p.initialDrawDone=!0,p.itemSet.initialDrawDone=!0,p.dom.root.style.visibility="visible",p.dom.loadingScreen.parentNode.removeChild(p.dom.loadingScreen),p.options.onInitialDrawComplete&&Vb((function(){return p.options.onInitialDrawComplete()}),0))}})),d.on("destroyTimeline",(function(){p.destroy()})),s&&d.setOptions(s),d.body.emitter.on("fit",(function(t){d._onFit(t),d.redraw()})),r&&d.setGroups(r),n&&d.setItems(n),d._redraw(),d}return Uf(e,[{key:"_createConfigurator",value:function(){return new Iz(this,this.dom.container,Oz)}},{key:"redraw",value:function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()}},{key:"setOptions",value:function(t){if(!0===Mz.validate(t,Cz)&&console.log("%cErrors have been found in the supplied options object.",Dz),VO.prototype.setOptions.call(this,t),"type"in t&&t.type!==this.options.type){this.options.type=t.type;var i=this.itemsData;if(i){var e=this.getSelection();this.setItems(null),this.setItems(i.rawDS),this.setSelection(e)}}}},{key:"setItems",value:function(t){var i;this.itemsDone=!1,i=t?bC(t)?xC(t):xC(new aA(t)):null,this.itemsData&&this.itemsData.dispose(),this.itemsData=i,this.itemSet&&this.itemSet.setItems(null!=i?i.rawDS:null)}},{key:"setGroups",value:function(t){var i;t?(ev(t)&&(t=new aA(t)),i=new uA(t,{filter:function(t){return!1!==t.visible}})):i=null,null!=this.groupsData&&"function"==typeof this.groupsData.setData&&this.groupsData.setData(null),this.groupsData=i,this.itemSet.setGroups(i)}},{key:"setData",value:function(t){t&&t.groups&&this.setGroups(t.groups),t&&t.items&&this.setItems(t.items)}},{key:"setSelection",value:function(t,i){this.itemSet&&this.itemSet.setSelection(t),i&&i.focus&&this.focus(t,i)}},{key:"getSelection",value:function(){return this.itemSet&&this.itemSet.getSelection()||[]}},{key:"focus",value:function(t,i){if(this.itemsData&&null!=t){var e=ev(t)?t:[t],n=this.itemsData.get(e),r=null,s=null;if(up(n).call(n,(function(t){var i=t.start.valueOf(),e="end"in t?t.end.valueOf():t.start.valueOf();(null===r||i<r)&&(r=i),(null===s||e>s)&&(s=e)})),null!==r&&null!==s){var o=this,a=this.itemSet.items[e[0]],u=-1*this._getScrollTop(),h=null,c=function(){var t=Bz(o,a);t.shouldScroll&&t.itemTop!=h.itemTop&&(o._setScrollTop(-t.scrollOffset),o._redraw())},l=!i||void 0===i.zoom||i.zoom,f=(r+s)/2,d=l?1.1*(s-r):Math.max(this.range.end-this.range.start,1.1*(s-r)),v=!i||void 0===i.animation||i.animation;v||(h={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.setRange(f-d/2,f+d/2,{animation:v},(function(){c(),Vb(c,100)}),(function(t,i,e){var n=Bz(o,a);if(!1!==n&&(h||(h=n),h.itemTop!=n.itemTop||h.shouldScroll)){h.itemTop!=n.itemTop&&n.shouldScroll&&(h=n,u=-1*o._getScrollTop());var r=u,s=h.scrollOffset,c=e?s:r+(s-r)*t;o._setScrollTop(-c),i||o._redraw()}}))}}}},{key:"fit",value:function(t,i){var e,n=!t||void 0===t.animation||t.animation;1===this.itemsData.length&&void 0===this.itemsData.get()[0].end?(e=this.getDataRange(),this.moveTo(e.min.valueOf(),{animation:n},i)):(e=this.getItemRange(),this.range.setRange(e.min,e.max,{animation:n},i))}},{key:"getItemRange",value:function(){var t=this,i=this.getDataRange(),e=null!==i.min?i.min.valueOf():null,n=null!==i.max?i.max.valueOf():null,r=null,s=null;if(null!=e&&null!=n){var o=n-e;o<=0&&(o=10);var a=o/this.props.center.width,u={},h=0;if(up(SC).call(SC,this.itemSet.items,(function(t,i){if(t.groupShowing){u[i]=t.redraw(!0),h=u[i].length}})),h>0)for(var c=function(t){up(SC).call(SC,u,(function(i){i[t]()}))},l=0;l<h;l++)c(l);if(up(SC).call(SC,this.itemSet.items,(function(i){var o,u,h=Pz(i),c=Rz(i);t.options.rtl?(o=h-(i.getWidthRight()+10)*a,u=c+(i.getWidthLeft()+10)*a):(o=h-(i.getWidthLeft()+10)*a,u=c+(i.getWidthRight()+10)*a),o<e&&(e=o,r=i),u>n&&(n=u,s=i)})),r&&s){var f=r.getWidthLeft()+10,d=s.getWidthRight()+10,v=this.props.center.width-f-d;v>0&&(this.options.rtl?(e=Pz(r)-d*o/v,n=Rz(s)+f*o/v):(e=Pz(r)-f*o/v,n=Rz(s)+d*o/v))}}return{min:null!=e?new Date(e):null,max:null!=n?new Date(n):null}}},{key:"getDataRange",value:function(){var t,i=null,e=null;this.itemsData&&up(t=this.itemsData).call(t,(function(t){var n=SC.convert(t.start,"Date").valueOf(),r=SC.convert(null!=t.end?t.end:t.start,"Date").valueOf();(null===i||n<i)&&(i=n),(null===e||r>e)&&(e=r)}));return{min:null!=i?new Date(i):null,max:null!=e?new Date(e):null}}},{key:"getEventProperties",value:function(t){var i=t.center?t.center.x:t.clientX,e=t.center?t.center.y:t.clientY,n=this.dom.centerContainer.getBoundingClientRect(),r=this.options.rtl?n.right-i:i-n.left,s=e-n.top,o=this.itemSet.itemFromTarget(t),a=this.itemSet.groupFromTarget(t),u=qO.customTimeFromTarget(t),h=this.itemSet.options.snap||null,c=this.body.util.getScale(),l=this.body.util.getStep(),f=this._toTime(r),d=h?h(f,c,l):f,v=SC.getTarget(t),p=null;return null!=o?p="item":null!=u?p="custom-time":SC.hasParent(v,this.timeAxis.dom.foreground)||this.timeAxis2&&SC.hasParent(v,this.timeAxis2.dom.foreground)?p="axis":SC.hasParent(v,this.itemSet.dom.labelSet)?p="group-label":SC.hasParent(v,this.currentTime.bar)?p="current-time":SC.hasParent(v,this.dom.center)&&(p="background"),{event:t,item:o?o.id:null,isCluster:!!o&&!!o.isCluster,items:o?o.items||[]:null,group:a?a.groupId:null,customTime:u?u.options.id:null,what:p,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:r,y:s,time:f,snappedTime:d}}},{key:"toggleRollingMode",value:function(){this.range.rolling?this.range.stopRolling():(null==this.options.rollingMode&&this.setOptions(this.options),this.range.startRolling())}},{key:"_redraw",value:function(){VO.prototype._redraw.call(this)}},{key:"_onFit",value:function(t){var i=t.start,e=t.end,n=t.animation;e?this.range.setRange(i,e,{animation:n}):this.moveTo(i.valueOf(),{animation:n})}}]),e}(VO);function Pz(t){return SC.convert(t.data.start,"Date").valueOf()}function Rz(t){var i=null!=t.data.end?t.data.end:t.data.start;return SC.convert(i,"Date").valueOf()}function Bz(t,i){if(!i.parent)return!1;var e=t.options.rtl?t.props.rightContainer.height:t.props.leftContainer.height,n=t.props.center.height,r=i.parent,s=r.top,o=!0,a=t.timeAxis.options.orientation.axis,u=function(){return"bottom"==a?r.height-i.top-i.height:i.top},h=-1*t._getScrollTop(),c=s+u(),l=i.height;return c<h?s+e<=s+u()+l&&(s+=u()-t.itemSet.options.margin.item.vertical):c+l>h+e?s+=u()+l-e+t.itemSet.options.margin.item.vertical:o=!1,{shouldScroll:o,scrollOffset:s=Math.min(s,n-e),itemTop:c}}var $z=function(){function t(i,e,n,r,s,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(Sl(this,t),this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=s,this.majorCharHeight=o,this._start=i,this._end=e,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=a,this.autoScaleStart=n,this.autoScaleEnd=r,this.formattingFunction=u,n||r){var h=this,c=function(t){var i=t-t%(h.magnitudefactor*h.minorSteps[h.minorStepIdx]);return t%(h.magnitudefactor*h.minorSteps[h.minorStepIdx])>h.magnitudefactor*h.minorSteps[h.minorStepIdx]*.5?i+h.magnitudefactor*h.minorSteps[h.minorStepIdx]:i};n&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=c(this._start)),r&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=c(this._end)),this.determineScale()}}return Uf(t,[{key:"setCharHeight",value:function(t){this.majorCharHeight=t}},{key:"setHeight",value:function(t){this.containerHeight=t}},{key:"determineScale",value:function(){var t=this._end-this._start;this.scale=this.containerHeight/t;var i=this.majorCharHeight/this.scale,e=t>0?Math.round(Math.log(t)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,e);var n=0;e<0&&(n=e);for(var r=!1,s=n;Math.abs(s)<=Math.abs(e);s++){this.magnitudefactor=Math.pow(10,s);for(var o=0;o<this.minorSteps.length;o++){if(this.magnitudefactor*this.minorSteps[o]>=i){r=!0,this.minorStepIdx=o;break}}if(!0===r)break}}},{key:"is_major",value:function(t){return t%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])==0}},{key:"getStep",value:function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]}},{key:"getFirstMajor",value:function(){var t=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(t-this._start%t)%t)}},{key:"formatValue",value:function(t){var i=t.toPrecision(5);return"function"==typeof this.formattingFunction&&(i=this.formattingFunction(t)),"number"==typeof i?"".concat(i):"string"==typeof i?i:t.toPrecision(5)}},{key:"getLines",value:function(){for(var t=[],i=this.getStep(),e=(i-this._start%i)%i,n=this._start+e;this._end-n>1e-5;n+=i)n!=this._start&&t.push({major:this.is_major(n),y:this.convertValue(n),val:this.formatValue(n)});return t}},{key:"followScale",value:function(t){var i=this.minorStepIdx,e=this._start,n=this._end,r=this,s=function(){r.magnitudefactor*=2},o=function(){r.magnitudefactor/=2};t.minorStepIdx<=1&&this.minorStepIdx<=1||t.minorStepIdx>1&&this.minorStepIdx>1||(t.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==i||s(),s()):(this.minorStepIdx=2,1==i||o(),o()));for(var a=t.convertValue(0),u=t.getStep()*t.scale,h=!1,c=0;!h&&c++<5;){this.scale=u/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var l=this.containerHeight/this.scale;this._start=e,this._end=this._start+l;var f=this._end*this.scale,d=this.magnitudefactor*this.majorSteps[this.minorStepIdx],v=this.getFirstMajor()-t.getFirstMajor();if(this.zeroAlign){var p=a-f;this._end+=p/this.scale,this._start=this._end-l}else this.autoScaleStart?(this._start-=v/this.scale,this._end=this._start+l):(this._start+=d-v/this.scale,this._end=this._start+l);if(!this.autoScaleEnd&&this._end>n+1e-5)o(),h=!1;else{if(!this.autoScaleStart&&this._start<e-1e-5){if(!(this.zeroAlign&&e>=0)){o(),h=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}this.autoScaleStart&&this.autoScaleEnd&&l<n-e?(s(),h=!1):h=!0}}}},{key:"convertValue",value:function(t){return this.containerHeight-(t-this._start)*this.scale}},{key:"screenToValue",value:function(t){return(this.containerHeight-t)/this.scale+this._start}}]),t}();function Gz(t,i){var e=void 0!==Hd&&Ya(t)||t["@@iterator"];if(!e){if(ev(t)||(e=function(t,i){var e;if(!t)return;if("string"==typeof t)return Wz(t,i);var n=Zd(e=Object.prototype.toString.call(t)).call(e,8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return aa(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wz(t,i)}(t))||i&&t&&"number"==typeof t.length){e&&(t=e);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==e.return||e.return()}finally{if(a)throw s}}}}function Wz(t,i){(null==i||i>t.length)&&(i=t.length);for(var e=0,n=new Array(i);e<i;e++)n[e]=t[e];return n}function Uz(t){var i=function(){if("undefined"==typeof Reflect||!BY)return!1;if(BY.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(BY(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,n=e_(t);if(i){var r=e_(this).constructor;e=BY(n,arguments,r)}else e=n.apply(this,arguments);return Zx(this,e)}}var qz=function(t){Xx(e,t);var i=Uz(e);function e(t,n,r,s){var o;Sl(this,e),(o=i.call(this)).id=XY(),o.body=t,o.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(t){return"".concat(PC(t.toPrecision(3)))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(t){return"".concat(PC(t.toPrecision(3)))},title:{text:void 0,style:void 0}}},o.linegraphOptions=s,o.linegraphSVG=r,o.props={},o.DOMelements={lines:{},labels:{},title:{}},o.dom={},o.scale=void 0,o.range={start:0,end:0},o.options=SC.extend({},o.defaultOptions),o.conversionFactor=1,o.setOptions(n),o.width=Number("".concat(o.options.width).replace("px","")),o.minWidth=o.width,o.height=o.linegraphSVG.getBoundingClientRect().height,o.hidden=!1,o.stepPixels=25,o.zeroCrossing=-1,o.amountOfSteps=-1,o.lineOffset=0,o.master=!0,o.masterAxis=null,o.svgElements={},o.iconsRemoved=!1,o.groups={},o.amountOfGroups=0,o._create(),null==o.scale&&o._redrawLabels(),o.framework={svg:o.svg,svgElements:o.svgElements,options:o.options,groups:o.groups};var a=Yx(o);return o.body.emitter.on("verticalDrag",(function(){a.dom.lineContainer.style.top="".concat(a.body.domProps.scrollTop,"px")})),o}return Uf(e,[{key:"addGroup",value:function(t,i){this.groups.hasOwnProperty(t)||(this.groups[t]=i),this.amountOfGroups+=1}},{key:"updateGroup",value:function(t,i){this.groups.hasOwnProperty(t)||(this.amountOfGroups+=1),this.groups[t]=i}},{key:"removeGroup",value:function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)}},{key:"setOptions",value:function(t){if(t){var i=!1;this.options.orientation!=t.orientation&&void 0!==t.orientation&&(i=!0);SC.selectiveDeepExtend(["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"],this.options,t),this.minWidth=Number("".concat(this.options.width).replace("px","")),!0===i&&this.dom.frame&&(this.hide(),this.show())}}},{key:"_create",value:function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.dom.lineContainer.style.visibility="visible",this.dom.lineContainer.style.display="block",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)}},{key:"_redrawGroupIcons",value:function(){var t;xx(this.svgElements);var i=this.options.iconWidth,e=11.5;t="left"===this.options.orientation?4:this.width-i-4;var n=bv(this.groups);LE(n).call(n,(function(t,i){return t<i?-1:1}));var r,s=Gz(n);try{for(s.s();!(r=s.n()).done;){var o=r.value;!0!==this.groups[o].visible||void 0!==this.linegraphOptions.visibility[o]&&!0!==this.linegraphOptions.visibility[o]||(this.groups[o].getLegend(i,15,this.framework,t,e),e+=19)}}catch(t){s.e(t)}finally{s.f()}_x(this.svgElements),this.iconsRemoved=!1}},{key:"_cleanupIcons",value:function(){!1===this.iconsRemoved&&(xx(this.svgElements),_x(this.svgElements),this.iconsRemoved=!0)}},{key:"show",value:function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer),this.dom.lineContainer.style.display="block"}},{key:"hide",value:function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.style.display="none"}},{key:"setRange",value:function(t,i){this.range.start=t,this.range.end=i}},{key:"redraw",value:function(){var t=!1,i=0;for(var e in this.dom.lineContainer.style.top="".concat(this.body.domProps.scrollTop,"px"),this.groups)this.groups.hasOwnProperty(e)&&(!0!==this.groups[e].visible||void 0!==this.linegraphOptions.visibility[e]&&!0!==this.linegraphOptions.visibility[e]||i++);if(0===this.amountOfGroups||0===i)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height="".concat(this.height,"px"),this.width=!0===this.options.visible?Number("".concat(this.options.width).replace("px","")):0;var n=this.props,r=this.dom.frame;r.className="vis-data-axis",this._calculateCharSize();var s=this.options.orientation,o=this.options.showMinorLabels,a=this.options.showMajorLabels,u=this.body.dom.backgroundHorizontal.offsetWidth;n.minorLabelHeight=o?n.minorCharHeight:0,n.majorLabelHeight=a?n.majorCharHeight:0,n.minorLineWidth=u-this.lineOffset-this.width+2*this.options.minorLinesOffset,n.minorLineHeight=1,n.majorLineWidth=u-this.lineOffset-this.width+2*this.options.majorLinesOffset,n.majorLineHeight=1,"left"===s?(r.style.top="0",r.style.left="0",r.style.bottom="",r.style.width="".concat(this.width,"px"),r.style.height="".concat(this.height,"px"),this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(r.style.top="",r.style.bottom="0",r.style.left="0",r.style.width="".concat(this.width,"px"),r.style.height="".concat(this.height,"px"),this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),t=this._redrawLabels(),t=this._isResized()||t,!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(s)}return t}},{key:"_redrawLabels",value:function(){var t=this,i=!1;xx(this.DOMelements.lines),xx(this.DOMelements.labels);var e=this.options.orientation,n=null!=this.options[e].range?this.options[e].range:{},r=!0;null!=n.max&&(this.range.end=n.max,r=!1);var s=!0;null!=n.min&&(this.range.start=n.min,s=!1),this.scale=new $z(this.range.start,this.range.end,s,r,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[e].format),!1===this.master&&null!=this.masterAxis?(this.scale.followScale(this.masterAxis.scale),this.dom.lineContainer.style.display="none"):this.dom.lineContainer.style.display="block",this.maxLabelSize=0;var o=this.scale.getLines();up(o).call(o,(function(i){var n=i.y,r=i.major;t.options.showMinorLabels&&!1===r&&t._redrawLabel(n-2,i.val,e,"vis-y-axis vis-minor",t.props.minorCharHeight),r&&n>=0&&t._redrawLabel(n-2,i.val,e,"vis-y-axis vis-major",t.props.majorCharHeight),!0===t.master&&(r?t._redrawLine(n,e,"vis-grid vis-horizontal vis-major",t.options.majorLinesOffset,t.props.majorLineWidth):t._redrawLine(n,e,"vis-grid vis-horizontal vis-minor",t.options.minorLinesOffset,t.props.minorLineWidth))}));var a=0;void 0!==this.options[e].title&&void 0!==this.options[e].title.text&&(a=this.props.titleCharHeight);var u=!0===this.options.icons?Math.max(this.options.iconWidth,a)+this.options.labelOffsetX+15:a+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-u&&!0===this.options.visible?(this.width=this.maxLabelSize+u,this.options.width="".concat(this.width,"px"),_x(this.DOMelements.lines),_x(this.DOMelements.labels),this.redraw(),i=!0):this.maxLabelSize<this.width-u&&!0===this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+u),this.options.width="".concat(this.width,"px"),_x(this.DOMelements.lines),_x(this.DOMelements.labels),this.redraw(),i=!0):(_x(this.DOMelements.lines),_x(this.DOMelements.labels),i=!1),i}},{key:"convertValue",value:function(t){return this.scale.convertValue(t)}},{key:"screenToValue",value:function(t){return this.scale.screenToValue(t)}},{key:"_redrawLabel",value:function(t,i,e,n,r){var s=Sx("div",this.DOMelements.labels,this.dom.frame);s.className=n,s.innerHTML=SC.xss(i),"left"===e?(s.style.left="-".concat(this.options.labelOffsetX,"px"),s.style.textAlign="right"):(s.style.right="-".concat(this.options.labelOffsetX,"px"),s.style.textAlign="left"),s.style.top="".concat(t-.5*r+this.options.labelOffsetY,"px"),i+="";var o=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<i.length*o&&(this.maxLabelSize=i.length*o)}},{key:"_redrawLine",value:function(t,i,e,n,r){if(!0===this.master){var s=Sx("div",this.DOMelements.lines,this.dom.lineContainer);s.className=e,s.innerHTML="","left"===i?s.style.left="".concat(this.width-n,"px"):s.style.right="".concat(this.width-n,"px"),s.style.width="".concat(r,"px"),s.style.top="".concat(t,"px")}}},{key:"_redrawTitle",value:function(t){if(xx(this.DOMelements.title),void 0!==this.options[t].title&&void 0!==this.options[t].title.text){var i=Sx("div",this.DOMelements.title,this.dom.frame);i.className="vis-y-axis vis-title vis-".concat(t),i.innerHTML=SC.xss(this.options[t].title.text),void 0!==this.options[t].title.style&&SC.addCssText(i,this.options[t].title.style),"left"===t?i.style.left="".concat(this.props.titleCharHeight,"px"):i.style.right="".concat(this.props.titleCharHeight,"px"),i.style.width="".concat(this.height,"px")}_x(this.DOMelements.title)}},{key:"_calculateCharSize",value:function(){if(!("minorCharHeight"in this.props)){var t=document.createTextNode("0"),i=document.createElement("div");i.className="vis-y-axis vis-minor vis-measure",i.appendChild(t),this.dom.frame.appendChild(i),this.props.minorCharHeight=i.clientHeight,this.props.minorCharWidth=i.clientWidth,this.dom.frame.removeChild(i)}if(!("majorCharHeight"in this.props)){var e=document.createTextNode("0"),n=document.createElement("div");n.className="vis-y-axis vis-major vis-measure",n.appendChild(e),this.dom.frame.appendChild(n),this.props.majorCharHeight=n.clientHeight,this.props.majorCharWidth=n.clientWidth,this.dom.frame.removeChild(n)}if(!("titleCharHeight"in this.props)){var r=document.createTextNode("0"),s=document.createElement("div");s.className="vis-y-axis vis-title vis-measure",s.appendChild(r),this.dom.frame.appendChild(s),this.props.titleCharHeight=s.clientHeight,this.props.titleCharWidth=s.clientWidth,this.dom.frame.removeChild(s)}}}]),e}(RC);function Vz(t,i){}function Xz(t,i){return{style:(i=void 0===i?{}:i).style||t.options.drawPoints.style,styles:i.styles||t.options.drawPoints.styles,size:i.size||t.options.drawPoints.size,className:i.className||t.className}}function Zz(t,i){}function Jz(t,i){}function Kz(t,i,e,n){this.id=i;this.options=SC.selectiveBridgeObject(["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"],e),this.usingDefaultStyle=void 0===t.className,this.groupsUsingDefaultStyles=n,this.zeroPosition=0,this.update(t),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===t.visible||t.visible}function Qz(t,i,e,n){this.body=t,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=e,this.options=SC.extend({},this.defaultOptions),this.linegraphOptions=n,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(i)}Vz.draw=function(t,i,e,n){n=n||0;for(var r=function(t,i){var e=void 0;t.options&&t.options.drawPoints&&t.options.drawPoints.onRender&&"function"==typeof t.options.drawPoints.onRender&&(e=t.options.drawPoints.onRender);i.group.options&&i.group.options.drawPoints&&i.group.options.drawPoints.onRender&&"function"==typeof i.group.options.drawPoints.onRender&&(e=i.group.options.drawPoints.onRender);return e}(e,i),s=0;s<t.length;s++)if(r){var o=r(t[s],i);!0!==o&&"object"!==If(o)||jx(t[s].screen_x+n,t[s].screen_y,Xz(i,o),e.svgElements,e.svg,t[s].label)}else jx(t[s].screen_x+n,t[s].screen_y,Xz(i),e.svgElements,e.svg,t[s].label)},Vz.drawIcon=function(t,i,e,n,r,s){var o=.5*r,a=Mx("rect",s.svgElements,s.svg);a.setAttributeNS(null,"x",i),a.setAttributeNS(null,"y",e-o),a.setAttributeNS(null,"width",n),a.setAttributeNS(null,"height",2*o),a.setAttributeNS(null,"class","vis-outline"),jx(i+.5*n,e,Xz(t),s.svgElements,s.svg)},Zz.drawIcon=function(t,i,e,n,r,s){var o=.5*r,a=Mx("rect",s.svgElements,s.svg);a.setAttributeNS(null,"x",i),a.setAttributeNS(null,"y",e-o),a.setAttributeNS(null,"width",n),a.setAttributeNS(null,"height",2*o),a.setAttributeNS(null,"class","vis-outline");var u=Math.round(.3*n),h=t.options.barChart.width/u,c=Math.round(.4*r),l=Math.round(.75*r),f=Math.round((n-2*u)/3);if(Fx(i+.5*u+f,e+o-c-1,u,c,t.className+" vis-bar",s.svgElements,s.svg,t.style),Fx(i+1.5*u+f+2,e+o-l-1,u,l,t.className+" vis-bar",s.svgElements,s.svg,t.style),1==t.options.drawPoints.enabled){var d={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size/h,className:t.className};jx(i+.5*u+f,e+o-c-1,d,s.svgElements,s.svg),jx(i+1.5*u+f+2,e+o-l-1,d,s.svgElements,s.svg)}},Zz.draw=function(t,i,e){var n,r,s,o,a,u,h=[],c={},l=0;for(a=0;a<t.length;a++)if("bar"===(o=e.groups[t[a]]).options.style&&!0===o.visible&&(void 0===e.options.groups.visibility[t[a]]||!0===e.options.groups.visibility[t[a]]))for(u=0;u<i[t[a]].length;u++)h.push({screen_x:i[t[a]][u].screen_x,screen_end:i[t[a]][u].screen_end,screen_y:i[t[a]][u].screen_y,x:i[t[a]][u].x,end:i[t[a]][u].end,y:i[t[a]][u].y,groupId:t[a],label:i[t[a]][u].label}),l+=1;if(0!==l)for(LE(h).call(h,(function(t,i){return t.screen_x===i.screen_x?t.groupId<i.groupId?-1:1:t.screen_x-i.screen_x})),Zz._getDataIntersections(c,h),a=0;a<h.length;a++){var f=null!=(o=e.groups[h[a].groupId]).options.barChart.minWidth?o.options.barChart.minWidth:.1*o.options.barChart.width,d=0;if(void 0===c[r=h[a].screen_x])a+1<h.length&&(n=Math.abs(h[a+1].screen_x-r)),s=Zz._getSafeDrawData(n,o,f);else{var v=a+(c[r].amount-c[r].resolved);v<h.length&&(n=Math.abs(h[v].screen_x-r)),s=Zz._getSafeDrawData(n,o,f),c[r].resolved+=1,!0===o.options.stack&&!0!==o.options.excludeFromStacking?h[a].screen_y<o.zeroPosition?(d=c[r].accumulatedNegative,c[r].accumulatedNegative+=o.zeroPosition-h[a].screen_y):(d=c[r].accumulatedPositive,c[r].accumulatedPositive+=o.zeroPosition-h[a].screen_y):!0===o.options.barChart.sideBySide&&(s.width=s.width/c[r].amount,s.offset+=c[r].resolved*s.width-.5*s.width*(c[r].amount+1))}var p=s.width,m=h[a].screen_x;if(null!=h[a].screen_end?m+=.5*(p=h[a].screen_end-h[a].screen_x):m+=s.offset,Fx(m,h[a].screen_y-d,p,o.zeroPosition-h[a].screen_y,o.className+" vis-bar",e.svgElements,e.svg,o.style),!0===o.options.drawPoints.enabled){var g={screen_x:h[a].screen_x,screen_y:h[a].screen_y-d,x:h[a].x,y:h[a].y,groupId:h[a].groupId,label:h[a].label};Vz.draw([g],o,e,s.offset)}}},Zz._getDataIntersections=function(t,i){for(var e,n=0;n<i.length;n++)n+1<i.length&&(e=Math.abs(i[n+1].screen_x-i[n].screen_x)),n>0&&(e=Math.min(e,Math.abs(i[n-1].screen_x-i[n].screen_x))),0===e&&(void 0===t[i[n].screen_x]&&(t[i[n].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),t[i[n].screen_x].amount+=1)},Zz._getSafeDrawData=function(t,i,e){var n,r;return t<i.options.barChart.width&&t>0?(n=t<e?e:t,r=0,"left"===i.options.barChart.align?r-=.5*t:"right"===i.options.barChart.align&&(r+=.5*t)):(n=i.options.barChart.width,r=0,"left"===i.options.barChart.align?r-=.5*i.options.barChart.width:"right"===i.options.barChart.align&&(r+=.5*i.options.barChart.width)),{width:n,offset:r}},Zz.getStackedYRange=function(t,i,e,n,r){if(t.length>0){LE(t).call(t,(function(t,i){return t.screen_x===i.screen_x?t.groupId<i.groupId?-1:1:t.screen_x-i.screen_x}));var s={};Zz._getDataIntersections(s,t),i[n]=Zz._getStackedYRange(s,t),i[n].yAxisOrientation=r,e.push(n)}},Zz._getStackedYRange=function(t,i){for(var e,n=i[0].screen_y,r=i[0].screen_y,s=0;s<i.length;s++)void 0===t[e=i[s].screen_x]?(n=n>i[s].screen_y?i[s].screen_y:n,r=r<i[s].screen_y?i[s].screen_y:r):i[s].screen_y<0?t[e].accumulatedNegative+=i[s].screen_y:t[e].accumulatedPositive+=i[s].screen_y;for(var o in t)t.hasOwnProperty(o)&&(n=(n=n>t[o].accumulatedNegative?t[o].accumulatedNegative:n)>t[o].accumulatedPositive?t[o].accumulatedPositive:n,r=(r=r<t[o].accumulatedNegative?t[o].accumulatedNegative:r)<t[o].accumulatedPositive?t[o].accumulatedPositive:r);return{min:n,max:r}},Jz.calcPath=function(t,i){if(null!=t&&t.length>0){return 1==i.options.interpolation.enabled?Jz._catmullRom(t,i):Jz._linear(t)}},Jz.drawIcon=function(t,i,e,n,r,s){var o,a,u=.5*r,h=Mx("rect",s.svgElements,s.svg);(h.setAttributeNS(null,"x",i),h.setAttributeNS(null,"y",e-u),h.setAttributeNS(null,"width",n),h.setAttributeNS(null,"height",2*u),h.setAttributeNS(null,"class","vis-outline"),(o=Mx("path",s.svgElements,s.svg)).setAttributeNS(null,"class",t.className),void 0!==t.style&&o.setAttributeNS(null,"style",t.style),o.setAttributeNS(null,"d","M"+i+","+e+" L"+(i+n)+","+e),1==t.options.shaded.enabled&&(a=Mx("path",s.svgElements,s.svg),"top"==t.options.shaded.orientation?a.setAttributeNS(null,"d","M"+i+", "+(e-u)+"L"+i+","+e+" L"+(i+n)+","+e+" L"+(i+n)+","+(e-u)):a.setAttributeNS(null,"d","M"+i+","+e+" L"+i+","+(e+u)+" L"+(i+n)+","+(e+u)+"L"+(i+n)+","+e),a.setAttributeNS(null,"class",t.className+" vis-icon-fill"),void 0!==t.options.shaded.style&&""!==t.options.shaded.style&&a.setAttributeNS(null,"style",t.options.shaded.style)),1==t.options.drawPoints.enabled)&&jx(i+.5*n,e,{style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size,className:t.className},s.svgElements,s.svg)},Jz.drawShading=function(t,i,e,n){if(1==i.options.shaded.enabled){var r,s=Number(n.svg.style.height.replace("px","")),o=Mx("path",n.svgElements,n.svg),a="L";1==i.options.interpolation.enabled&&(a="C");var u=0;u="top"==i.options.shaded.orientation?0:"bottom"==i.options.shaded.orientation?s:Math.min(Math.max(0,i.zeroPosition),s),r="group"==i.options.shaded.orientation&&null!=e&&null!=e?"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,a,!1)+" L"+e[e.length-1][0]+","+e[e.length-1][1]+" "+this.serializePath(e,a,!0)+e[0][0]+","+e[0][1]+" Z":"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,a,!1)+" V"+u+" H"+t[0][0]+" Z",o.setAttributeNS(null,"class",i.className+" vis-fill"),void 0!==i.options.shaded.style&&o.setAttributeNS(null,"style",i.options.shaded.style),o.setAttributeNS(null,"d",r)}},Jz.draw=function(t,i,e){if(null!=t&&null!=t){var n=Mx("path",e.svgElements,e.svg);n.setAttributeNS(null,"class",i.className),void 0!==i.style&&n.setAttributeNS(null,"style",i.style);var r="L";1==i.options.interpolation.enabled&&(r="C"),n.setAttributeNS(null,"d","M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,r,!1))}},Jz.serializePath=function(t,i,e){if(t.length<2)return"";var n,r=i;if(e)for(n=t.length-2;n>0;n--)r+=t[n][0]+","+t[n][1]+" ";else for(n=1;n<t.length;n++)r+=t[n][0]+","+t[n][1]+" ";return r},Jz._catmullRomUniform=function(t){var i,e,n,r,s,o,a=[];a.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var u=1/6,h=t.length,c=0;c<h-1;c++)i=0==c?t[0]:t[c-1],e=t[c],n=t[c+1],r=c+2<h?t[c+2]:n,s={screen_x:(-i.screen_x+6*e.screen_x+n.screen_x)*u,screen_y:(-i.screen_y+6*e.screen_y+n.screen_y)*u},o={screen_x:(e.screen_x+6*n.screen_x-r.screen_x)*u,screen_y:(e.screen_y+6*n.screen_y-r.screen_y)*u},a.push([s.screen_x,s.screen_y]),a.push([o.screen_x,o.screen_y]),a.push([n.screen_x,n.screen_y]);return a},Jz._catmullRom=function(t,i){var e=i.options.interpolation.alpha;if(0==e||void 0===e)return this._catmullRomUniform(t);var n,r,s,o,a,u,h,c,l,f,d,v,p,m,g,b,y,w,k,x=[];x.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var _=t.length,D=0;D<_-1;D++)n=0==D?t[0]:t[D-1],r=t[D],s=t[D+1],o=D+2<_?t[D+2]:s,h=Math.sqrt(Math.pow(n.screen_x-r.screen_x,2)+Math.pow(n.screen_y-r.screen_y,2)),c=Math.sqrt(Math.pow(r.screen_x-s.screen_x,2)+Math.pow(r.screen_y-s.screen_y,2)),l=Math.sqrt(Math.pow(s.screen_x-o.screen_x,2)+Math.pow(s.screen_y-o.screen_y,2)),m=Math.pow(l,e),b=Math.pow(l,2*e),g=Math.pow(c,e),y=Math.pow(c,2*e),k=Math.pow(h,e),f=2*(w=Math.pow(h,2*e))+3*k*g+y,d=2*b+3*m*g+y,(v=3*k*(k+g))>0&&(v=1/v),(p=3*m*(m+g))>0&&(p=1/p),a={screen_x:(-y*n.screen_x+f*r.screen_x+w*s.screen_x)*v,screen_y:(-y*n.screen_y+f*r.screen_y+w*s.screen_y)*v},u={screen_x:(b*r.screen_x+d*s.screen_x-y*o.screen_x)*p,screen_y:(b*r.screen_y+d*s.screen_y-y*o.screen_y)*p},0==a.screen_x&&0==a.screen_y&&(a=r),0==u.screen_x&&0==u.screen_y&&(u=s),x.push([a.screen_x,a.screen_y]),x.push([u.screen_x,u.screen_y]),x.push([s.screen_x,s.screen_y]);return x},Jz._linear=function(t){for(var i=[],e=0;e<t.length;e++)i.push([t[e].screen_x,t[e].screen_y]);return i},Kz.prototype.setItems=function(t){null!=t?(this.itemsData=t,1==LE(this.options)&&SC.insertSort(this.itemsData,(function(t,i){return t.x>i.x?1:-1}))):this.itemsData=[]},Kz.prototype.getItems=function(){return this.itemsData},Kz.prototype.setZeroPosition=function(t){this.zeroPosition=t},Kz.prototype.setOptions=function(t){if(void 0!==t){SC.selectiveDeepExtend(["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"],this.options,t),"function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),SC.mergeOptions(this.options,t,"interpolation"),SC.mergeOptions(this.options,t,"drawPoints"),SC.mergeOptions(this.options,t,"shaded"),t.interpolation&&"object"==If(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}},Kz.prototype.update=function(t){this.group=t,this.content=t.content||"graph",this.className=t.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===t.visible||t.visible,this.style=t.style,this.setOptions(t.options)},Kz.prototype.getLegend=function(t,i,e,n,r){null!=e&&null!=e||(e={svg:document.createElementNS("http://www.w3.org/2000/svg","svg"),svgElements:{},options:this.options,groups:[this]});switch(null!=n&&null!=n||(n=0),null!=r&&null!=r||(r=.5*i),this.options.style){case"line":Jz.drawIcon(this,n,r,t,i,e);break;case"points":case"point":Vz.drawIcon(this,n,r,t,i,e);break;case"bar":Zz.drawIcon(this,n,r,t,i,e)}return{icon:e.svg,label:this.content,orientation:this.options.yAxisOrientation}},Kz.prototype.getYRange=function(t){for(var i=t[0].y,e=t[0].y,n=0;n<t.length;n++)i=i>t[n].y?t[n].y:i,e=e<t[n].y?t[n].y:e;return{min:i,max:e,yAxisOrientation:this.options.yAxisOrientation}},Qz.prototype=new RC,Qz.prototype.clear=function(){this.groups={},this.amountOfGroups=0},Qz.prototype.addGroup=function(t,i){1!=i.options.excludeFromLegend&&(this.groups.hasOwnProperty(t)||(this.groups[t]=i),this.amountOfGroups+=1)},Qz.prototype.updateGroup=function(t,i){this.groups[t]=i},Qz.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},Qz.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},Qz.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},Qz.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},Qz.prototype.setOptions=function(t){SC.selectiveDeepExtend(["enabled","orientation","icons","left","right"],this.options,t)},Qz.prototype.redraw=function(){var t=0,i=bv(this.groups);LE(i).call(i,(function(t,i){return t<i?-1:1}));for(var e=0;e<i.length;e++){var n=i[e];1!=this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||t++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==t)this.hide();else{if(this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position)this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var r=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+r+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var s="";for(e=0;e<i.length;e++)n=i[e],1!=this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||(s+=this.groups[n].content+"<br />");this.dom.textArea.innerHTML=SC.xss(s),this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},Qz.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var t=bv(this.groups);LE(t).call(t,(function(t,i){return t<i?-1:1})),Dx(this.svgElements);var i=window.getComputedStyle(this.dom.frame).paddingTop,e=Number(i.replace("px","")),n=e,r=this.options.iconSize,s=.75*this.options.iconSize,o=e+.5*s+3;this.svg.style.width=r+5+e+"px";for(var a=0;a<t.length;a++){var u=t[a];1!=this.groups[u].visible||void 0!==this.linegraphOptions.visibility[u]&&1!=this.linegraphOptions.visibility[u]||(this.groups[u].getLegend(r,s,this.framework,n,o),o+=s+this.options.iconSpacing)}}};var tI="__ungrouped__";function iI(t,i){this.id=XY(),this.body=t,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=SC.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var e=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,i,n){e._onAdd(i.items)},update:function(t,i,n){e._onUpdate(i.items)},remove:function(t,i,n){e._onRemove(i.items)}},this.groupListeners={add:function(t,i,n){e._onAddGroups(i.items)},update:function(t,i,n){e._onUpdateGroups(i.items)},remove:function(t,i,n){e._onRemoveGroups(i.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(i),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",(function(){e.svg.style.left=SC.option.asSize(-e.props.width),e.forceGraphUpdate=!0,e.redraw.call(e)})),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}iI.prototype=new RC,iI.prototype._create=function(){var t=document.createElement("div");t.className="vis-line-graph",this.dom.frame=t,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",t.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new qz(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new qz(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new Qz(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new Qz(this.body,this.options.legend,"right",this.options.groups),this.show()},iI.prototype.setOptions=function(t){if(t){void 0===t.graphHeight&&void 0!==t.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==t.graphHeight&&Pg((t.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),SC.selectiveDeepExtend(["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"],this.options,t),SC.mergeOptions(this.options,t,"interpolation"),SC.mergeOptions(this.options,t,"drawPoints"),SC.mergeOptions(this.options,t,"shaded"),SC.mergeOptions(this.options,t,"legend"),t.interpolation&&"object"==If(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==t.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==t.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(tI)&&this.groups[tI].setOptions(t)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},iI.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},iI.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},iI.prototype.setItems=function(t){var i,e=this,n=this.itemsData;if(t){if(!bC(t))throw new TypeError("Data must implement the interface of DataSet or DataView");this.itemsData=xC(t)}else this.itemsData=null;if(n&&(up(SC).call(SC,this.itemListeners,(function(t,i){n.off(i,t)})),n.dispose(),i=n.getIds(),this._onRemove(i)),this.itemsData){var r=this.id;up(SC).call(SC,this.itemListeners,(function(t,i){e.itemsData.on(i,t,r)})),i=this.itemsData.getIds(),this._onAdd(i)}},iI.prototype.setGroups=function(t){var i,e=this;if(this.groupsData){up(SC).call(SC,this.groupListeners,(function(t,i){e.groupsData.off(i,t)})),i=this.groupsData.getIds(),this.groupsData=null;for(var n=0;n<i.length;n++)this._removeGroup(i[n])}if(t){if(!bC(t))throw new TypeError("Data must implement the interface of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var r=this.id;up(SC).call(SC,this.groupListeners,(function(t,i){e.groupsData.on(i,t,r)})),i=this.groupsData.getIds(),this._onAddGroups(i)}},iI.prototype._onUpdate=function(t){this._updateAllGroupData(t)},iI.prototype._onAdd=function(t){this._onUpdate(t)},iI.prototype._onRemove=function(t){this._onUpdate(t)},iI.prototype._onUpdateGroups=function(t){this._updateAllGroupData(null,t)},iI.prototype._onAddGroups=function(t){this._onUpdateGroups(t)},iI.prototype._onRemoveGroups=function(t){for(var i=0;i<t.length;i++)this._removeGroup(t[i]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},iI.prototype._removeGroup=function(t){this.groups.hasOwnProperty(t)&&("right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.removeGroup(t),this.legendRight.removeGroup(t),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(t),this.legendLeft.removeGroup(t),this.legendLeft.redraw()),delete this.groups[t])},iI.prototype._updateGroup=function(t,i){this.groups.hasOwnProperty(i)?(this.groups[i].update(t),"right"==this.groups[i].options.yAxisOrientation?(this.yAxisRight.updateGroup(i,this.groups[i]),this.legendRight.updateGroup(i,this.groups[i]),this.yAxisLeft.removeGroup(i),this.legendLeft.removeGroup(i)):(this.yAxisLeft.updateGroup(i,this.groups[i]),this.legendLeft.updateGroup(i,this.groups[i]),this.yAxisRight.removeGroup(i),this.legendRight.removeGroup(i))):(this.groups[i]=new Kz(t,i,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[i].options.yAxisOrientation?(this.yAxisRight.addGroup(i,this.groups[i]),this.legendRight.addGroup(i,this.groups[i])):(this.yAxisLeft.addGroup(i,this.groups[i]),this.legendLeft.addGroup(i,this.groups[i]))),this.legendLeft.redraw(),this.legendRight.redraw()},iI.prototype._updateAllGroupData=function(t,i){if(null!=this.itemsData){var e={},n=this.itemsData.get(),r=this.itemsData.idProp,s={};t&&fv(t).call(t,(function(t){s[t]=t}));for(var o={},a=0;a<n.length;a++){var u=n[a],h=u.group;null==h&&(h=tI),o.hasOwnProperty(h)?o[h]++:o[h]=1}var c={};if(!i&&t)for(h in this.groups)if(this.groups.hasOwnProperty(h)){var l=(p=this.groups[h]).getItems();e[h]=ng(l).call(l,(function(t){return c[t[r]]=t[r],t[r]!==s[t[r]]}));var f=o[h];o[h]-=e[h].length,e[h].length<f&&(e[h][f-1]={})}for(a=0;a<n.length;a++)if(null==(h=(u=n[a]).group)&&(h=tI),i||!t||u[r]===s[u[r]]||!c.hasOwnProperty(u[r])){e.hasOwnProperty(h)||(e[h]=new Array(o[h]));var d=SC.bridgeObject(u);d.x=SC.convert(u.x,"Date"),d.end=SC.convert(u.end,"Date"),d.orginalY=u.y,d.y=Number(u.y),d[r]=u[r];var v=e[h].length-o[h]--;e[h][v]=d}for(h in this.groups)this.groups.hasOwnProperty(h)&&(e.hasOwnProperty(h)||(e[h]=new Array(0)));for(h in e)if(e.hasOwnProperty(h))if(0==e[h].length)this.groups.hasOwnProperty(h)&&this._removeGroup(h);else{var p=void 0;null!=this.groupsData&&(p=this.groupsData.get(h)),null==p&&(p={id:h,content:this.options.defaultGroup+h}),this._updateGroup(p,h),this.groups[h].setItems(e[h])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},iI.prototype.redraw=function(){var t=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,t=this._isResized()||t;var i,e=this.body.range.end-this.body.range.start,n=e!=this.lastVisibleInterval;(this.lastVisibleInterval=e,1==t)&&(this.svg.style.width=SC.option.asSize(3*this.props.width),this.svg.style.left=SC.option.asSize(-this.props.width),-1==tb(i=this.options.height+"").call(i,"%")&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0));if(1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==t||1==n||1==this.abortedGraphUpdate||1==this.forceGraphUpdate)t=this._updateGraph()||t,this.forceGraphUpdate=!1,this.lastStart=this.body.range.start,this.svg.style.left=-this.props.width+"px";else if(0!=this.lastStart){var r=this.body.range.start-this.lastStart,s=this.body.range.end-this.body.range.start;if(0!=this.props.width){var o=r*(this.props.width/s);this.svg.style.left=-this.props.width-o+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),t},iI.prototype._getSortedGroupIds=function(){var t=[];for(var i in this.groups)if(this.groups.hasOwnProperty(i)){var e=this.groups[i];1!=e.visible||void 0!==this.options.groups.visibility[i]&&1!=this.options.groups.visibility[i]||t.push({id:i,zIndex:e.options.zIndex})}SC.insertSort(t,(function(t,i){var e=t.zIndex,n=i.zIndex;return void 0===e&&(e=0),void 0===n&&(n=0),e==n?0:e<n?-1:1}));for(var n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r].id;return n},iI.prototype._updateGraph=function(){if(xx(this.svgElements),0!=this.props.width&&null!=this.itemsData){var t,i,e={},n=this.body.util.toGlobalTime(-this.body.domProps.root.width),r=this.body.util.toGlobalTime(2*this.body.domProps.root.width),s=this._getSortedGroupIds();if(s.length>0){var o={};for(this._getRelevantData(s,o,n,r),this._applySampling(s,o),i=0;i<s.length;i++)this._convertXcoordinates(o[s[i]]);if(this._getYRanges(s,o,e),1==this._updateYAxis(s,e))return _x(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var a=void 0;for(i=0;i<s.length;i++)t=this.groups[s[i]],!0===this.options.stack&&"line"===this.options.style&&(null!=t.options.excludeFromStacking&&t.options.excludeFromStacking||(null!=a&&(this._stack(o[t.id],o[a.id]),1==t.options.shaded.enabled&&"group"!==t.options.shaded.orientation&&("top"==t.options.shaded.orientation&&"group"!==a.options.shaded.orientation?(a.options.shaded.orientation="group",a.options.shaded.groupId=t.id):(t.options.shaded.orientation="group",t.options.shaded.groupId=a.id))),a=t)),this._convertYcoordinates(o[s[i]],t);var u={};for(i=0;i<s.length;i++)if("line"===(t=this.groups[s[i]]).options.style&&1==t.options.shaded.enabled){var h=o[s[i]];if(null==h||0==h.length)continue;if(u.hasOwnProperty(s[i])||(u[s[i]]=Jz.calcPath(h,t)),"group"===t.options.shaded.orientation){var c=t.options.shaded.groupId;if(-1===tb(s).call(s,c)){console.log(t.id+": Unknown shading group target given:"+c);continue}u.hasOwnProperty(c)||(u[c]=Jz.calcPath(o[c],this.groups[c])),Jz.drawShading(u[s[i]],t,u[c],this.framework)}else Jz.drawShading(u[s[i]],t,void 0,this.framework)}for(Zz.draw(s,o,this.framework),i=0;i<s.length;i++)if(t=this.groups[s[i]],o[s[i]].length>0)switch(t.options.style){case"line":u.hasOwnProperty(s[i])||(u[s[i]]=Jz.calcPath(o[s[i]],t)),Jz.draw(u[s[i]],t,this.framework);case"point":case"points":"point"!=t.options.style&&"points"!=t.options.style&&1!=t.options.drawPoints.enabled||Vz.draw(o[s[i]],t,this.framework)}}}return _x(this.svgElements),!1},iI.prototype._stack=function(t,i){var e,n,r,s,o;e=0;for(var a=0;a<t.length;a++){s=void 0,o=void 0;for(var u=e;u<i.length;u++){if(i[u].x===t[a].x){s=i[u],o=i[u],e=u;break}if(i[u].x>t[a].x){o=i[u],s=0==u?o:i[u-1],e=u;break}}void 0===o&&(s=i[i.length-1],o=i[i.length-1]),n=o.x-s.x,r=o.y-s.y,t[a].y=0==n?t[a].orginalY+o.y:t[a].orginalY+r/n*(t[a].x-s.x)+s.y}},iI.prototype._getRelevantData=function(t,i,e,n){var r,s,o,a;if(t.length>0)for(s=0;s<t.length;s++){var u=(r=this.groups[t[s]]).getItems();if(1==LE(r.options)){var h=function(t,i){return t.getTime()==i.getTime()?0:t<i?-1:1},c=Math.max(0,SC.binarySearchValue(u,e,"x","before",h)),l=Math.min(u.length,SC.binarySearchValue(u,n,"x","after",h)+1);l<=0&&(l=u.length);var f=new Array(l-c);for(o=c;o<l;o++)a=r.itemsData[o],f[o-c]=a;i[t[s]]=f}else i[t[s]]=r.itemsData}},iI.prototype._applySampling=function(t,i){if(t.length>0)for(var e=0;e<t.length;e++)if(1==this.groups[t[e]].options.sampling){var n=i[t[e]];if(n.length>0){var r,s=n.length,o=s/(this.body.util.toGlobalScreen(n[n.length-1].x)-this.body.util.toGlobalScreen(n[0].x));r=Math.min(Math.ceil(.2*s),Math.max(1,Math.round(o)));for(var a=new Array(s),u=0;u<s;u+=r){a[Math.round(u/r)]=n[u]}i[t[e]]=Jp(a).call(a,0,Math.round(s/r))}}},iI.prototype._getYRanges=function(t,i,e){var n,r,s,o,a=[],u=[];if(t.length>0){for(s=0;s<t.length;s++)n=i[t[s]],o=this.groups[t[s]].options,n.length>0&&(r=this.groups[t[s]],!0===o.stack&&"bar"===o.style?"left"===o.yAxisOrientation?a=Vd(a).call(a,n):u=Vd(u).call(u,n):e[t[s]]=r.getYRange(n,t[s]));Zz.getStackedYRange(a,e,t,"__barStackLeft","left"),Zz.getStackedYRange(u,e,t,"__barStackRight","right")}},iI.prototype._updateYAxis=function(t,i){var e,n,r=!1,s=!1,o=!1,a=1e9,u=1e9,h=-1e9,c=-1e9;if(t.length>0){for(var l=0;l<t.length;l++){var f=this.groups[t[l]];f&&"right"!=f.options.yAxisOrientation?(s=!0,a=1e9,h=-1e9):f&&f.options.yAxisOrientation&&(o=!0,u=1e9,c=-1e9)}for(l=0;l<t.length;l++)i.hasOwnProperty(t[l])&&!0!==i[t[l]].ignore&&(e=i[t[l]].min,n=i[t[l]].max,"right"!=i[t[l]].yAxisOrientation?(s=!0,a=a>e?e:a,h=h<n?n:h):(o=!0,u=u>e?e:u,c=c<n?n:c));1==s&&this.yAxisLeft.setRange(a,h),1==o&&this.yAxisRight.setRange(u,c)}r=this._toggleAxisVisiblity(s,this.yAxisLeft)||r,r=this._toggleAxisVisiblity(o,this.yAxisRight)||r,1==o&&1==s?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!s,this.yAxisRight.masterAxis=this.yAxisLeft,0==this.yAxisRight.master?(this.yAxisLeft.lineOffset=1==o?this.yAxisRight.width:0,r=this.yAxisLeft.redraw()||r,r=this.yAxisRight.redraw()||r):r=this.yAxisRight.redraw()||r;var d=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(l=0;l<d.length;l++)-1!=tb(t).call(t,d[l])&&Jp(t).call(t,tb(t).call(t,d[l]),1);return r},iI.prototype._toggleAxisVisiblity=function(t,i){var e=!1;return 0==t?i.dom.frame.parentNode&&0==i.hidden&&(i.hide(),e=!0):i.dom.frame.parentNode||1!=i.hidden||(i.show(),e=!0),e},iI.prototype._convertXcoordinates=function(t){for(var i=this.body.util.toScreen,e=0;e<t.length;e++)t[e].screen_x=i(t[e].x)+this.props.width,t[e].screen_y=t[e].y,null!=t[e].end?t[e].screen_end=i(t[e].end)+this.props.width:t[e].screen_end=void 0},iI.prototype._convertYcoordinates=function(t,i){var e=this.yAxisLeft,n=Number(this.svg.style.height.replace("px",""));"right"==i.options.yAxisOrientation&&(e=this.yAxisRight);for(var r=0;r<t.length;r++)t[r].screen_y=Math.round(e.convertValue(t[r].y));i.setZeroPosition(Math.min(n,e.convertValue(0)))};var eI="string",nI="boolean",rI="number",sI="date",oI="object",aI="moment",uI={configure:{enabled:{boolean:nI},filter:{boolean:nI,function:"function"},container:{dom:"dom"},__type__:{object:oI,boolean:nI,function:"function"}},alignCurrentTime:{string:eI,undefined:"undefined"},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:eI},sort:{boolean:nI},sampling:{boolean:nI},stack:{boolean:nI},graphHeight:{string:eI,number:rI},shaded:{enabled:{boolean:nI},orientation:{string:["bottom","top","zero","group"]},groupId:{object:oI},__type__:{boolean:nI,object:oI}},style:{string:["line","bar","points"]},barChart:{width:{number:rI},minWidth:{number:rI},sideBySide:{boolean:nI},align:{string:["left","center","right"]},__type__:{object:oI}},interpolation:{enabled:{boolean:nI},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:rI},__type__:{object:oI,boolean:nI}},drawPoints:{enabled:{boolean:nI},onRender:{function:"function"},size:{number:rI},style:{string:["square","circle"]},__type__:{object:oI,boolean:nI,function:"function"}},dataAxis:{showMinorLabels:{boolean:nI},showMajorLabels:{boolean:nI},showWeekScale:{boolean:nI},icons:{boolean:nI},width:{string:eI,number:rI},visible:{boolean:nI},alignZeros:{boolean:nI},left:{range:{min:{number:rI,undefined:"undefined"},max:{number:rI,undefined:"undefined"},__type__:{object:oI}},format:{function:"function"},title:{text:{string:eI,number:rI,undefined:"undefined"},style:{string:eI,undefined:"undefined"},__type__:{object:oI}},__type__:{object:oI}},right:{range:{min:{number:rI,undefined:"undefined"},max:{number:rI,undefined:"undefined"},__type__:{object:oI}},format:{function:"function"},title:{text:{string:eI,number:rI,undefined:"undefined"},style:{string:eI,undefined:"undefined"},__type__:{object:oI}},__type__:{object:oI}},__type__:{object:oI}},legend:{enabled:{boolean:nI},icons:{boolean:nI},left:{visible:{boolean:nI},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:oI}},right:{visible:{boolean:nI},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:oI}},__type__:{object:oI,boolean:nI}},groups:{visibility:{any:"any"},__type__:{object:oI}},autoResize:{boolean:nI},throttleRedraw:{number:rI},clickToUse:{boolean:nI},end:{number:rI,date:sI,string:eI,moment:aI},format:{minorLabels:{millisecond:{string:eI,undefined:"undefined"},second:{string:eI,undefined:"undefined"},minute:{string:eI,undefined:"undefined"},hour:{string:eI,undefined:"undefined"},weekday:{string:eI,undefined:"undefined"},day:{string:eI,undefined:"undefined"},week:{string:eI,undefined:"undefined"},month:{string:eI,undefined:"undefined"},quarter:{string:eI,undefined:"undefined"},year:{string:eI,undefined:"undefined"},__type__:{object:oI}},majorLabels:{millisecond:{string:eI,undefined:"undefined"},second:{string:eI,undefined:"undefined"},minute:{string:eI,undefined:"undefined"},hour:{string:eI,undefined:"undefined"},weekday:{string:eI,undefined:"undefined"},day:{string:eI,undefined:"undefined"},week:{string:eI,undefined:"undefined"},month:{string:eI,undefined:"undefined"},quarter:{string:eI,undefined:"undefined"},year:{string:eI,undefined:"undefined"},__type__:{object:oI}},__type__:{object:oI}},moment:{function:"function"},height:{string:eI,number:rI},hiddenDates:{start:{date:sI,number:rI,string:eI,moment:aI},end:{date:sI,number:rI,string:eI,moment:aI},repeat:{string:eI},__type__:{object:oI,array:"array"}},locale:{string:eI},locales:{__any__:{any:"any"},__type__:{object:oI}},max:{date:sI,number:rI,string:eI,moment:aI},maxHeight:{number:rI,string:eI},maxMinorChars:{number:rI},min:{date:sI,number:rI,string:eI,moment:aI},minHeight:{number:rI,string:eI},moveable:{boolean:nI},multiselect:{boolean:nI},orientation:{string:eI},showCurrentTime:{boolean:nI},showMajorLabels:{boolean:nI},showMinorLabels:{boolean:nI},showWeekScale:{boolean:nI},snap:{function:"function",null:"null"},start:{date:sI,number:rI,string:eI,moment:aI},timeAxis:{scale:{string:eI,undefined:"undefined"},step:{number:rI,undefined:"undefined"},__type__:{object:oI}},width:{string:eI,number:rI},zoomable:{boolean:nI},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:rI},zoomMin:{number:rI},zIndex:{number:rI},__type__:{object:oI}},hI={global:{alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",quarter:"[Q]Q",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",quarter:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,showWeekScale:!1,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};function cI(t,i,e,n){var r,s,o,a,u,h,c;if(!ev(e)&&!bC(e)&&e instanceof Object){var l=n;n=e,e=l}n&&n.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var f=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:cA,width:null,height:null,maxHeight:null,minHeight:null},this.options=SC.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:qv(r=this.on).call(r,this),off:qv(s=this.off).call(s,this),emit:qv(o=this.emit).call(o,this)},hiddenDates:[],util:{getScale:function(){return f.timeAxis.step.scale},getStep:function(){return f.timeAxis.step.step},toScreen:qv(a=f._toScreen).call(a,f),toGlobalScreen:qv(u=f._toGlobalScreen).call(u,f),toTime:qv(h=f._toTime).call(h,f),toGlobalTime:qv(c=f._toGlobalTime).call(c,f)}},this.range=new mO(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new jO(this.body),this.components.push(this.timeAxis),this.currentTime=new ZO(this.body),this.components.push(this.currentTime),this.linegraph=new iI(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",(function(t){f.emit("click",f.getEventProperties(t))})),this.on("doubletap",(function(t){f.emit("doubleClick",f.getEventProperties(t))})),this.dom.root.oncontextmenu=function(t){f.emit("contextmenu",f.getEventProperties(t))},this.initialFitDone=!1,this.on("changed",(function(){if(null!=f.itemsData){if(!f.initialFitDone&&!f.options.rollingMode)if(f.initialFitDone=!0,null!=f.options.start||null!=f.options.end){if(null==f.options.start||null==f.options.end)var t=f.getItemRange();var i=null!=f.options.start?f.options.start:t.min,e=null!=f.options.end?f.options.end:t.max;f.setWindow(i,e,{animation:!1})}else f.fit({animation:!1});f.initialDrawDone||!f.initialRangeChangeDone&&(f.options.start||f.options.end)&&!f.options.rollingMode||(f.initialDrawDone=!0,f.dom.root.style.visibility="visible",f.dom.loadingScreen.parentNode.removeChild(f.dom.loadingScreen),f.options.onInitialDrawComplete&&Vb((function(){return f.options.onInitialDrawComplete()}),0))}})),n&&this.setOptions(n),e&&this.setGroups(e),i&&this.setItems(i),this._redraw()}cI.prototype=new VO,cI.prototype.setOptions=function(t){!0===Mz.validate(t,uI)&&console.log("%cErrors have been found in the supplied options object.",Dz),VO.prototype.setOptions.call(this,t)},cI.prototype.setItems=function(t){var i,e=null==this.itemsData;if(i=t?bC(t)?xC(t):xC(new aA(t)):null,this.itemsData&&this.itemsData.dispose(),this.itemsData=i,this.linegraph&&this.linegraph.setItems(null!=i?i.rawDS:null),e)if(null!=this.options.start||null!=this.options.end){var n=null!=this.options.start?this.options.start:null,r=null!=this.options.end?this.options.end:null;this.setWindow(n,r,{animation:!1})}else this.fit({animation:!1})},cI.prototype.setGroups=function(t){var i;i=t?bC(t)?t:new aA(t):null,this.groupsData=i,this.linegraph.setGroups(i)},cI.prototype.getLegend=function(t,i,e){return void 0===i&&(i=15),void 0===e&&(e=15),void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].getLegend(i,e):"cannot find group:'"+t+"'"},cI.prototype.isGroupVisible=function(t){return void 0!==this.linegraph.groups[t]&&(this.linegraph.groups[t].visible&&(void 0===this.linegraph.options.groups.visibility[t]||1==this.linegraph.options.groups.visibility[t]))},cI.prototype.getDataRange=function(){var t=null,i=null;for(var e in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(e)&&1==this.linegraph.groups[e].visible)for(var n=0;n<this.linegraph.groups[e].itemsData.length;n++){var r=this.linegraph.groups[e].itemsData[n],s=SC.convert(r.x,"Date").valueOf();t=null==t||t>s?s:t,i=null==i||i<s?s:i}return{min:null!=t?new Date(t):null,max:null!=i?new Date(i):null}},cI.prototype.getEventProperties=function(t){var i=t.center?t.center.x:t.clientX,e=t.center?t.center.y:t.clientY,n=i-SC.getAbsoluteLeft(this.dom.centerContainer),r=e-SC.getAbsoluteTop(this.dom.centerContainer),s=this._toTime(n),o=qO.customTimeFromTarget(t),a=SC.getTarget(t),u=null;SC.hasParent(a,this.timeAxis.dom.foreground)||this.timeAxis2&&SC.hasParent(a,this.timeAxis2.dom.foreground)?u="axis":SC.hasParent(a,this.linegraph.yAxisLeft.dom.frame)||SC.hasParent(a,this.linegraph.yAxisRight.dom.frame)?u="data-axis":SC.hasParent(a,this.linegraph.legendLeft.dom.frame)||SC.hasParent(a,this.linegraph.legendRight.dom.frame)?u="legend":null!=o?u="custom-time":SC.hasParent(a,this.currentTime.bar)?u="current-time":SC.hasParent(a,this.dom.center)&&(u="background");var h=[],c=this.linegraph.yAxisLeft,l=this.linegraph.yAxisRight;return!c.hidden&&this.itemsData.length>0&&h.push(c.screenToValue(r)),!l.hidden&&this.itemsData.length>0&&h.push(l.screenToValue(r)),{event:t,customTime:o?o.options.id:null,what:u,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:n,y:r,time:s,value:h}},cI.prototype._createConfigurator=function(){return new Iz(this,this.dom.container,hI)},console.warn(["This build has been deprecated.","","In case you are importing this through a URL it will result in a 404 eventually.","In case you are importing this through Node it will be replaced by the peer build eventually.","","Please use the peer or standalone build instead.","Peer: https://visjs.github.io/vis-timeline/examples/timeline/peer-build.html","Standalone: https://visjs.github.io/vis-timeline/examples/timeline/standalone-build.html"].join("\n"));var lI=Tx();cA.locale(lI);var fI={Core:VO,DateUtil:vO,Range:mO,stack:LL,TimeStep:MO,components:{items:{Item:BL,BackgroundItem:ZL,BoxItem:GL,ClusterItem:lz,PointItem:UL,RangeItem:VL},BackgroundGroup:HL,Component:RC,CurrentTime:ZO,CustomTime:qO,DataAxis:qz,DataScale:$z,GraphGroup:Kz,Group:IL,ItemSet:kz,Legend:Qz,LineGraph:iI,TimeAxis:jO}},dI={util:kx,DOMutil:Ex,DataSet:aA,DataView:uA,Queue:rA,Timeline:Hz,Graph2d:cI,timeline:fI,moment:cA,Hammer:_O,keycharm:TO};t.DOMutil=Ex,t.DataSet=aA,t.DataView=uA,t.Graph2d=cI,t.Hammer=_O,t.Queue=rA,t.Timeline=Hz,t.default=dI,t.keycharm=TO,t.moment=cA,t.timeline=fI,t.util=kx,Object.defineProperty(t,"__esModule",{value:!0})}))}));const D=b(_);function M(t,i){this.log("rangechanged",t.start);this.log("rangechanged",t.end);this.log("periods",i);const e={};for(const t of this.events){if(t.mileage||t.totalFuel){if(!e[t.vehicleId]){e[t.vehicleId]=[]}e[t.vehicleId].push(t)}}let n,r,s=0,o=0,a=0,u=0;for(let i of this.dataSet){if(i.start&&i.end&&i.start>=t.start&&i.end<=t.end&&i.group==="bar"){if(!n){n=i.event}r=i.nextEvent?i.nextEvent:r;if(i.event&&i.event.activity){if(i.event.activity==="D"){s+=i.end.valueOf()-i.start.valueOf()}if(i.event.activity==="A"){o+=i.end.valueOf()-i.start.valueOf()}if(i.event.activity==="W"){a+=i.end.valueOf()-i.start.valueOf()}if(i.event.activity==="R"){u+=i.end.valueOf()-i.start.valueOf()}}}}let h=[];if(this.resourceType==="driver"){if(i&&i.length){for(const e of i){let i=false;let n=null;let r=null;if(e.start&&e.start.ts){if(e.end&&e.end.ts){r=e.end.ts}else{if(e.lastEvent&&e.lastEvent.ts){r=e.lastEvent.ts}}if(new Date(e.start.ts).getTime()>=new Date(t.start).getTime()&&new Date(e.start.ts).getTime()<new Date(t.end).getTime()){n=e.start.ts;if(r){if(new Date(r).getTime()>new Date(t.end).getTime()){r=new Date(t.end)}i=true}}else{if(new Date(e.start.ts).getTime()<new Date(t.start).getTime()){if(r&&new Date(r).getTime()>new Date(t.start).getTime()){if(new Date(r).getTime()>new Date(t.end).getTime()){r=new Date(t.end)}n=new Date(t.start);i=true}}}}if(i){h.push({start:n,end:r})}}}}else{h.push({start:new Date(t.start),end:new Date(t.end)})}this.log("periodList: ",h);let c=0,l=0;for(const t of Object.keys(e)){let i=0,n=0;for(const r of h){let s=null,o=null,a=null,u=null;let h=0;let c=0;for(const i of e[t]){if((i.mileage||i.totalFuel)&&new Date(i.ts).getTime()>=new Date(r.start).getTime()&&new Date(i.ts).getTime()<=new Date(r.end).getTime()){if(i.mileage){if(!s){s=i}else{if(new Date(s.ts).getTime()>new Date(i.ts).getTime()){s=i}}if(!o){o=i}else{if(new Date(o.ts).getTime()<new Date(i.ts).getTime()){o=i}}}if(i.totalFuel){if(!a){a=i}else{if(new Date(a.ts).getTime()>new Date(i.ts).getTime()){a=i}}if(!u){u=i}else{if(new Date(u.ts).getTime()<new Date(i.ts).getTime()){u=i}}}}}if(s&&o){h=o.mileage-s.mileage}if(a&&u){c=u.totalFuel-a.totalFuel}i+=h;n+=c}c+=i;l+=n}this.log("Total mileage: ",Math.round(c*100)/100);this.log("Total fuel: ",Math.round(l*1e3)/1e3);this.startAndEndChange.emit({start:t.start,end:t.end,firstActivity:n,lastActivity:r,available:o/1e3,drive:s/1e3,work:a/1e3,rest:u/1e3,firstLoad:this.firstLoad,mileage:Math.round(c*100)/100,totalFuel:Math.round(l*1e3)/1e3});this.firstLoad=false}function S(t){if(t.item&&this.items.get(t.item).event&&this.items.get(t.item).event.activity!=="D"){this.clickOnTimeline.emit({event:this.items.get(t.item).event,start:this.items.get(t.item).start,end:this.items.get(t.item).end})}else if(t.item&&this.items.get(t.item).event&&this.items.get(t.item).nextEvent&&this.items.get(t.item).event.activity==="D"){this.clickOnTimeline.emit({event:this.items.get(t.item).event,nextEvent:this.items.get(t.item).nextEvent,start:this.items.get(t.item).start,end:this.items.get(t.item).end})}else if(t.item&&this.items.get(t.item).period){this.clickOnTimeline.emit({period:this.items.get(t.item).period,start:this.items.get(t.item).start})}}function j(t){if(t.item&&this.items.get(t.item).event&&this.items.get(t.item).start&&this.items.get(t.item).end){this.doubleClickOnTimeline.emit({event:this.items.get(t.item).event,start:this.items.get(t.item).start,end:this.items.get(t.item).end})}}function F(t){if(t.what==="background"&&this.backgrounds[0]){let r=this.backgrounds.find((i=>i.start&&i.end&&t.time&&new Date(i.start)<=new Date(t.time)&&new Date(t.time)<=new Date(i.end)));if(r){this.tooltipElement.style.visibility="visible";this.tooltipElement.innerHTML=r.title;var i=this.componentElement.getBoundingClientRect();var e=t.event.clientX-i.left;var n=t.event.clientY-i.top;if(e>=i.width-200){e=e-200}this.tooltipElement.style.top=n+10+"px";this.tooltipElement.style.left=e+10+"px"}else{this.tooltipElement.style.visibility="hidden";this.tooltipElement.innerHTML=""}}else{this.tooltipElement.style.visibility="hidden";this.tooltipElement.innerHTML=""}}function T(t,i){let e=[];for(let n of t){if(n.start&&n.start.ts){let t=n.start;const r=i&&new Date(i)>=new Date(n.start.ts)?"start-green":"start";const s=i&&new Date(i)>=new Date(n.start.ts)?"icon-timeline-green":"icon-timeline";e.push({content:`<div class="periodTextParent">\n            <svg class="${s}" aria-hidden="true" ><use xlink:href="#play"></use></svg>`+(this.annotated?`<div class="periodTextStart">${this.prettyDate(new Date(t.ts),"00/00 00:00")}</div>`:"")+`</div>`,start:new Date(n.start.ts),group:"start",editable:false,latLng:t.geo&&t.geo.coordinates?t.geo.coordinates:null,className:r,title:` ${this.i18n.get("serviceBeginning")} ${this.prettyDate(new Date(t.ts),"00/00/0000 00:00")} ${t.address&&(t.address.postalcode||t.address.name)?`</br> ${this.i18n.get("in")} : ${t.address.postalcode?t.address.postalcode:""} ${t.address.name?t.address.name:""}`:""}`,period:n})}if(n.end&&n.end.ts){let t=n.end;const r=i&&new Date(i)>=new Date(n.end.ts)?"end-green":"end";const s=i&&new Date(i)>=new Date(n.end.ts)?"icon-timeline-green":"icon-timeline";e.push({content:`<div class="periodTextParent">\n        <svg class="${s}" aria-hidden="true" ><use xlink:href="#arrival"></use></svg>`+(this.annotated?`<div class="periodTextStop">${this.prettyDate(new Date(t.ts),"00/00 00:00")}</div>`:"")+`</div>`,start:new Date(n.end.ts),group:"start",editable:false,className:r,title:`${this.i18n.get("serviceEnding")} ${this.prettyDate(new Date(t.ts),"00/00/0000 00:00")} ${t.address&&(t.address.postalcode||t.address.name)?`</br> ${this.i18n.get("in")} : ${t.address.postalcode?t.address.postalcode:""} ${t.address.name?t.address.name:""}`:""}`,period:n})}}return e}function E(t,i,e){let n,r,s;if(i.activity==="A"||i.activity==="R"||i.activity==="D"||i.activity==="W"){switch(i.activity){case"R":s=1;n=this.i18n.get("rest");r="rest";break;case"A":s=2;n=this.i18n.get("available");r="available";break;case"W":s=3;n=this.i18n.get("work");r="work";break;case"D":s=4;n=this.i18n.get("drive");r="drive";break}let o=new Date(i.ts);let a=this.prettyDate(o,"00:00");let u=new Date(t.ts);let h=this.prettyDate(u,"00:00");let c=f((u.valueOf()-o.valueOf())/1e3);if(r=="rest"&&u.valueOf()-o.valueOf()>=324e5){r="rest9h"}else if(r=="rest"&&u.valueOf()-o.valueOf()>=27e5){r="rest45m"}else if(r=="rest"&&u.valueOf()-o.valueOf()>=9e5){r="rest15m"}if(this.eventSelect&&new Date(this.eventSelect.start).valueOf()===new Date(o).valueOf()&&new Date(this.eventSelect.end).valueOf()===new Date(u).valueOf()){r+=" eventSelect"}if(i.modified){r+=" modified"}let l={start:o,end:u,content:this.annotated?`<div class="duration">${c}</div>`:"",className:r,group:"bar",editable:false,subgroup:s,item:r,event:i,nextEvent:t,title:`${n} ${this.i18n.get("from")} ${a} ${this.i18n.get("to")}  ${h} (${c}) <br/> ${i.tooltip?`${i.tooltip} <br/>`:""} ${i.mileage?`${this.separateHundredWithSpace(Math.trunc(i.mileage))} km`:""}`,subgroupOrder:s};let d={start:o,end:u,content:this.annotated?`<div class="duration">${c}</div>`:"",className:`${r} allMode`,item:r,group:"all",editable:false,event:i,nextEvent:t,title:`${n} ${this.i18n.get("from")}  ${a} ${this.i18n.get("to")}  ${h} (${c})  <br/>  ${i.tooltip?`${i.tooltip} <br/>`:""} ${i.mileage?`${this.separateHundredWithSpace(Math.trunc(i.mileage))} km`:""}`};if(i.correction||i.autocorrectType){let t={};if(i.autocorrectType){t={ts:i.ts,autocorrect:true,autocorrectType:i.autocorrectType===1?"edit":"create"}}else{t=i.correction}let n=C(o,u,t,this);if(n){this.backgrounds.push(n);e.push(n)}}e.push(l);e.push(d)}}function Y(t,i){let e="other";let n=new Date(t.ts);let r=this.prettyDate(n,"00:00");let s=new Date(t.end);let o=this.prettyDate(s,"00:00");let a=f((s.valueOf()-n.valueOf())/1e3);t.label=t.label?t.label:"?";if(this.activitiesOutsideVehicle&&this.activitiesOutsideVehicle.length){let i=this.getActivityOutsideVehicle(t.customActivityId);t.label=i&&i.label?i.label:t.label}if(t.modified){e+=" modified"}let u={start:t.ts,end:t.end,content:this.annotated?`<div class="duration">${a}</div>`:"",className:e,group:"bar",editable:false,item:"other",event:t,title:`${t.label} ${this.i18n.get("from")} ${r} ${this.i18n.get("to")}  ${o} (${a}) <br/> ${t.tooltip?t.tooltip:""}`};let h={start:n,end:s,content:this.annotated?`<div class="duration">${a}</div>`:"",className:`${e} allMode`,item:"other",group:"all",editable:false,event:t,title:`${t.label} ${this.i18n.get("from")}  ${r} ${this.i18n.get("to")}  ${o} (${a})  <br/>  ${t.tooltip?t.tooltip:""}`};if(t.correction||t.autocorrectType){let e={};if(t.autocorrectType){e={ts:t.ts,autocorrect:true,autocorrectType:t.autocorrectType===1?"edit":"create"}}else{e=t.correction}let r=C(n,s,e,this);if(r){this.backgrounds.push(r);i.push(r)}}i.push(u);i.push(h)}function A(t,i){let e,n,r;switch(i.activity){case"R":r=1;e=this.i18n.get("rest");n="rest";break;case"A":r=2;e=this.i18n.get("available");n="available";break;case"W":r=3;e=this.i18n.get("work");n="work";break;case"D":r=4;e=this.i18n.get("drive");n="drive";break}n+=" supposed";let s=new Date(this.lastEvent_end);let o=this.prettyDate(s,"00:00");let a=new Date;let u=this.prettyDate(a,"00:00");let h=f((a.valueOf()-s.valueOf())/1e3);let c={start:this.lastEvent_end,end:new Date,content:this.annotated?`<div class="duration">${h}</div>`:"",className:n,subgroup:r,group:"bar",editable:false,item:"other",event:i,title:`${e} ${this.i18n.get("from")} ${o} ${this.i18n.get("to")}  ${u} (${h}) <br/> ${i.tooltip?`${i.tooltip} <br/>`:""} `};let l={start:this.lastEvent_end,end:new Date,content:this.annotated?`<div class="duration">${h}</div>`:"",className:`${n} allMode`,item:"other",group:"all",editable:false,event:i,title:`${e} ${this.i18n.get("from")} ${o} ${this.i18n.get("to")}  ${u} (${h}) <br/> ${i.tooltip?`${i.tooltip} <br/>`:""} `};t.push(c);t.push(l)}function C(t,i,e,n){if(e.new&&e.new.label&&e.new.label==="passenger"){return null}let r="";if(!e.autocorrectType){r+=`<span>${n.i18n.get("creationDate")} : <strong>${l(new Date(e.creationTs),"00/00/0000 00:00")}</strong> </span> <br/>`;if(e.origin&&e.origin.activity){r+=`<span>${n.i18n.get("originalActivity")} :  <strong>${n.i18n.get(O(e.origin.activity))} de ${l(new Date(e.origin.ts),"00:00")} ${n.i18n.get("to")} ${l(new Date(e.origin.end),"00:00")}</strong> </span>  <br/>`}if(e.new&&(e.new.label||e.new.activity)){if(e.new.end){r+=`<span>${n.i18n.get("newActivity")} :  <strong>${e.new.label?e.new.label:n.i18n.get(O(e.new.activity))} de ${l(new Date(e.new.ts),"00:00")} ${n.i18n.get("to")} ${l(new Date(e.new.end),"00:00")}</strong> </span>  <br/>`}else{r+=`<span>${n.i18n.get("activity")} :  <strong>${e.new.label?e.new.label:n.i18n.get(O(e.new.activity))} ${n.i18n.get("to")} ${l(new Date(e.new.ts),"00:00")}</strong> </span>  <br/>`}}r+=`<span>${n.i18n.get("author")} : <strong>${e.dispatcherName}</strong> </span>  <br/>`;r+=`<span>Type : <strong>${n.i18n.get(e.type)}</strong> </span>  <br/>`;r+=`<span>${n.i18n.get("reason")} : <strong>${e.comment?e.comment:"?"}</strong> </span> <br/>`}else{r+=`<span>${n.i18n.get("newActivity")} : <strong>${n.i18n.get(O("R"))} ${n.i18n.get("to")} ${l(new Date(e.ts),"00:00")}</strong></span><br/>`;r+=`<span>Type : <strong>${n.i18n.get(e.autocorrectType)}</strong> </span>  <br/>`}return{content:"",start:t,end:i,type:"background",title:`<div> <h4>${e.autocorrect?n.i18n.get("autocorrect"):"Correction"}</h4>${r}</div>`,className:"activity-modified-"+(e.autocorrect?"autocorrect":e.source)}}function O(t){switch(t){case"R":return"rest";case"A":return"available";case"W":return"work";case"D":return"drive";default:return""}}function L(t){return this.activitiesOutsideVehicle.find((i=>i._id===t))}function z(){let t=[];let i=[];let e=[];for(let t of Object.keys(this.events)){let n=this.events[t];if(n.customActivityId){e.push(n)}else{i.push(n)}}let n;for(let e of Object.keys(i)){let r=i[e];if(r.activity&&r.ts){if(r.activity==="U"){r.activity="R"}if(!n){n=r}else{if(r.activity!==n.activity||r.activity===n.activity&&r.correction){this.addActivityOnTimeline(r,n,t);n=r}}}}if(this.lastEvent_end&&(!this.lastLegalFileEvent||this.lastLegalFileEvent&&new Date(this.lastLegalFileEvent)<=new Date(this.lastEvent_end))){this.addActivityOnTimeline({ts:this.lastEvent_end},n,t);this.addSupposedActivity(t,n)}for(let i of Object.keys(e)){let n=e[i];this.addActivityOther(n,t)}return t}function I(t,i){let e=[];function n(t,i,n,r){e.push({start:new Date(t),end:new Date(i),group:"start",content:n,title:r,editable:false,className:e.length&&e[e.length-1].content===n?e[e.length-1].className:e.length&&e[e.length-1].className==="resource-even"?"resource-odd":"resource-even"})}for(const e of t){if(i==="driver"){n(e.start,e.end,e.vehicleId,e.vehicleName)}else if(i==="vehicle"){n(e.start,e.end,e.driverId,e.driverName)}}return e}function N(t){let i=[];for(let e=0;e<t.length;e++){const n=t[e];let r=new Date(n.ts);i.push({id:"note-"+e,className:"note-"+e%2,group:"start",start:r,content:this.annotated?n.text:"",type:"point",title:n.text+" "+this.prettyDate(r,"00:00")})}return i}function H(t){let i=[];let e;t.sort(((t,i)=>t.lastCommunicationTs-i.lastCommunicationTs));for(let n of t){if(n.lastCommunicationTs&&(!e||new Date(n.lastCommunicationTs).valueOf()!==new Date(e).valueOf())){const t=new Date(n.lastCommunicationTs);const r=e?t.valueOf()-new Date(e).valueOf():null;i.push({content:`<div class="lastComContent">${r?this.toHHMMSS(r/1e3):"?"}</div>`,start:t,group:"lastCommunication",editable:false,type:"point",className:"pointLastCom",title:`${this.prettyDate(t,"00/00/0000 00:00:00")}`});e=t}}return i}const P='.vis [class*=span]{min-height:0;width:auto}.vis-current-time{background-color:#ff7f6e;width:2px;z-index:1;pointer-events:none}.vis-rolling-mode-btn{height:40px;width:40px;position:absolute;top:7px;right:20px;border-radius:50%;font-size:28px;cursor:pointer;opacity:.8;color:#fff;font-weight:700;text-align:center;background:#3876c2}.vis-rolling-mode-btn:before{content:"\\26F6"}.vis-rolling-mode-btn:hover{opacity:1}.vis-panel{position:absolute;padding:0;margin:0;box-sizing:border-box}.vis-panel.vis-bottom,.vis-panel.vis-center,.vis-panel.vis-left,.vis-panel.vis-right,.vis-panel.vis-top{border:1px #bfbfbf}.vis-panel.vis-center,.vis-panel.vis-left,.vis-panel.vis-right{border-top-style:solid;border-bottom-style:solid;overflow:hidden}.vis-left.vis-panel.vis-vertical-scroll,.vis-right.vis-panel.vis-vertical-scroll{height:100%;overflow-x:hidden;overflow-y:scroll}.vis-left.vis-panel.vis-vertical-scroll{direction:rtl}.vis-left.vis-panel.vis-vertical-scroll .vis-content{direction:ltr}.vis-right.vis-panel.vis-vertical-scroll{direction:ltr}.vis-right.vis-panel.vis-vertical-scroll .vis-content{direction:rtl}.vis-panel.vis-bottom,.vis-panel.vis-center,.vis-panel.vis-top{border-left-style:solid;border-right-style:solid}.vis-background{overflow:hidden}.vis-panel>.vis-content{position:relative}.vis-panel .vis-shadow{position:absolute;width:100%;height:1px;box-shadow:0 0 10px rgba(0,0,0,.8)}.vis-panel .vis-shadow.vis-top{top:-1px;left:0}.vis-panel .vis-shadow.vis-bottom{bottom:-1px;left:0}.vis-timeline{position:relative;border:1px solid #bfbfbf;overflow:hidden;padding:0;margin:0;box-sizing:border-box}.vis-loading-screen{width:100%;height:100%;position:absolute;top:0;left:0}.vis-graph-group0{fill:#4f81bd;fill-opacity:0;stroke-width:2px;stroke:#4f81bd}.vis-graph-group1{fill:#f79646;fill-opacity:0;stroke-width:2px;stroke:#f79646}.vis-graph-group2{fill:#8c51cf;fill-opacity:0;stroke-width:2px;stroke:#8c51cf}.vis-graph-group3{fill:#75c841;fill-opacity:0;stroke-width:2px;stroke:#75c841}.vis-graph-group4{fill:#ff0100;fill-opacity:0;stroke-width:2px;stroke:#ff0100}.vis-graph-group5{fill:#37d8e6;fill-opacity:0;stroke-width:2px;stroke:#37d8e6}.vis-graph-group6{fill:#042662;fill-opacity:0;stroke-width:2px;stroke:#042662}.vis-graph-group7{fill:#00ff26;fill-opacity:0;stroke-width:2px;stroke:#00ff26}.vis-graph-group8{fill:#f0f;fill-opacity:0;stroke-width:2px;stroke:#f0f}.vis-graph-group9{fill:#8f3938;fill-opacity:0;stroke-width:2px;stroke:#8f3938}.vis-timeline .vis-fill{fill-opacity:.1;stroke:none}.vis-timeline .vis-bar{fill-opacity:.5;stroke-width:1px}.vis-timeline .vis-point{stroke-width:2px;fill-opacity:1}.vis-timeline .vis-legend-background{stroke-width:1px;fill-opacity:.9;fill:#fff;stroke:#c2c2c2}.vis-timeline .vis-outline{stroke-width:1px;fill-opacity:1;fill:#fff;stroke:#e5e5e5}.vis-timeline .vis-icon-fill{fill-opacity:.3;stroke:none}.vis-custom-time{background-color:#6e94ff;width:2px;cursor:move;z-index:1}.vis-custom-time>.vis-custom-time-marker{background-color:inherit;color:#fff;font-size:12px;white-space:nowrap;padding:3px 5px;top:0;cursor:initial;z-index:inherit}.vis-panel.vis-background.vis-horizontal .vis-grid.vis-horizontal{position:absolute;width:100%;height:0;border-bottom:1px solid}.vis-panel.vis-background.vis-horizontal .vis-grid.vis-minor{border-color:#e5e5e5}.vis-panel.vis-background.vis-horizontal .vis-grid.vis-major{border-color:#bfbfbf}.vis-data-axis .vis-y-axis.vis-major{width:100%;position:absolute;color:#4d4d4d;white-space:nowrap}.vis-data-axis .vis-y-axis.vis-major.vis-measure{padding:0;margin:0;border:0;visibility:hidden;width:auto}.vis-data-axis .vis-y-axis.vis-minor{position:absolute;width:100%;color:#bebebe;white-space:nowrap}.vis-data-axis .vis-y-axis.vis-minor.vis-measure{padding:0;margin:0;border:0;visibility:hidden;width:auto}.vis-data-axis .vis-y-axis.vis-title{position:absolute;color:#4d4d4d;white-space:nowrap;bottom:20px;text-align:center}.vis-data-axis .vis-y-axis.vis-title.vis-measure{padding:0;margin:0;visibility:hidden;width:auto}.vis-data-axis .vis-y-axis.vis-title.vis-left{bottom:0;-webkit-transform-origin:left top;-moz-transform-origin:left top;-ms-transform-origin:left top;-o-transform-origin:left top;transform-origin:left bottom;-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-ms-transform:rotate(-90deg);-o-transform:rotate(-90deg);transform:rotate(-90deg)}.vis-data-axis .vis-y-axis.vis-title.vis-right{bottom:0;-webkit-transform-origin:right bottom;-moz-transform-origin:right bottom;-ms-transform-origin:right bottom;-o-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-ms-transform:rotate(90deg);-o-transform:rotate(90deg);transform:rotate(90deg)}.vis-legend{background-color:rgba(247,252,255,.65);padding:5px;border:1px solid #b3b3b3;box-shadow:2px 2px 10px rgba(154,154,154,.55)}.vis-legend-text{white-space:nowrap;display:inline-block}.vis-labelset{position:relative;overflow:hidden;box-sizing:border-box}.vis-labelset .vis-label{position:relative;left:0;top:0;width:100%;color:#4d4d4d;box-sizing:border-box}.vis-labelset .vis-label{border-bottom:1px solid #bfbfbf}.vis-labelset .vis-label.draggable{cursor:pointer}.vis-group-is-dragging{background:rgba(0,0,0,.1)}.vis-labelset .vis-label:last-child{border-bottom:none}.vis-labelset .vis-label .vis-inner{display:inline-block;padding:5px}.vis-labelset .vis-label .vis-inner.vis-hidden{padding:0}.vis-itemset{position:relative;padding:0;margin:0;box-sizing:border-box}.vis-itemset .vis-background,.vis-itemset .vis-foreground{position:absolute;width:100%;height:100%;overflow:visible}.vis-axis{position:absolute;width:100%;height:0;left:0;z-index:1}.vis-foreground .vis-group{position:relative;box-sizing:border-box;border-bottom:1px solid #bfbfbf}.vis-foreground .vis-group:last-child{border-bottom:none}.vis-nesting-group{cursor:pointer}.vis-label.vis-nested-group.vis-group-level-unknown-but-gte1{background:#f5f5f5}.vis-label.vis-nested-group.vis-group-level-0{background-color:#fff}.vis-ltr .vis-label.vis-nested-group.vis-group-level-0 .vis-inner{padding-left:0}.vis-rtl .vis-label.vis-nested-group.vis-group-level-0 .vis-inner{padding-right:0}.vis-label.vis-nested-group.vis-group-level-1{background-color:rgba(0,0,0,.05)}.vis-ltr .vis-label.vis-nested-group.vis-group-level-1 .vis-inner{padding-left:15px}.vis-rtl .vis-label.vis-nested-group.vis-group-level-1 .vis-inner{padding-right:15px}.vis-label.vis-nested-group.vis-group-level-2{background-color:rgba(0,0,0,.1)}.vis-ltr .vis-label.vis-nested-group.vis-group-level-2 .vis-inner{padding-left:30px}.vis-rtl .vis-label.vis-nested-group.vis-group-level-2 .vis-inner{padding-right:30px}.vis-label.vis-nested-group.vis-group-level-3{background-color:rgba(0,0,0,.15)}.vis-ltr .vis-label.vis-nested-group.vis-group-level-3 .vis-inner{padding-left:45px}.vis-rtl .vis-label.vis-nested-group.vis-group-level-3 .vis-inner{padding-right:45px}.vis-label.vis-nested-group.vis-group-level-4{background-color:rgba(0,0,0,.2)}.vis-ltr .vis-label.vis-nested-group.vis-group-level-4 .vis-inner{padding-left:60px}.vis-rtl .vis-label.vis-nested-group.vis-group-level-4 .vis-inner{padding-right:60px}.vis-label.vis-nested-group.vis-group-level-5{background-color:rgba(0,0,0,.25)}.vis-ltr .vis-label.vis-nested-group.vis-group-level-5 .vis-inner{padding-left:75px}.vis-rtl .vis-label.vis-nested-group.vis-group-level-5 .vis-inner{padding-right:75px}.vis-label.vis-nested-group.vis-group-level-6{background-color:rgba(0,0,0,.3)}.vis-ltr .vis-label.vis-nested-group.vis-group-level-6 .vis-inner{padding-left:90px}.vis-rtl .vis-label.vis-nested-group.vis-group-level-6 .vis-inner{padding-right:90px}.vis-label.vis-nested-group.vis-group-level-7{background-color:rgba(0,0,0,.35)}.vis-ltr .vis-label.vis-nested-group.vis-group-level-7 .vis-inner{padding-left:105px}.vis-rtl .vis-label.vis-nested-group.vis-group-level-7 .vis-inner{padding-right:105px}.vis-label.vis-nested-group.vis-group-level-8{background-color:rgba(0,0,0,.4)}.vis-ltr .vis-label.vis-nested-group.vis-group-level-8 .vis-inner{padding-left:120px}.vis-rtl .vis-label.vis-nested-group.vis-group-level-8 .vis-inner{padding-right:120px}.vis-label.vis-nested-group.vis-group-level-9{background-color:rgba(0,0,0,.45)}.vis-ltr .vis-label.vis-nested-group.vis-group-level-9 .vis-inner{padding-left:135px}.vis-rtl .vis-label.vis-nested-group.vis-group-level-9 .vis-inner{padding-right:135px}.vis-label.vis-nested-group{background-color:rgba(0,0,0,.5)}.vis-ltr .vis-label.vis-nested-group .vis-inner{padding-left:150px}.vis-rtl .vis-label.vis-nested-group .vis-inner{padding-right:150px}.vis-group-level-unknown-but-gte1{border:1px solid red}.vis-label.vis-nesting-group:before{display:inline-block;width:15px}.vis-label.vis-nesting-group.expanded:before{content:"\\25BC"}.vis-label.vis-nesting-group.collapsed:before{content:"\\25B6"}.vis-rtl .vis-label.vis-nesting-group.collapsed:before{content:"\\25C0"}.vis-ltr .vis-label:not(.vis-nesting-group):not(.vis-group-level-0){padding-left:15px}.vis-rtl .vis-label:not(.vis-nesting-group):not(.vis-group-level-0){padding-right:15px}.vis-overlay{position:absolute;top:0;left:0;width:100%;height:100%;z-index:10}.vis-time-axis{position:relative;overflow:hidden}.vis-time-axis.vis-foreground{top:0;left:0;width:100%}.vis-time-axis.vis-background{position:absolute;top:0;left:0;width:100%;height:100%}.vis-time-axis .vis-text{position:absolute;color:#4d4d4d;padding:3px;overflow:hidden;box-sizing:border-box;white-space:nowrap}.vis-time-axis .vis-text.vis-measure{position:absolute;padding-left:0;padding-right:0;margin-left:0;margin-right:0;visibility:hidden}.vis-time-axis .vis-grid.vis-vertical{position:absolute;border-left:1px solid}.vis-time-axis .vis-grid.vis-vertical-rtl{position:absolute;border-right:1px solid}.vis-time-axis .vis-grid.vis-minor{border-color:#e5e5e5}.vis-time-axis .vis-grid.vis-major{border-color:#bfbfbf}.vis-item{position:absolute;color:#1a1a1a;border-color:#97b0f8;border-width:1px;background-color:#d5ddf6;display:inline-block;z-index:1}.vis-item.vis-selected{border-color:#ffc200;background-color:#fff785;z-index:2}.vis-editable.vis-selected{cursor:move}.vis-item.vis-point.vis-selected{background-color:#fff785}.vis-item.vis-box{text-align:center;border-style:solid;border-radius:2px}.vis-item.vis-point{background:0 0}.vis-item.vis-dot{position:absolute;padding:0;border-width:4px;border-style:solid;border-radius:4px}.vis-item.vis-range{border-style:solid;border-radius:2px;box-sizing:border-box}.vis-item.vis-background{border:none;background-color:rgba(213,221,246,.4);box-sizing:border-box;padding:0;margin:0}.vis-item .vis-item-overflow{position:relative;width:100%;height:100%;padding:0;margin:0;overflow:hidden}.vis-item-visible-frame{white-space:nowrap}.vis-item.vis-range .vis-item-content{position:relative;display:inline-block}.vis-item.vis-background .vis-item-content{position:absolute;display:inline-block}.vis-item.vis-line{padding:0;position:absolute;width:0;border-left-width:1px;border-left-style:solid}.vis-item .vis-item-content{white-space:nowrap;box-sizing:border-box;padding:5px}.vis-item .vis-onUpdateTime-tooltip{position:absolute;background:#4f81bd;color:#fff;width:200px;text-align:center;white-space:nowrap;padding:5px;border-radius:1px;transition:.4s;-o-transition:.4s;-moz-transition:.4s;-webkit-transition:.4s}.vis-item .vis-delete,.vis-item .vis-delete-rtl{position:absolute;top:0;width:24px;height:24px;box-sizing:border-box;padding:0 5px;cursor:pointer;-webkit-transition:background .2s linear;-moz-transition:background .2s linear;-ms-transition:background .2s linear;-o-transition:background .2s linear;transition:background .2s linear}.vis-item .vis-delete{right:-24px}.vis-item .vis-delete-rtl{left:-24px}.vis-item .vis-delete-rtl:after,.vis-item .vis-delete:after{content:"\\00D7";color:red;font-family:arial,sans-serif;font-size:22px;font-weight:700;-webkit-transition:color .2s linear;-moz-transition:color .2s linear;-ms-transition:color .2s linear;-o-transition:color .2s linear;transition:color .2s linear}.vis-item .vis-delete-rtl:hover,.vis-item .vis-delete:hover{background:red}.vis-item .vis-delete-rtl:hover:after,.vis-item .vis-delete:hover:after{color:#fff}.vis-item .vis-drag-center{position:absolute;width:100%;height:100%;top:0;left:0;cursor:move}.vis-item.vis-range .vis-drag-left{position:absolute;width:24px;max-width:20%;min-width:2px;height:100%;top:0;left:-4px;cursor:w-resize}.vis-item.vis-range .vis-drag-right{position:absolute;width:24px;max-width:20%;min-width:2px;height:100%;top:0;right:-4px;cursor:e-resize}.vis-range.vis-item.vis-readonly .vis-drag-left,.vis-range.vis-item.vis-readonly .vis-drag-right{cursor:auto}.vis-item.vis-cluster{vertical-align:center;text-align:center;border-style:solid;border-radius:2px}.vis-item.vis-cluster-line{padding:0;position:absolute;width:0;border-left-width:1px;border-left-style:solid}.vis-item.vis-cluster-dot{position:absolute;padding:0;border-width:4px;border-style:solid;border-radius:4px}.vis .overlay{position:absolute;top:0;left:0;width:100%;height:100%;z-index:10}.vis-active{box-shadow:0 0 10px #86d5f8}div.vis-configuration{position:relative;display:block;float:left;font-size:12px}div.vis-configuration-wrapper{display:block;width:700px}div.vis-configuration-wrapper::after{clear:both;content:"";display:block}div.vis-configuration.vis-config-option-container{display:block;width:495px;background-color:#fff;border:2px solid #f7f8fa;border-radius:4px;margin-top:20px;left:10px;padding-left:5px}div.vis-configuration.vis-config-button{display:block;width:495px;height:25px;vertical-align:middle;line-height:25px;background-color:#f7f8fa;border:2px solid #ceced0;border-radius:4px;margin-top:20px;left:10px;padding-left:5px;cursor:pointer;margin-bottom:30px}div.vis-configuration.vis-config-button.hover{background-color:#4588e6;border:2px solid #214373;color:#fff}div.vis-configuration.vis-config-item{display:block;float:left;width:495px;height:25px;vertical-align:middle;line-height:25px}div.vis-configuration.vis-config-item.vis-config-s2{left:10px;background-color:#f7f8fa;padding-left:5px;border-radius:3px}div.vis-configuration.vis-config-item.vis-config-s3{left:20px;background-color:#e4e9f0;padding-left:5px;border-radius:3px}div.vis-configuration.vis-config-item.vis-config-s4{left:30px;background-color:#cfd8e6;padding-left:5px;border-radius:3px}div.vis-configuration.vis-config-header{font-size:18px;font-weight:700}div.vis-configuration.vis-config-label{width:120px;height:25px;line-height:25px}div.vis-configuration.vis-config-label.vis-config-s3{width:110px}div.vis-configuration.vis-config-label.vis-config-s4{width:100px}div.vis-configuration.vis-config-colorBlock{top:1px;width:30px;height:19px;border:1px solid #444;border-radius:2px;padding:0;margin:0;cursor:pointer}input.vis-configuration.vis-config-checkbox{left:-5px}input.vis-configuration.vis-config-rangeinput{position:relative;top:-5px;width:60px;padding:1px;margin:0;pointer-events:none}input.vis-configuration.vis-config-range{-webkit-appearance:none;border:0 solid #fff;background-color:rgba(0,0,0,0);width:300px;height:20px}input.vis-configuration.vis-config-range::-webkit-slider-runnable-track{width:300px;height:5px;background:#dedede;background:-moz-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#dedede),color-stop(99%,#c8c8c8));background:-webkit-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:-o-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:-ms-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:linear-gradient(to bottom,#dedede 0,#c8c8c8 99%);border:1px solid #999;box-shadow:#aaa 0 0 3px 0;border-radius:3px}input.vis-configuration.vis-config-range::-webkit-slider-thumb{-webkit-appearance:none;border:1px solid #14334b;height:17px;width:17px;border-radius:50%;background:#3876c2;background:-moz-linear-gradient(top,#3876c2 0,#385380 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#3876c2),color-stop(100%,#385380));background:-webkit-linear-gradient(top,#3876c2 0,#385380 100%);background:-o-linear-gradient(top,#3876c2 0,#385380 100%);background:-ms-linear-gradient(top,#3876c2 0,#385380 100%);background:linear-gradient(to bottom,#3876c2 0,#385380 100%);box-shadow:#111927 0 0 1px 0;margin-top:-7px}input.vis-configuration.vis-config-range:focus{outline:0}input.vis-configuration.vis-config-range:focus::-webkit-slider-runnable-track{background:#9d9d9d;background:-moz-linear-gradient(top,#9d9d9d 0,#c8c8c8 99%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#9d9d9d),color-stop(99%,#c8c8c8));background:-webkit-linear-gradient(top,#9d9d9d 0,#c8c8c8 99%);background:-o-linear-gradient(top,#9d9d9d 0,#c8c8c8 99%);background:-ms-linear-gradient(top,#9d9d9d 0,#c8c8c8 99%);background:linear-gradient(to bottom,#9d9d9d 0,#c8c8c8 99%)}input.vis-configuration.vis-config-range::-moz-range-track{width:300px;height:10px;background:#dedede;background:-moz-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#dedede),color-stop(99%,#c8c8c8));background:-webkit-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:-o-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:-ms-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:linear-gradient(to bottom,#dedede 0,#c8c8c8 99%);border:1px solid #999;box-shadow:#aaa 0 0 3px 0;border-radius:3px}input.vis-configuration.vis-config-range::-moz-range-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#385380}input.vis-configuration.vis-config-range:-moz-focusring{outline:1px solid #fff;outline-offset:-1px}input.vis-configuration.vis-config-range::-ms-track{width:300px;height:5px;background:0 0;border-color:transparent;border-width:6px 0;color:transparent}input.vis-configuration.vis-config-range::-ms-fill-lower{background:#777;border-radius:10px}input.vis-configuration.vis-config-range::-ms-fill-upper{background:#ddd;border-radius:10px}input.vis-configuration.vis-config-range::-ms-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#385380}input.vis-configuration.vis-config-range:focus::-ms-fill-lower{background:#888}input.vis-configuration.vis-config-range:focus::-ms-fill-upper{background:#ccc}.vis-configuration-popup{position:absolute;background:rgba(57,76,89,.85);border:2px solid #f2faff;line-height:30px;height:30px;width:150px;text-align:center;color:#fff;font-size:14px;border-radius:4px;-webkit-transition:opacity .3s ease-in-out;-moz-transition:opacity .3s ease-in-out;transition:opacity .3s ease-in-out}.vis-configuration-popup:after,.vis-configuration-popup:before{left:100%;top:50%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}.vis-configuration-popup:after{border-color:rgba(136,183,213,0);border-left-color:rgba(57,76,89,.85);border-width:8px;margin-top:-8px}.vis-configuration-popup:before{border-color:rgba(194,225,245,0);border-left-color:#f2faff;border-width:12px;margin-top:-12px}div.vis-tooltip{position:absolute;visibility:hidden;padding:5px;white-space:nowrap;font-family:verdana;font-size:14px;color:#000;background-color:#f5f4ed;-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;border:1px solid #808074;box-shadow:3px 3px 10px rgba(0,0,0,.2);pointer-events:none;z-index:5}.vis-item.other{background-color:var(--primary-custom-activity-color, #7f8c8d);border-color:var(--secondary-custom-activity-color, #424242)}.vis-item.work{background-color:var(--primary-work-color, #d0000d);border-color:var(--secondary-work-color, #b92602)}.vis-item.available{background-color:var(--primary-available-color, #e67d20);border-color:var(--secondary-available-color, #c25c03)}.vis-item.drive{background-color:var(--primary-drive-color, #01599d);border-color:var(--secondary-drive-color, #023d69)}.vis-item.rest{background-color:var(--primary-rest-color, #2f7f33);border-color:var(--secondary-rest-color, #16721b)}.vis-item.rest15m{background:linear-gradient(90deg, var(--light-rest-color, #67ac6a) 50%, var(--primary-rest-color, #2f7f33) 50%);background-size:10px 10px;border-color:var(--secondary-rest-color, #16721b)}.vis-item.rest45m{background:linear-gradient(\n        135deg,\n        var(--light-rest-color, #67ac6a) 25%,\n        var(--primary-rest-color, #2f7f33) 25%,\n        var(--primary-rest-color, #2f7f33) 50%,\n        var(--light-rest-color, #67ac6a) 50%,\n        var(--light-rest-color, #67ac6a) 75%,\n        var(--primary-rest-color, #2f7f33) 75%\n    );background-size:10px 10px;border-color:var(--secondary-rest-color, #16721b)}.vis-item.rest9h{background:linear-gradient(\n        180deg,\n        var(--light-rest-color, #67ac6a) 25%,\n        var(--primary-rest-color, #2f7f33) 25%,\n        var(--primary-rest-color, #2f7f33) 50%,\n        var(--light-rest-color, #67ac6a) 50%,\n        var(--light-rest-color, #67ac6a) 75%,\n        var(--primary-rest-color, #2f7f33) 75%\n    );background-size:10px 10px;background-color:var(--primary-rest-color, #2f7f33);border-color:var(--secondary-rest-color, #16721b)}.vis-item.resource-odd{height:5px;background:rgb(246, 234, 54)}.vis-item.resource-even{height:5px;background:rgb(165, 49, 241)}.vis-item.start,.vis-item.end{color:var(--primary-color, #921a1d);background-color:white;font-size:22px;z-index:2;border-color:var(--primary-color-shade, #7a1a1e)}.vis-item.start-green,.vis-item.end-green{color:green;background-color:white;font-size:22px;z-index:2;border-color:green}.icon-timeline{width:1.1em;height:1.1em;overflow:hidden;fill:var(--primary-color, #921a1d)}.icon-timeline-green{width:1.1em;height:1.1em;overflow:hidden;fill:green}.vis-item.drive.allMode{height:55px}.vis-item.work.allMode{height:40px}.vis-item.other{height:70px;z-index:10}.vis-item.rest.allMode{height:22px}.vis-item.rest15m.allMode{height:22px}.vis-item.rest45m.allMode{height:22px}.vis-item.rest9h.allMode{height:22px}.vis-item.available.allMode{height:28px}.vis-range{border-radius:0px !important}.intervalBar.vis-selected{z-index:3;background-color:rgba(255, 196, 0, 0.4)}.intervalBar{z-index:3;background-color:rgba(var(--primary-color-rgba, 146, 26, 29), 0.4);border-color:var(--primary-color, #921a1d)}.customTimeEvent{width:8px}.vis-item{cursor:pointer}.eventSelect{border:5px solid black !important}.vis-item.available.modified{background:repeating-linear-gradient(\n        60deg,\n        white,\n        white 3px,\n        var(--primary-available-color, #e67d20) 3px,\n        var(--primary-available-color, #e67d20) 10px\n    ) !important}.vis-item.work.modified{background:repeating-linear-gradient(\n        60deg,\n        white,\n        white 3px,\n        var(--primary-work-color, #d0000d) 3px,\n        var(--primary-work-color, #d0000d) 10px\n    ) !important}.vis-item.drive.modified{background:repeating-linear-gradient(\n        60deg,\n        white,\n        white 3px,\n        var(--primary-drive-color, #01599d) 3px,\n        var(--primary-drive-color, #01599d) 10px\n    ) !important}.vis-item.rest.modified,.vis-item.rest15m.modified,.vis-item.rest45m.modified,.vis-item.rest9h.modified{background:repeating-linear-gradient(\n        60deg,\n        white,\n        white 3px,\n        var(--primary-rest-color, #2f7f33) 3px,\n        var(--primary-rest-color, #2f7f33) 10px\n    ) !important}.vis-item.other.modified{background:repeating-linear-gradient(\n        60deg,\n        white,\n        white 3px,\n        var(--primary-custom-activity-color, #7f8c8d) 3px,\n        var(--primary-custom-activity-color, #7f8c8d) 10px\n    ) !important}.periodTextParent{position:relative;z-index:3;height:24px}.periodTextStart{position:absolute;right:35px;top:-4px;font-size:12px;z-index:-1}.periodTextStop{position:absolute;left:35px;top:14px;font-size:12px;z-index:-1}.duration{font-size:12px;color:#ffffff;font-weight:bold}.actionBar{position:absolute;right:0;z-index:10;background-color:whitesmoke;border-radius:5px;border:1px solid rgb(192, 192, 192)}.actionBar button{background-color:transparent;color:black;padding:4px 2px;border:0px solid transparent}.vis-label .vis-inner{height:80px}.note-0{color:black;top:-35px;font-size:12px}.note-1{color:black;top:-52px;font-size:12px}.vis-item.drive.supposed{background:linear-gradient(\n        45deg,\n        var(--primary-drive-color, #01599d) 1%,\n        rgba(var(--primary-drive-rgba, 1, 89, 157), 0.4) 1%,\n        rgba(var(--primary-drive-rgba, 1, 89, 157), 0.4) 49%,\n        var(--primary-drive-color, #01599d) 49%,\n        var(--primary-drive-color, #01599d) 51%,\n        rgba(var(--primary-drive-rgba, 1, 89, 157), 0.4) 51%,\n        rgba(var(--primary-drive-rgba, 1, 89, 157), 0.4) 99%,\n        var(--primary-drive-color, #01599d) 99%\n    );background-size:6px 6px;background-position:50px 50px}.vis-item.work.supposed{background:linear-gradient(\n        45deg,\n        var(--primary-work-color, #d0000d) 1%,\n        rgba(var(--primary-work-rgba, 208, 0, 13), 0.4) 1%,\n        rgba(var(--primary-work-rgba, 208, 0, 13), 0.4) 49%,\n        var(--primary-work-color, #d0000d) 49%,\n        var(--primary-work-color, #d0000d) 51%,\n        rgba(var(--primary-work-rgba, 208, 0, 13), 0.4) 51%,\n        rgba(var(--primary-work-rgba, 208, 0, 13), 0.4) 99%,\n        var(--primary-work-color, #d0000d) 99%\n    );background-size:6px 6px;background-position:50px 50px}.vis-item.available.supposed{background:linear-gradient(\n        45deg,\n        var(--primary-available-color, #e67d20) 1%,\n        rgba(var(--primary-available-rgba, 230, 125, 32), 0.4) 1%,\n        rgba(var(--primary-available-rgba, 230, 125, 32), 0.4) 49%,\n        var(--primary-available-color, #e67d20) 49%,\n        var(--primary-available-color, #e67d20) 51%,\n        rgba(var(--primary-available-rgba, 230, 125, 32), 0.4) 51%,\n        rgba(var(--primary-available-rgba, 230, 125, 32), 0.4) 99%,\n        var(--primary-available-color, #e67d20) 99%\n    );background-size:6px 6px;background-position:50px 50px}.vis-item.rest.supposed{background:linear-gradient(\n        45deg,\n        var(--primary-rest-color, #2f7f33) 1%,\n        rgba(var(--primary-rest-rgba, 47, 127, 51), 0.4) 1%,\n        rgba(var(--primary-rest-rgba, 47, 127, 51), 0.4) 49%,\n        var(--primary-rest-color, #2f7f33) 49%,\n        var(--primary-rest-color, #2f7f33) 51%,\n        rgba(var(--primary-rest-rgba, 47, 127, 51), 0.4) 51%,\n        rgba(var(--primary-rest-rgba, 47, 127, 51), 0.4) 99%,\n        var(--primary-rest-color, #2f7f33) 99%\n    );background-size:6px 6px;background-position:50px 50px}.activity-modified-chronology{background:linear-gradient(\n        45deg,\n        #fff 12.5%,\n        rgba(255, 191, 112, 0.5) 12.5%,\n        rgba(255, 191, 112, 0.5) 37.5%,\n        #fff 37.5%,\n        #fff 62.5%,\n        rgba(255, 191, 112, 0.5) 62.5%,\n        rgba(255, 191, 112, 0.5) 87.5%,\n        #fff 87.5%\n    );background-size:100px 100px;background-position:50px 50px}.activity-modified-legalfiles{background:linear-gradient(\n        45deg,\n        #fff 12.5%,\n        rgba(0, 128, 0, 0.5) 12.5%,\n        rgba(0, 128, 0, 0.5) 37.5%,\n        #fff 37.5%,\n        #fff 62.5%,\n        rgba(0, 128, 0, 0.5) 62.5%,\n        rgba(0, 128, 0, 0.5) 87.5%,\n        #fff 87.5%\n    );background-size:100px 100px;background-position:50px 50px}.activity-modified-autocorrect{background:linear-gradient(\n        45deg,\n        #fff 12.5%,\n        rgba(128, 128, 128, 0.5) 12.5%,\n        rgba(128, 128, 128, 0.5) 37.5%,\n        #fff 37.5%,\n        #fff 62.5%,\n        rgba(128, 128, 128, 0.5) 62.5%,\n        rgba(128, 128, 128, 0.5) 87.5%,\n        #fff 87.5%\n    );background-size:100px 100px;background-position:50px 50px}.toolipCorrection{visibility:hidden;color:rgb(0, 0, 0);border:1px solid black;background-color:rgb(255, 255, 255);border-radius:6px;padding:5px;font-size:11px;position:absolute;z-index:1000;display:flex;flex-wrap:wrap;max-width:230px}.tooltipCorrectif{color:darkred;font-size:11px}.tooltipCorrectif h4{margin:0;font-size:12px}.toolipCorrection h4{margin:0;text-align:center;font-size:13px;text-transform:uppercase}.pointLastCom{border-color:#4CAF50}.lastComContent{font-size:12px}';const R=class{constructor(i){t(this,i);this.clickOnTimeline=e(this,"clickOnTimeline",7);this.doubleClickOnTimeline=e(this,"doubleClickOnTimeline",7);this.moveCustomBar=e(this,"moveCustomBar",7);this.changeCustomBar=e(this,"changeCustomBar",7);this.intervalChange=e(this,"intervalChange",7);this.startAndEndChange=e(this,"startAndEndChange",7);this.stackChange=e(this,"stackChange",7);this.periods=[];this.notes=[];this.lastLegalFileEvent=null;this.lastCommunications=null;this.stack=true;this.haveCustomBar=false;this.haveIntervalBar=false;this.annotated=false;this.actionBar=false;this.firstLoad=true;this.backgrounds=[];this.periodFlags=[];this.lastCommunicationsItems=[];this.toHHMMSS=d;this.prettyDate=l;this.separateHundredWithSpace=v;this.log=o("s3pChart:timeline");this.rangechanged=M;this.click=S;this.setPeriodFlags=T;this.addActivityOnTimeline=E;this.setPeriodActivities=z;this.addActivityOther=Y;this.addSupposedActivity=A;this.getActivityOutsideVehicle=L;this.setPeriodResources=I;this.setLastCommunications=H;this.setNotes=N;this.doubleClick=j;this.mouseOver=F;this.resourcesUrl=n(this,"resourcesUrl")}async componentDidLoad(){await this.initialization();await this.setItems(false)}async componentWillLoad(){this.i18n=new p(this.el);await this.i18n.load(this.resourcesUrl)}async initialization(){this.options={editable:{add:false,updateTime:true,updateGroup:false,remove:false,overrideItems:false},onMove:(t,i)=>{let e;if(t.start<t.end){e=this.setMilleageDiff(t.start,t.end)}if(e&&e.diff&&e.end&&e.start){t.content=e.diff;if(e.start.ts!==e.end.ts){t.start=e.start.ts;t.end=e.end.ts}}else{t.content="???"}if(new Date(t.start).valueOf()>=new Date(t.end).valueOf()){t.end=new Date(new Date(t.start).setMinutes(new Date(t.start).getMinutes()+10))}this.intervalChange.emit({start:t.start,end:t.end});i(t)},selectable:true,stack:false,stackSubgroups:this.stack,locale:"fr",align:"center"};this.setGroup();this.timeline=new D.Timeline(this.timelineElement,new D.DataSet([]),this.options,this.groups);this.timeline.on("rangechanged",(t=>this.rangechanged(t,this.periods)));this.timeline.on("click",(t=>this.click(t)));this.timeline.on("doubleClick",(t=>this.doubleClick(t)));this.timeline.on("mouseOver",(t=>this.mouseOver(t)));this.timelineElement.addEventListener("mouseleave",(()=>{this.tooltipElement.style.visibility="hidden";this.tooltipElement.innerHTML=""}))}async setItems(t){let i=[];this.backgrounds=[];if(typeof this.periods==="string"){this.periods=JSON.parse(this.periods)}this.log("periods in setItems",this.periods);this.log("events in setItems",this.events);if(this.periods[0]){this.periodFlags=this.setPeriodFlags(this.periods,this.lastLegalFileEvent)}if(this.lastCommunications&&this.lastCommunications.length){this.lastCommunicationsItems=this.setLastCommunications(this.lastCommunications)}if(typeof this.events==="string"){this.events=JSON.parse(this.events)}i=i.concat(this.setPeriodActivities());if(this.notes&&this.notes[0]){i=i.concat(this.setNotes(this.notes))}if(this.events&&this.events[0]){if(this.pairVehicleDriver){i=i.concat(this.setPeriodResources(this.pairVehicleDriver,this.resourceType))}let e;if(this.display_start&&this.display_end){e=(new Date(this.display_end).valueOf()+new Date(this.display_start).valueOf())/2}if(i[0]&&i[0].start&&i[i.length-1]&&i[i.length-1].end){if(!e){e=(new Date(i[0].start).valueOf()+new Date(i[i.length-1].end).valueOf())/2}}if(this.periodFlags){i=i.concat(this.periodFlags)}if(this.lastCommunicationsItems){i=i.concat(this.lastCommunicationsItems)}this.dataSet=i;this.items=new D.DataSet(i);this.setStartAndEndOnTimeline();this.timeline.setItems(this.items);this.log("data in initialization",i);let n;switch(this.barPosition){case"left":n=new Date(new Date(this.display_start).setMinutes(new Date(this.display_start).getMinutes()+30));break;case"middle":n=e;break;case"right":n=new Date(new Date(this.display_end).setMinutes(new Date(this.display_end).getMinutes()-30));break;default:n=new Date(new Date(this.display_start).setMinutes(new Date(this.display_start).getMinutes()+30));break}this.setCustomBar(n);if(t){this.rangechanged({start:this.display_start,end:this.display_end},this.periods)}}}setMilleageDiff(t,i){let e=this.events;e.sort(((t,i)=>{if(new Date(t.ts).valueOf()<new Date(i.ts).valueOf()){return-1}if(new Date(t.ts).valueOf()>new Date(i.ts).valueOf()){return 1}return 0}));let n,r;let s,o;for(let a of Object.keys(e)){const u=Math.abs(new Date(e[a].ts).valueOf()-new Date(t).valueOf());const h=Math.abs(new Date(e[a].ts).valueOf()-new Date(i).valueOf());if(e[a].mileage&&(s==null||s>u)){s=Math.abs(new Date(e[a].ts).valueOf()-new Date(t).valueOf());n=e[a]}if(e[a].mileage&&(o==null||o>h)){o=Math.abs(new Date(e[a].ts).valueOf()-new Date(i).valueOf());r=e[a]}}let a;if(r&&r.mileage&&n&&n.mileage){a=r.mileage-n.mileage;a=(Math.round(a*100)/100).toString()+"km"}this.log("mileage in setMilleageDiff",a);this.log("eventStart in setMilleageDiff",n);this.log("eventEnd in setMilleageDiff",r);return{diff:a,start:n,end:r}}setIntervalBar(t,i){this.log("start in setIntervalBar",t);this.log("end in setIntervalBar",i);const e=this.setMilleageDiff(t,i);return{id:"intervalBarItem",content:e&&e.diff?e.diff:"???",className:"intervalBar",start:e&&e.start&&e.start.ts?e.start.ts:t,end:e&&e.end&&e.end.ts?e.end.ts:i,group:"start"}}setCustomBar(t){if(this.haveCustomBar){try{this.timeline.setCustomTime(new Date(t),"customTimeEvent")}catch(i){this.timeline.addCustomTime(new Date(t),"customTimeEvent")}this.timeline.on("timechange",(t=>{let i;for(let e of Object.keys(this.dataSet)){let n=this.dataSet[e];if(n.start<t.time&&n.end>t.time&&n.event&&n.event.activity&&n.event.activity!=="D"){i=n}}if(i){this.moveCustomBar.emit(t.time)}}));this.timeline.on("timechanged",(t=>{this.changeCustomBar.emit(t.time)}))}else{try{this.timeline.removeCustomTime("customTimeEvent")}catch(t){}}}setGroup(){this.groups=new D.DataSet([{id:"lastCommunication",content:"",visible:this.lastCommunications&&this.lastCommunications.length?true:false,className:"lastCommunication"},{id:"start",content:"",visible:true,className:"groupPeriod"},{id:"all",content:"",visible:this.stack?false:true},{id:"bar",content:"",subgroupOrder:function(t,i){return t.subgroupOrder-i.subgroupOrder},visible:this.stack?true:false,subgroupStack:{1:true,2:true,3:true,4:true}}])}async toggleAnnoted(){let t=this.timeline.getWindow();this.annotated=!this.annotated;this.display_start=t.start;this.display_end=t.end;this.setItems(false)}async setZoomIn(t=.2){this.log("zoomIn in setZoomIn",t);this.timeline.zoomIn(t)}async setZoomOut(t=.2){this.log("zoomOut in setZoomOut",t);this.timeline.zoomOut(t)}async setStack(t){let i=this.timeline.getWindow();this.stack=t;this.options.stackSubgroups=t;let e=["all","bar"];for(let t of e){this.groups.update({id:t,visible:!this.groups.get(t).visible})}this.options["start"]=new Date(i.start);this.options["end"]=new Date(i.end);this.timeline.setGroups(this.groups);this.timeline.setOptions(this.options);this.timeline.redraw();localStorage.setItem("timeGroup",`${this.stack}`);this.stackChange.emit(this.stack)}async moveRight(){this.move(-.2)}async moveLeft(){this.move(.2)}move(t){let i=this.timeline.getWindow();let e=i.end-i.start;this.timeline.setWindow({start:i.start.valueOf()-e*t,end:i.end.valueOf()-e*t})}async updateStartAndEnd(t,i){this.display_start=t;this.display_end=i;this.setStartAndEndOnTimeline()}setStartAndEndOnTimeline(){if(this.display_start){this.options["start"]=this.display_start}if(this.display_end){this.options["end"]=this.display_end}this.timeline.setOptions(this.options)}async updatePeriodAndEvent(t,i,e,n){this.firstLoad=true;this.log("lastEvent_end in updatePeriodAndEvent",e);this.log("events in updatePeriodAndEvent",t);this.log("periods in updatePeriodAndEvent",i);this.log("lastCommunications in updatePeriodAndEvent",n);if(this.periodFlags){this.log("initialization periodFlags in updatePeriodAndEvent");this.periodFlags=[]}this.events=t;this.periods=i;this.lastEvent_end=e;this.lastCommunications=n;this.groups.update({id:"lastCommunication",visible:this.lastCommunications&&this.lastCommunications.length?true:false});this.timeline.setGroups(this.groups);this.timeline.redraw();this.setItems(true)}render(){return r("div",{class:"s3pChartComponent",ref:t=>this.componentElement=t},r("div",{class:"toolipCorrection",ref:t=>this.tooltipElement=t}),this.actionBar?r("div",{class:"actionBar"},r("button",{onClick:()=>this.setZoomIn()},r("s3p-icon-v2",{name:"add",size:"small",center:true})),r("button",{onClick:()=>this.setZoomOut()},r("s3p-icon-v2",{name:"remove",size:"small",center:true})),r("button",{onClick:()=>this.moveLeft()},r("s3p-icon-v2",{name:"play-skip-back",size:"small",center:true})),r("button",{onClick:()=>this.moveRight()},r("s3p-icon-v2",{name:"play-skip-forward",size:"small",center:true})),r("button",{onClick:()=>this.toggleAnnoted()},r("s3p-icon-v2",{name:this.annotated?"bookmark":"bookmark",size:"small",center:true})),r("button",{onClick:()=>this.setStack(!this.stack)},r("s3p-icon-v2",{name:!this.stack?"caret-down":"caret-up",size:"small",center:true}))):"",r("div",{id:"timeline",ref:t=>this.timelineElement=t}),r("div",{class:"load-icon"},r("svg",{xmlns:"http://www.w3.org/2000/svg"},r("symbol",{id:"arrival",viewBox:"0 0 1792 1792"},r("path",{d:"M832 1000v-192q-181 16-384 117v185q205-96 384-110zm0-418v-197q-172 8-384 126v189q215-111 384-118zm832 463v-184q-235 116-384 71v-224q-20-6-39-15-5-3-33-17t-34.5-17-31.5-15-34.5-15.5-32.5-13-36-12.5-35-8.5-39.5-7.5-39.5-4-44-2q-23 0-49 3v222h19q102 0 192.5 29t197.5 82q19 9 39 15v188q42 17 91 17 120 0 293-92zm0-427v-189q-169 91-306 91-45 0-78-8v196q148 42 384-90zm-1344-362q0 35-17.5 64t-46.5 46v1266q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-1266q-29-17-46.5-46t-17.5-64q0-53 37.5-90.5t90.5-37.5 90.5 37.5 37.5 90.5zm1472 64v763q0 39-35 57-10 5-17 9-218 116-369 116-88 0-158-35l-28-14q-64-33-99-48t-91-29-114-14q-102 0-235.5 44t-228.5 102q-15 9-33 9-16 0-32-8-32-19-32-56v-742q0-35 31-55 35-21 78.5-42.5t114-52 152.5-49.5 155-19q112 0 209 31t209 86q38 19 89 19 122 0 310-112 22-12 31-17 31-16 62 2 31 20 31 55z"})),r("symbol",{id:"play",viewBox:"0 0 512 512"},r("path",{d:"M256 464c114.875 0 208-93.125 208-208S370.875 48 256 48 48 141.125 48 256s93.125 208 208 208zm-32-112V160l96 96-96 96z"})))))}get el(){return s(this)}};R.style=P;export{w as s3p_add_custom_activity,x as s3p_tabs_v2,R as s3p_timeline};
//# sourceMappingURL=p-bd615569.entry.js.map